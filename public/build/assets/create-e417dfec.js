import{v as e}from"./index-f79e0146.js";import"./use-meta-04c4be92.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as C}from"./file-upload-with-preview.esm-03fb8eae.js";import{q as w}from"./vue3-quill-562f55e1.js";import{u as D}from"./solutions-00b6b681.js";import{u as L}from"./categories-fe0f0236.js";import{d as g,u as F,a as s}from"./vee-validate-b79f0e91.js";import{r as I,m as P}from"./rules-2d323bf3.js";import"./_commonjsHelpers-23102255.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-c9998560.js";const q={class:"container"},M={class:"container"},U={class:"row"},T={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},j={class:"statbox panel box box-shadow"},A={class:"panel-body"},R={class:"row"},W={class:"form-group col-md-4"},X={class:"text-danger mt-1"},Z={class:"text-danger mt-1"},z={class:"form-group col-md-8"},G={class:"text-danger mt-1"},H={class:"text-danger mt-1"},J={class:"form-group"},K={class:"text-danger mt-1"},O={class:"text-danger mt-1"},Q={class:"form-group"},Y={class:"custom-file-container","data-upload-id":"myFirstImage"},$={class:"custom-file-container__custom-file",for:"main_image"},ee={class:"form-group col-md-4"},te={class:"text-danger mt-1"},oe={class:"text-danger mt-1"},le=["disabled"],ne={class:""},ae={key:0},re={key:1},Se={__name:"create",setup(se){g("required",I),g("min",P);const _={name:"required|min:3",solution_category:"required",description:"required|min:3",is_published:"required"},{validate:E,errors:a}=F({validationSchema:_}),{value:v}=s("name",null,{initialValue:""}),{value:V}=s("solution_category",null,{initialValue:""}),{value:f}=s("description",null,{initialValue:""}),{value:b}=s("is_published",null,{initialValue:""}),{storeSolution:N,validationErrors:r,isLoading:i,getProductList:ie,solutionList:de}=D(),{getCategoryList:ce,categoryList:y,getMainCategoryList:h,categoryMainList:k,getSelectedCategoryList:S}=L(),l=e.reactive({name:v,solution_category:V,description:f,is_published:b,main_image:""}),B=e.ref({modules:{}});e.watch(l,n=>{if(n.solution_category){const t=n.solution_category.id;n.solution_category&&S(t)}});function x(){E().then(n=>{if(n.valid){const t="";l.solution_category&&l.solution_category.id?l.solution_category=l.solution_category.id:l.solution_category=null,N(l,t)}})}return e.onMounted(()=>{h(),new C("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),(n,t)=>{var c,m,u,p;const d=e.resolveComponent("multiselect");return e.openBlock(),e.createElementBlock("div",q,[(e.openBlock(),e.createBlock(e.Teleport,{to:"#breadcrumb"},[t[6]||(t[6]=e.createElementVNode("ul",{class:"navbar-nav flex-row"},[e.createElementVNode("li",null,[e.createElementVNode("div",{class:"page-header"},[e.createElementVNode("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e.createElementVNode("ol",{class:"breadcrumb"},[e.createElementVNode("li",{class:"breadcrumb-item"},[e.createElementVNode("a",{href:"javascript:;"},"Products")]),e.createElementVNode("li",{class:"breadcrumb-item active","aria-current":"page"},[e.createElementVNode("span",null,"Create Product")])])])])])],-1))])),e.createElementVNode("div",M,[e.createElementVNode("div",U,[e.createElementVNode("div",T,[e.createElementVNode("div",j,[t[17]||(t[17]=e.createElementVNode("div",{class:"panel-heading pb-0"},[e.createElementVNode("div",{class:"row"},[e.createElementVNode("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e.createElementVNode("h3",null,[e.createElementVNode("b",null,"Create Solution")])])])],-1)),e.createElementVNode("div",A,[e.createElementVNode("form",{onSubmit:e.withModifiers(x,["prevent"])},[e.createElementVNode("div",R,[e.createElementVNode("div",W,[t[7]||(t[7]=e.createElementVNode("label",{for:"post-name"},"Solution Category",-1)),e.createVNode(d,{modelValue:l.solution_category,"onUpdate:modelValue":t[0]||(t[0]=o=>l.solution_category=o),options:e.unref(k),reduce:o=>o.id,searchable:!0,"preselect-first":!0,"track-by":"name",label:"name",placeholder:"Choose Solution Category ...","selected-label":"","select-label":"","deselect-label":"",onInput:n.onSolutionCategoryChange},null,8,["modelValue","options","reduce","onInput"]),e.createElementVNode("div",X,e.toDisplayString(e.unref(a).solution_category),1),e.createElementVNode("div",Z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((c=e.unref(r))==null?void 0:c.brand,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])]),e.createElementVNode("div",z,[t[8]||(t[8]=e.createElementVNode("label",{for:"post-name"},"Solution Name",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-name","onUpdate:modelValue":t[1]||(t[1]=o=>l.name=o),type:"text",class:"form-control",placeholder:"Enter Solution Name ..."},null,512),[[e.vModelText,l.name]]),e.createElementVNode("div",G,e.toDisplayString(e.unref(a).name),1),e.createElementVNode("div",H,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((m=e.unref(r))==null?void 0:m.name,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])]),e.createElementVNode("div",J,[t[9]||(t[9]=e.createElementVNode("label",{for:"post-category",class:"form-label"},"Select Product Category",-1)),e.createVNode(d,{modelValue:l.categories,"onUpdate:modelValue":t[2]||(t[2]=o=>l.categories=o),options:e.unref(y),reduce:o=>o.id,multiple:!0,taggable:!0,searchable:!0,"preselect-first":!0,"track-by":"id",label:"parent_name_with_dashes",placeholder:"Choose Product Category ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e.createElementVNode("div",K,e.toDisplayString(e.unref(a).categories),1),e.createElementVNode("div",O,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((u=e.unref(r))==null?void 0:u.categories,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])]),e.createElementVNode("div",Q,[t[10]||(t[10]=e.createElementVNode("label",{for:"post_description"},"Solution Description",-1)),e.createVNode(e.unref(w),{value:l.description,"onUpdate:value":t[3]||(t[3]=o=>l.description=o),options:B.value,placeholder:"Enter Description ..."},null,8,["value","options"])]),e.createElementVNode("div",Y,[t[13]||(t[13]=e.createElementVNode("label",null,[e.createTextVNode("Solution Image "),e.createElementVNode("small",null,"(image should be 1:1)"),e.createTextVNode(),e.createElementVNode("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e.createElementVNode("label",$,[e.createElementVNode("input",{id:"main_image",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:t[4]||(t[4]=o=>l.main_image=o.target.files[0])},null,32),t[11]||(t[11]=e.createElementVNode("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[12]||(t[12]=e.createElementVNode("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[14]||(t[14]=e.createElementVNode("div",{class:"custom-file-container__image-preview"},null,-1))]),e.createElementVNode("div",ee,[t[16]||(t[16]=e.createElementVNode("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e.createElementVNode("div",null,[e.withDirectives(e.createElementVNode("select",{id:"is_published","onUpdate:modelValue":t[5]||(t[5]=o=>l.is_published=o),class:"form-select"},t[15]||(t[15]=[e.createElementVNode("option",{value:""}," Select Publishing Status ... ",-1),e.createElementVNode("option",{selected:"",value:"1"}," Published ",-1),e.createElementVNode("option",{value:"0"}," Not Published ",-1)]),512),[[e.vModelSelect,l.is_published]])]),e.createElementVNode("div",te,e.toDisplayString(e.unref(a).is_published),1),e.createElementVNode("div",oe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((p=e.unref(r))==null?void 0:p.is_published,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])])]),e.createElementVNode("button",{disabled:e.unref(i),class:"btn btn-primary mt-3"},[e.withDirectives(e.createElementVNode("div",ne,null,512),[[e.vShow,e.unref(i)]]),e.unref(i)?(e.openBlock(),e.createElementBlock("span",ae,"Processing...")):(e.openBlock(),e.createElementBlock("span",re,"Save"))],8,le)],32)])])])])])])}}};export{Se as default};
