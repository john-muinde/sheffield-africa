import{z as c,ca as m,cr as n}from"./app-setting.92e7e52c.js";import{$ as v}from"./Modal.44289c65.js";function T(){const d=c([]),u=c([]),p=c({name:"",is_published:"",description:""}),i=m(),r=c({}),s=c(!1),f=async(e=1,t="",o="",a="",y="created_at",h="desc")=>{s.value=!0;try{const l=await n("get",`/api/brands?page=${e}&search_id=${t}&search_title=${o}&search_global=${a}&order_column=${y}&order_direction=${h}`);d.value=l,console.log(l)}catch(l){r.value=l}finally{s.value=!1}};return{brandList:u,brands:d,brand:p,getBrands:f,getBrandList:async()=>{try{const e=await n("get","/api/brand-list");u.value=e}catch(e){r.value=e}},getBrand:async e=>{s.value=!0;try{const t=await n("get",`/api/brands/${e}`);p.value=t}catch(t){r.value=t}finally{s.value=!1}},storeBrand:async e=>{if(s.value)return;s.value=!0,r.value={};let t=new FormData;for(let a in e)e.hasOwnProperty(a)&&t.append(a,e[a]);const o={headers:{"content-type":"multipart/form-data"}};try{await n("post","/api/brands",t,o),i.push({name:"brands.index"}),showToast("Brand created successfully","success"),e.name="",e.description="",e.main_image="",e.is_published=""}catch(a){r.value=a}finally{s.value=!1}},updateBrand:async e=>{if(s.value)return;s.value=!0,r.value={};let t=new FormData;for(let a in e)e.hasOwnProperty(a)&&t.append(a,e[a]);const o={headers:{"content-type":"multipart/form-data"}};t.append("_method","put");try{await n("post",`/api/brands/${e.id}`,t,o),i.push({name:"brands.index"}),showToast("Brand updated successfully","success")}catch(a){r.value=a}finally{s.value=!1}},deleteBrand:async e=>{v.confirm({title:"Are you sure?",content:"You won't be able to revert this action!",okText:"Yes, delete it!",okType:"danger",cancelText:"No, cancel",onOk(){n("delete",`/api/brands/${e}`).then(()=>{f(),i.push({name:"brands.index"}),showToast("Brand deleted successfully","success")})},onCancel(){console.log("Cancel")}})},validationErrors:r,isLoading:s}}export{T as u};
