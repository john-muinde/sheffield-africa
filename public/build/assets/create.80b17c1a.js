import{aa as x,ab as j,ac as u,P as A,x as D,y as X,o as l,c as i,a2 as R,a as e,W,p as c,X as V,t as n,u as a,F as _,g as m,i as Z,al as v,e as U,v as z,m as C,aq as G,ad as H,ae as J}from"./app-setting.fefad6ec.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as S}from"./file-upload-with-preview.esm.fbf56fa2.js";import{q as K}from"./vue3-quill.725ed0b4.js";import{u as O}from"./videos.fdbf98b7.js";import"./_commonjsHelpers.f037b798.js";const Q={class:"container"},$=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Video")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Create Video")])])])])])],-1),ee={class:"container"},te={class:"row"},oe={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},se={class:"statbox panel box box-shadow"},le=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Create Video")])])])],-1),ie={class:"panel-body"},ae=["onSubmit"],ne={class:"row"},de={class:"form-group col-md-12"},ue=e("label",{for:"post-name"},"Title",-1),ce={class:"text-danger mt-1"},re={class:"text-danger mt-1"},_e={class:"form-group"},me=e("label",{for:"post-content"}," Description",-1),pe={class:"custom-file-container","data-upload-id":"mySecondImage"},he=e("label",null,[C("Brand Logo (Must be image) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1),ve={class:"custom-file-container__custom-file",for:"main_image"},be=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),fe=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),ge=e("div",{class:"custom-file-container__image-preview"},null,-1),ye={class:"form-group"},we=e("label",{for:"post-category",class:"form-label"},"Type",-1),xe=e("option",{value:""},"Select Type",-1),Ve=e("option",{value:"Upload"},"Upload",-1),Ue=e("option",{value:"Youtube Url"},"Youtube Url",-1),Se=[xe,Ve,Ue],Ce={class:"text-danger mt-1"},Ie={class:"text-danger mt-1"},Fe={key:0,class:"custom-file-container","data-upload-id":"myFirstImage",ref:"uploadContainer"},Ee=e("label",null,[C("Upload Video (Must be mp4) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1),Pe={class:"custom-file-container__custom-file",for:"file_path"},Te=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),ke=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),qe=e("div",{class:"custom-file-container__image-preview"},null,-1),Le={key:1,class:"form-group col-md-12"},Me=e("label",{for:"post-name"},"Youtube Video Url",-1),Be={class:"text-danger mt-1"},Ye={class:"text-danger mt-1"},Ne={class:"form-group col-md-12"},je=e("label",{for:"is_published",class:"col-form-label"},"Shown in About Us",-1),Ae=e("option",{value:""}," Select Shown Status ... ",-1),De=e("option",{selected:"",value:"1"}," Shown ",-1),Xe=e("option",{value:"0"}," Not Shown ",-1),Re=[Ae,De,Xe],We={class:"text-danger mt-1"},Ze={class:"text-danger mt-1"},ze={class:"form-group col-md-12"},Ge=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1),He=e("option",{value:""}," Select Publishing Status ... ",-1),Je=e("option",{selected:"",value:"1"}," Published ",-1),Ke=e("option",{value:"0"}," Not Published ",-1),Oe=[He,Je,Ke],Qe={class:"text-danger mt-1"},$e={class:"text-danger mt-1"},et=["disabled"],tt={class:""},ot={key:0},st={key:1},ht={__name:"create",setup(lt){x("required",H),x("min",J);const I={name:"required|min:3",type:"required",is_published:"required"},{validate:F,errors:d}=j({validationSchema:I}),{value:E}=u("name",null,{initialValue:""}),{value:P}=u("type",null,{initialValue:""}),{value:T}=u("content",null,{initialValue:""});u("main_image",null,{initialValue:""}),u("file_path",null,{initialValue:""});const{value:k}=u("is_published",null,{initialValue:""}),{value:q}=u("shown_in_about_us",null,{initialValue:""}),{storeVideo:L,validationErrors:r,isLoading:h,getPublictionList:it,videoList:at}=O(),o=A({name:E,type:P,content:T,is_published:k,shown_in_about_us:q,main_image:"",file_path:""}),M=()=>{o.type==="Upload"&&(console.log("test"),new S("myFirstImage",{images:{baseImage:"/assets/images/video_preview.jpg",backgroundImage:""}}).appendTo(document.getElementById("uploadContainer")))},B=()=>{/^(https?:\/\/)?(www\.)?youtube\.com\/watch\?v=/i.test(o.video_url)?d.value.video_url=null:d.value.video_url="Please enter a valid YouTube Video URL in the format https://www.youtube.com/watch?v="},Y=D({modules:{}});function N(){console.log(o),F().then(p=>{p.valid&&L(o)})}return X(()=>{new S("mySecondImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),(p,s)=>{var b,f,g,y,w;return l(),i("div",Q,[(l(),R(G,{to:"#breadcrumb"},[$])),e("div",ee,[e("div",te,[e("div",oe,[e("div",se,[le,e("div",ie,[e("form",{onSubmit:W(N,["prevent"])},[e("div",ne,[e("div",de,[ue,c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.name=t),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Title ..."},null,512),[[V,o.name]]),e("div",ce,n(a(d).name),1),e("div",re,[(l(!0),i(_,null,m((b=a(r))==null?void 0:b.name,t=>(l(),i("div",null,n(t),1))),256))])]),e("div",_e,[me,Z(a(K),{value:o.content,"onUpdate:value":s[1]||(s[1]=t=>o.content=t),options:Y.value,placeholder:"Enter Blog Content ..."},null,8,["value","options"])]),e("div",pe,[he,e("label",ve,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/jpeg, image/png",onChange:s[2]||(s[2]=t=>o.main_image=t.target.files[0]),id:"main_image"},null,32),be,fe]),ge]),e("div",ye,[we,c(e("select",{class:"form-select form-control",name:"type",id:"type","onUpdate:modelValue":s[3]||(s[3]=t=>o.type=t),onChange:M},Se,544),[[v,o.type]]),e("div",Ce,n(a(d).type),1),e("div",Ie,[(l(!0),i(_,null,m((f=a(r))==null?void 0:f.type,t=>(l(),i("div",null,n(t),1))),256))])]),o.type=="Upload"?(l(),i("div",Fe,[Ee,e("label",Pe,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"video/mp4",onChange:s[4]||(s[4]=t=>o.file_path=t.target.files[0]),id:"file_path"},null,32),Te,ke]),qe],512)):U("",!0),o.type=="Youtube Url"?(l(),i("div",Le,[Me,c(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>o.video_url=t),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Youtube Video Url ...",onInput:B},null,544),[[V,o.video_url]]),e("div",Be,n(a(d).video_url),1),e("div",Ye,[(l(!0),i(_,null,m((g=a(r))==null?void 0:g.video_url,t=>(l(),i("div",null,n(t),1))),256))])])):U("",!0),e("div",Ne,[je,e("div",null,[c(e("select",{"onUpdate:modelValue":s[6]||(s[6]=t=>o.shown_in_about_us=t),id:"shown_in_about_us",class:"form-select"},Re,512),[[v,o.shown_in_about_us]])]),e("div",We,n(a(d).shown_in_about_us),1),e("div",Ze,[(l(!0),i(_,null,m((y=a(r))==null?void 0:y.shown_in_about_us,t=>(l(),i("div",null,n(t),1))),256))])]),e("div",ze,[Ge,e("div",null,[c(e("select",{"onUpdate:modelValue":s[7]||(s[7]=t=>o.is_published=t),id:"is_published",class:"form-select"},Oe,512),[[v,o.is_published]])]),e("div",Qe,n(a(d).is_published),1),e("div",$e,[(l(!0),i(_,null,m((w=a(r))==null?void 0:w.is_published,t=>(l(),i("div",null,n(t),1))),256))])])]),e("button",{disabled:a(h),class:"btn btn-primary mt-3"},[c(e("div",tt,null,512),[[z,a(h)]]),a(h)?(l(),i("span",ot,"Processing...")):(l(),i("span",st,"Save"))],8,et)],40,ae)])])])])])])}}};export{ht as default};
