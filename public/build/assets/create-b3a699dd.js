import{v as e}from"./index-f79e0146.js";import"./use-meta-04c4be92.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as p}from"./file-upload-with-preview.esm-03fb8eae.js";import{q as r}from"./vue3-quill-562f55e1.js";import{u as S}from"./csrs-b1896851.js";import{d as _,u as C,a as n}from"./vee-validate-b79f0e91.js";import{r as k,m as x}from"./rules-2d323bf3.js";import"./_commonjsHelpers-23102255.js";import"./_plugin-vue_export-helper-c27b6911.js";const I={class:"container"},w={class:"container"},B={class:"row"},F={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},q={class:"statbox panel box box-shadow"},R={class:"panel-body"},D={class:"row"},L={class:"form-group col-md-12"},M={class:"text-danger mt-1"},P={class:"text-danger mt-1"},U={class:"form-group"},T={class:"form-group"},j={class:"form-group"},G={class:"custom-file-container","data-upload-id":"myFirstImage"},A={class:"custom-file-container__custom-file",for:"main_image"},X={class:"custom-file-container","data-upload-id":"myCsrGallery"},Z={class:"custom-file-container__custom-file",for:"csr_gallery"},W={id:"csr_gallery",ref:"csr_gallery",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",multiple:""},z={class:"form-group col-md-4"},H={class:"text-danger mt-1"},J={class:"text-danger mt-1"},K=["disabled"],O={class:""},Q={key:0},Y={key:1},_e={__name:"create",setup($){_("required",k),_("min",x);const v={name:"required|min:3",csr_introduction:"required",company_involvement:"required",collaborations_and_partnership:"required|min:3",is_published:"required"},{validate:E,errors:d}=C({validationSchema:v}),{value:f}=n("name",null,{initialValue:""}),{value:V}=n("csr_introduction",null,{initialValue:""}),{value:N}=n("company_involvement",null,{initialValue:""}),{value:g}=n("collaborations_and_partnership",null,{initialValue:""}),{value:b}=n("is_published",null,{initialValue:""}),{storeCsr:y,validationErrors:m,isLoading:i,getCsrList:ee,csrList:te}=S(),o=e.reactive({name:f,csr_introduction:V,company_involvement:N,collaborations_and_partnership:g,is_published:b,main_image:"",csr_gallery:""}),s=e.ref({modules:{}});function h(){E().then(c=>{if(c.valid){const a=document.getElementById("csr_gallery").files;y(o,a)}})}return e.onMounted(()=>{new p("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}}),new p("myCsrGallery",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),(c,t)=>{var a,u;return e.openBlock(),e.createElementBlock("div",I,[(e.openBlock(),e.createBlock(e.Teleport,{to:"#breadcrumb"},[t[6]||(t[6]=e.createElementVNode("ul",{class:"navbar-nav flex-row"},[e.createElementVNode("li",null,[e.createElementVNode("div",{class:"page-header"},[e.createElementVNode("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e.createElementVNode("ol",{class:"breadcrumb"},[e.createElementVNode("li",{class:"breadcrumb-item"},[e.createElementVNode("a",{href:"javascript:;"},"CSRs")]),e.createElementVNode("li",{class:"breadcrumb-item active","aria-current":"page"},[e.createElementVNode("span",null,"Create CSR")])])])])])],-1))])),e.createElementVNode("div",w,[e.createElementVNode("div",B,[e.createElementVNode("div",F,[e.createElementVNode("div",q,[t[21]||(t[21]=e.createElementVNode("div",{class:"panel-heading pb-0"},[e.createElementVNode("div",{class:"row"},[e.createElementVNode("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e.createElementVNode("h3",null,[e.createElementVNode("b",null,"Create CSR")])])])],-1)),e.createElementVNode("div",R,[e.createElementVNode("form",{onSubmit:e.withModifiers(h,["prevent"])},[e.createElementVNode("div",D,[e.createElementVNode("div",L,[t[7]||(t[7]=e.createElementVNode("label",{for:"post-name"},"CSR Name",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-name","onUpdate:modelValue":t[0]||(t[0]=l=>o.name=l),type:"text",class:"form-control",placeholder:"Enter CSR Name ..."},null,512),[[e.vModelText,o.name]]),e.createElementVNode("div",M,e.toDisplayString(e.unref(d).name),1),e.createElementVNode("div",P,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((a=e.unref(m))==null?void 0:a.name,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])]),e.createElementVNode("div",U,[t[8]||(t[8]=e.createElementVNode("label",{for:"csr_introduction"},"CSR Introduction",-1)),e.createVNode(e.unref(r),{id:"csr_introduction",value:o.csr_introduction,"onUpdate:value":t[1]||(t[1]=l=>o.csr_introduction=l),options:s.value,placeholder:"Enter Short Description ..."},null,8,["value","options"])]),e.createElementVNode("div",T,[t[9]||(t[9]=e.createElementVNode("label",{for:"post_company_involvement"},"Company Involvement",-1)),e.createVNode(e.unref(r),{value:o.company_involvement,"onUpdate:value":t[2]||(t[2]=l=>o.company_involvement=l),options:s.value,placeholder:"Enter Company Involvement ..."},null,8,["value","options"])]),e.createElementVNode("div",j,[t[10]||(t[10]=e.createElementVNode("label",{for:"post_collaborations_and_partnership"},"Collaborations & Partnerships",-1)),e.createVNode(e.unref(r),{value:o.collaborations_and_partnership,"onUpdate:value":t[3]||(t[3]=l=>o.collaborations_and_partnership=l),options:s.value,placeholder:"Enter Technical Specification ..."},null,8,["value","options"])]),e.createElementVNode("div",G,[t[13]||(t[13]=e.createElementVNode("label",null,[e.createTextVNode("Upload Main CSR Image "),e.createElementVNode("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e.createElementVNode("label",A,[e.createElementVNode("input",{id:"main_image",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:t[4]||(t[4]=l=>o.main_image=l.target.files[0])},null,32),t[11]||(t[11]=e.createElementVNode("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[12]||(t[12]=e.createElementVNode("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[14]||(t[14]=e.createElementVNode("div",{class:"custom-file-container__image-preview"},null,-1))]),e.createElementVNode("div",X,[t[17]||(t[17]=e.createElementVNode("label",null,[e.createTextVNode("CSR Gallery (multiple images allowed) "),e.createElementVNode("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e.createElementVNode("label",Z,[e.createElementVNode("input",W,null,512),t[15]||(t[15]=e.createElementVNode("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[16]||(t[16]=e.createElementVNode("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[18]||(t[18]=e.createElementVNode("div",{class:"custom-file-container__image-preview"},null,-1))]),e.createElementVNode("div",z,[t[20]||(t[20]=e.createElementVNode("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e.createElementVNode("div",null,[e.withDirectives(e.createElementVNode("select",{id:"is_published","onUpdate:modelValue":t[5]||(t[5]=l=>o.is_published=l),class:"form-select"},t[19]||(t[19]=[e.createElementVNode("option",{value:""}," Select Publishing Status ... ",-1),e.createElementVNode("option",{selected:"",value:"1"}," Published ",-1),e.createElementVNode("option",{value:"0"}," Not Published ",-1)]),512),[[e.vModelSelect,o.is_published]])]),e.createElementVNode("div",H,e.toDisplayString(e.unref(d).is_published),1),e.createElementVNode("div",J,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((u=e.unref(m))==null?void 0:u.is_published,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])])]),e.createElementVNode("button",{disabled:e.unref(i),class:"btn btn-primary mt-3"},[e.withDirectives(e.createElementVNode("div",O,null,512),[[e.vShow,e.unref(i)]]),e.unref(i)?(e.openBlock(),e.createElementBlock("span",Q,"Processing...")):(e.openBlock(),e.createElementBlock("span",Y,"Save"))],8,K)],32)])])])])])])}}};export{_e as default};
