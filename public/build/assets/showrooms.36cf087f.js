import{s as c,a8 as w,a9 as y,ag as l}from"./app-setting.435ce9bf.js";function P(){const p=c([]),f=c([]),g=c({name:"",image:"",description:""}),m=w(),u=c({}),a=c(!1),r=y("$swal"),h=async(e=1,o="",s="",t="",i="created_at",n="desc")=>{l.get("/api/showrooms?page="+e+"&search_id="+o+"&search_title="+s+"&search_global="+t+"&order_column="+i+"&order_direction="+n).then(d=>{p.value=d.data})};return{showroomList:f,showrooms:p,showroom:g,getShowrooms:h,getShowroomList:async()=>{l.get("/api/showroom-list").then(e=>{f.value=e.data.data})},getShowroom:async e=>{l.get("/api/showrooms/"+e).then(o=>{g.value=o.data.data})},storeShowroom:async(e,o)=>{if(a.value)return;a.value=!0,u.value={};let s=new FormData;for(var t=0;t<o.length;t++){let n=o[t];s.append("showroom_gallery["+t+"]",n)}for(let n in e)e.hasOwnProperty(n)&&s.append(n,e[n]);const i={headers:{"content-type":"multipart/form-data"}};l.post("/api/showrooms",s,i).then(n=>{m.push({name:"showrooms.create"}),e.name=null,e.location=null,e.is_published=null,e.phone_number1=null,e.phone_number2=null,e.email=null,e.longitude=null,e.latitude=null,e.description=null,e.main_image=null,e.showroom_gallery=null,r({icon:"success",title:"Showroom saved successfully"})}).catch(n=>{var d;(d=n.response)!=null&&d.data&&(u.value=n.response.data.errors)}).finally(()=>a.value=!1)},updateShowroom:async e=>{if(a.value)return;a.value=!0,u.value={};let o=new FormData;for(let t in e)e.hasOwnProperty(t)&&o.append(t,e[t]);const s={headers:{"content-type":"multipart/form-data"}};l.put("/api/showrooms/"+e.id,o,s).then(t=>{m.push({name:"showrooms.index"}),r({icon:"success",title:"Showroom updated successfully"})}).catch(t=>{var i;(i=t.response)!=null&&i.data&&(u.value=t.response.data.errors)}).finally(()=>a.value=!1)},deleteShowroom:async e=>{r({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(o=>{o.isConfirmed&&l.delete("/api/showrooms/"+e).then(s=>{h(),m.push({name:"showrooms.index"}),r({icon:"success",title:"Showroom deleted successfully"})}).catch(s=>{r({icon:"error",title:"Something went wrong"})})})},deleteShowroomImage:async e=>{r({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(o=>{o.isConfirmed&&l.delete("/api/showroom-images/"+e).then(s=>{h(),m.go(0),r({icon:"success",title:"Image deleted successfully"})}).catch(s=>{r({icon:"error",title:"Something went wrong"})})})},validationErrors:u,isLoading:a}}export{P as u};
