import{bn as B,z as _,h as $,w as M,bo as c,bp as d,bq as e,bv as p,S as V,by as N,B as I,c9 as j,bw as T,c7 as z,o as G,W as A,bx as E,C as O,j as v,bC as f,bt as w,X as x,bT as U}from"./app-setting.95fdf40f.js";import"./_commonjsHelpers.f037b798.js";const J={key:0,class:"filter-wrapper mb-4"},W={class:"filter-title"},X={class:"filter-options"},H=["value"],K={class:"filter-label"},Q={class:"filter-count"},Y={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0},dataRef:{type:Object,required:!0}},setup(P){const s=P,a=_([]),y=$(()=>{var o;return!((o=s.items)!=null&&o.length)||!s.filterColumn?[]:[...new Set(s.items.map(r=>r[s.filterColumn]).filter(Boolean))].sort()}),h=o=>s.items.filter(r=>r[s.filterColumn]===o).length,m=o=>o.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),b=()=>{a.value.length===0?s.dataRef.value=s.items:s.dataRef.value=s.items.filter(o=>a.value.includes(o[s.filterColumn]))};return M(()=>s.items,()=>{a.value=[],s.dataRef.value=s.items},{deep:!0}),(o,r)=>y.value.length?(c(),d("div",J,[e("h4",W,p(m(P.filterColumn)),1),e("div",X,[(c(!0),d(V,null,N(y.value,u=>(c(),d("label",{key:u,class:"filter-option"},[I(e("input",{type:"checkbox",value:u,"onUpdate:modelValue":r[0]||(r[0]=g=>a.value=g),onChange:b},null,40,H),[[j,a.value]]),e("span",K,p(u),1),e("span",Q,"("+p(h(u))+")",1)]))),128))])])):T("",!0)}},Z=B(Y,[["__scopeId","data-v-80892b4a"]]);const ee={class:"main"},te={class:"page-content"},ae={class:"container"},se={class:"row"},le={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},ie={class:"row"},ne={class:"entry entry-mask"},oe={class:"entry-media entry-gallery"},re=["src"],ce={class:"entry-body"},ue={class:"entry-title"},de={class:"entry-cats mt-1"},ge={style:{"background-color":"#c02434",padding:"5px"}},_e={class:"col-lg-12 mt-3"},pe={"aria-label":"Page navigation"},me={class:"pagination justify-content-center"},ve={class:"page-item-total"},fe={__name:"Media_Gallery",setup(P){const s=z(),a=_(s.params.page?parseInt(s.params.page):1),y=_(12),h=_(0),m=_([]),b=_(s.params.id?parseInt(s.params.id):1),o=async()=>{try{const t=await axios.get("/api/get-media-center-galleries",{params:{page:a.value,per_page:y.value,category_id:b.value}});m.value=t.data.data,h.value=t.data.total,console.log(h.value)}catch(t){console.error(t)}},r=(t,n)=>{let i=n.replace(/ /g,"-").replace(/\//g,"-");return i=i.replace(/-+/g,"-"),i=i.replace(/^-+|-+$/g,""),i=i.toLowerCase(),`/media/gallery/${t}/${i}`},u=t=>`/media/gallery/page/${t}`,g=$(()=>Math.ceil(h.value/y.value)),C=_([]),D=()=>{a.value>1&&a.value--},L=()=>{a.value<g.value&&a.value++},q=t=>{a.value=t},F=()=>{C.value=m.value},R=t=>Number.isInteger(t),S=$(()=>{const t=[];a.value>1&&t.push("Prev");let i=Math.max(1,a.value-Math.floor(5/2)),k=Math.min(i+5-1,g.value);k-i<5-1&&(i=Math.max(1,k-5+1));for(let l=i;l<=k;l++)t.push(l);return a.value<g.value&&t.push("Next"),t});return G(()=>{}),M(a,o),M(m,F),A(()=>{const t=s.params;s.query,t.id!==""&&b!==t.id&&(a.value=1,b.value=t.id?parseInt(t.id):1,t.page!==""&&a!==t.page&&(a.value=t.page?parseInt(t.page):1),o())}),(t,n)=>{const i=E("router-link"),k=O("lazy");return c(),d("div",null,[e("main",ee,[e("div",te,[e("div",ae,[e("div",se,[e("div",le,[n[4]||(n[4]=e("h2",{class:"about-us-title"},"Gallery",-1)),v(i,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:f(()=>n[0]||(n[0]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),n[5]||(n[5]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),v(Z,{items:m.value,"filter-column":"gallery_type","data-ref":C.value},null,8,["items","data-ref"]),e("div",ie,[(c(!0),d(V,null,N(C.value,l=>(c(),d("div",{class:"entry-item col-sm-6 col-lg-4",key:l.id},[e("article",ne,[e("figure",oe,[v(i,{to:r(l.id,l.name)},{default:f(()=>[I(e("img",{src:"/storage/"+l.main_image_path,alt:"image desc"},null,8,re),[[k,"/storage/"+l.main_image_path,"src"]])]),_:2},1032,["to"])]),e("div",ce,[n[1]||(n[1]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",ue,[v(i,{to:r(l.id,l.name)},{default:f(()=>[x(p(l.name),1)]),_:2},1032,["to"])]),e("div",de,[e("b",ge,p(l.gallery_type),1)])])])]))),128)),e("div",_e,[e("nav",pe,[e("ul",me,[e("li",{class:w(["page-item",{disabled:a.value===1}])},[v(i,{class:"page-link page-link-prev",to:u(a.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:D},{default:f(()=>n[2]||(n[2]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),x(" Prev ")])),_:1},8,["to"])],2),(c(!0),d(V,null,N(S.value,l=>(c(),d("li",{class:w(["page-item",{active:l===a.value}]),key:l},[R(l)?(c(),U(i,{key:0,class:"page-link",to:u(l),onClick:ye=>q(l)},{default:f(()=>[x(p(l),1)]),_:2},1032,["to","onClick"])):T("",!0)],2))),128)),e("li",ve,"of "+p(g.value),1),e("li",{class:w(["page-item",{disabled:a.value===g.value}])},[v(i,{class:"page-link page-link-next",to:u(a.value+1),"aria-label":"Next",onClick:L},{default:f(()=>n[3]||(n[3]=[x(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])])])])])])])])])}}},ke=B(fe,[["__scopeId","data-v-554f3e60"]]);export{ke as default};
