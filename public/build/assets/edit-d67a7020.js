import{v as e,a as S}from"./index-f79e0146.js";import{u as F}from"./clients-84067056.js";import{d as V,u as I,a as s}from"./vee-validate-b79f0e91.js";import{r as L,m as U}from"./rules-2d323bf3.js";import{F as M}from"./file-upload-with-preview.esm-03fb8eae.js";/* empty css                                     */import"./use-meta-04c4be92.js";import"./_commonjsHelpers-23102255.js";import"./index-c9998560.js";const P={class:"container"},q={class:"container"},T={class:"row"},j={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},A={class:"statbox panel box box-shadow"},R={class:"panel-body"},W={class:"row"},X={class:"form-group col-md-6"},Z={class:"text-danger mt-1"},z={class:"text-danger mt-1"},G={class:"form-group col-md-6"},H={class:"text-danger mt-1"},J={class:"text-danger mt-1"},K={class:"row"},O={class:"form-group col-md-6"},Q={class:"text-danger mt-1"},Y={class:"text-danger mt-1"},$={class:"form-group col-md-6"},ee={class:"text-danger mt-1"},te={class:"text-danger mt-1"},le={class:"form-group"},oe={class:"text-danger mt-1"},ne={class:"text-danger mt-1"},ie={class:"form-group"},ae={class:"custom-file-container","data-upload-id":"myFirstImage"},se={class:"custom-file-container__custom-file"},re={class:"form-group"},de={class:"text-danger mt-1"},me={class:"text-danger mt-1"},ce=["disabled"],ue={class:""},pe={key:0},Ee={key:1},ye={__name:"edit",setup(ve){V("required",L),V("min",U);const g={name:"required|min:3",phone:"required|min:3",email:"required|min:3",address:"required|min:3",description:"required|min:3",is_published:"required"},{validate:f,errors:i,resetForm:Ve}=I({validationSchema:g}),{client:n,getClient:N,updateClient:_,validationErrors:a,isLoading:d,getClientList:b}=F(),{value:h}=s("name",null,{initialValue:""}),{value:k}=s("phone",null,{initialValue:""}),{value:B}=s("email",null,{initialValue:""}),{value:x}=s("address",null,{initialValue:""}),{value:y}=s("description",null,{initialValue:""}),{value:D}=s("is_published",null,{initialValue:""}),o=e.reactive({name:h,phone:k,email:B,address:x,description:y,is_published:D}),w=S();function C(){f().then(m=>{m.valid&&_(o)})}return e.onMounted(()=>{N(w.params.id),b(),e.watchEffect(()=>{if(n.value&&n.value.main_image_path){const r={images:{baseImage:"/storage/"+n.value.main_image_path,backgroundImage:""}};new M("myFirstImage",r)}})}),e.watchEffect(()=>{o.id=n.value.id,o.name=n.value.name,o.phone=n.value.phone,o.email=n.value.email,o.address=n.value.address,o.description=n.value.description,o.is_published=n.value.is_published}),(m,t)=>{var r,c,u,p,E,v;return e.openBlock(),e.createElementBlock("div",P,[(e.openBlock(),e.createBlock(e.Teleport,{to:"#breadcrumb"},[t[7]||(t[7]=e.createElementVNode("ul",{class:"navbar-nav flex-row"},[e.createElementVNode("li",null,[e.createElementVNode("div",{class:"page-header"},[e.createElementVNode("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e.createElementVNode("ol",{class:"breadcrumb"},[e.createElementVNode("li",{class:"breadcrumb-item"},[e.createElementVNode("a",{href:"javascript:;"},"Client")]),e.createElementVNode("li",{class:"breadcrumb-item active","aria-current":"page"},[e.createElementVNode("span",null,"Edit Client")])])])])])],-1))])),e.createElementVNode("div",q,[e.createElementVNode("div",T,[e.createElementVNode("div",j,[e.createElementVNode("div",A,[t[19]||(t[19]=e.createElementVNode("div",{class:"panel-heading pb-0"},[e.createElementVNode("div",{class:"row"},[e.createElementVNode("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e.createElementVNode("h3",null,[e.createElementVNode("b",null,"Edit Client")])])])],-1)),e.createElementVNode("div",R,[e.createElementVNode("form",{onSubmit:e.withModifiers(C,["prevent"])},[e.createElementVNode("div",W,[e.createElementVNode("div",X,[t[8]||(t[8]=e.createElementVNode("label",{for:"post-name"},"Client Name",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-name","onUpdate:modelValue":t[0]||(t[0]=l=>o.name=l),type:"text",class:"form-control",placeholder:"Enter Client Name ..."},null,512),[[e.vModelText,o.name]]),e.createElementVNode("div",Z,e.toDisplayString(e.unref(i).name),1),e.createElementVNode("div",z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((r=e.unref(a))==null?void 0:r.name,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])]),e.createElementVNode("div",G,[t[9]||(t[9]=e.createElementVNode("label",{for:"post-phone"},"Client Phone",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-phone","onUpdate:modelValue":t[1]||(t[1]=l=>o.phone=l),type:"text",class:"form-control",placeholder:"Enter Client Phone ..."},null,512),[[e.vModelText,o.phone]]),e.createElementVNode("div",H,e.toDisplayString(e.unref(i).phone),1),e.createElementVNode("div",J,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((c=e.unref(a))==null?void 0:c.phone,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])])]),e.createElementVNode("div",K,[e.createElementVNode("div",O,[t[10]||(t[10]=e.createElementVNode("label",{for:"post-email"},"Client Email",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-email","onUpdate:modelValue":t[2]||(t[2]=l=>o.email=l),type:"email",class:"form-control",placeholder:"Enter Client Email ..."},null,512),[[e.vModelText,o.email]]),e.createElementVNode("div",Q,e.toDisplayString(e.unref(i).email),1),e.createElementVNode("div",Y,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((u=e.unref(a))==null?void 0:u.email,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])]),e.createElementVNode("div",$,[t[11]||(t[11]=e.createElementVNode("label",{for:"post-address"},"Client Address",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-address","onUpdate:modelValue":t[3]||(t[3]=l=>o.address=l),type:"text",class:"form-control",placeholder:"Enter Client address ..."},null,512),[[e.vModelText,o.address]]),e.createElementVNode("div",ee,e.toDisplayString(e.unref(i).address),1),e.createElementVNode("div",te,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((p=e.unref(a))==null?void 0:p.address,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])])]),e.createElementVNode("div",le,[t[12]||(t[12]=e.createElementVNode("label",{for:"post_description"},"Description",-1)),e.withDirectives(e.createElementVNode("textarea",{id:"post_description","onUpdate:modelValue":t[4]||(t[4]=l=>o.description=l),class:"form-control",placeholder:"Enter Description ..."},null,512),[[e.vModelText,o.description]]),e.createElementVNode("div",oe,e.toDisplayString(e.unref(i).description),1),e.createElementVNode("div",ne,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((E=e.unref(a))==null?void 0:E.description,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])]),e.createElementVNode("div",ie,[e.createElementVNode("div",ae,[t[15]||(t[15]=e.createElementVNode("label",null,[e.createTextVNode("Upload Client Logo "),e.createElementVNode("a",{id:"brand_image",href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e.createElementVNode("label",se,[e.createElementVNode("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:t[5]||(t[5]=l=>o.main_image=l.target.files[0])},null,32),t[13]||(t[13]=e.createElementVNode("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[14]||(t[14]=e.createElementVNode("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[16]||(t[16]=e.createElementVNode("div",{class:"custom-file-container__image-preview"},null,-1))])]),e.createElementVNode("div",re,[t[18]||(t[18]=e.createElementVNode("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e.createElementVNode("div",null,[e.withDirectives(e.createElementVNode("select",{id:"is_published","onUpdate:modelValue":t[6]||(t[6]=l=>o.is_published=l),class:"form-select"},t[17]||(t[17]=[e.createElementVNode("option",{selected:"",value:"1"}," Published ",-1),e.createElementVNode("option",{value:"0"}," Not Published ",-1)]),512),[[e.vModelSelect,o.is_published]])]),e.createElementVNode("div",de,e.toDisplayString(e.unref(i).is_published),1),e.createElementVNode("div",me,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((v=e.unref(a))==null?void 0:v.is_published,l=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(l),1))),256))])]),e.createElementVNode("button",{disabled:e.unref(d),class:"btn btn-primary mt-3"},[e.withDirectives(e.createElementVNode("div",ue,null,512),[[e.vShow,e.unref(d)]]),e.unref(d)?(e.openBlock(),e.createElementBlock("span",pe,"Processing...")):(e.openBlock(),e.createElementBlock("span",Ee,"Update"))],8,ce)],32)])])])])])])}}};export{ye as default};
