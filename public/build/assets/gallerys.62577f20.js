import{z as d,ca as m,l as v,ch as i}from"./app-setting.e4f0b469.js";function P(){const g=d([]),h=d([]),f=d({name:"",description:"",is_published:""}),p=m(),c=d({}),o=d(!1),s=v("$swal"),y=async(t=1,l="",a="",r="",u="created_at",e="desc")=>{i.get("/api/gallerys?page="+t+"&search_id="+l+"&search_title="+a+"&search_global="+r+"&order_column="+u+"&order_direction="+e).then(n=>{g.value=n.data})};return{galleryList:h,gallerys:g,gallery:f,getGallerys:y,getGalleryList:async()=>{i.get("/api/gallery-list").then(t=>{h.value=t.data.data})},getGallery:async t=>{i.get("/api/gallerys/"+t).then(l=>{f.value=l.data.data})},storeGallery:async(t,l)=>{if(o.value)return;console.log(t),o.value=!0,c.value={};let a=new FormData;for(var r=0;r<l.length;r++){let e=l[r];a.append("gallery_gallery["+r+"]",e)}for(let e in t)t.hasOwnProperty(e)&&a.append(e,t[e]);const u={headers:{"content-type":"multipart/form-data"}};i.post("/api/gallerys",a,u).then(e=>{p.push({name:"gallerys.create"}),t.name=null,t.gallery_introduction=null,t.company_involvement=null,t.collaborations_and_partnership=null,t.main_image=null,t.gallery_gallery=null,s({icon:"success",title:"Gallery saved successfully"})}).catch(e=>{var n;(n=e.response)!=null&&n.data&&(c.value=e.response.data.errors)}).finally(()=>o.value=!1)},updateGallery:async(t,l)=>{if(o.value)return;o.value=!0,c.value={};let a=new FormData;if(l.length>0)for(var r=0;r<l.length;r++){let e=l[r];a.append("gallery_gallery["+r+"]",e)}for(let e in t)if(t.hasOwnProperty(e)&&e!=="categories"){let n=t[e];n===null&&(e==="weight"||e==="length"||e==="height"||e==="width"||e==="quantity"||e==="cost_price"||e==="retail_price")&&(n=0),a.append(e,n)}const u={headers:{"Content-Type":"multipart/form-data"}};a.append("_method","put"),console.log(a),await i.post("/api/gallerys/"+t.id,a,u).then(e=>{p.push({name:"gallerys.index"}),s({icon:"success",title:"Gallery updated successfully"})}).catch(e=>{var n;(n=e.response)!=null&&n.data&&(c.value=e.response.data.errors)}).finally(()=>o.value=!1)},deleteGallery:async t=>{s({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(l=>{l.isConfirmed&&i.delete("/api/gallerys/"+t).then(a=>{y(),p.push({name:"gallerys.index"}),s({icon:"success",title:"Gallery deleted successfully"})}).catch(a=>{s({icon:"error",title:"Something went wrong"})})})},deleteGalleryImage:async t=>{s({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(l=>{l.isConfirmed&&i.delete("/api/gallery-images/"+t).then(a=>{y(),p.go(0),s({icon:"success",title:"Image deleted successfully"})}).catch(a=>{s({icon:"error",title:"Something went wrong"})})})},validationErrors:c,isLoading:o}}export{P as u};
