import{ak as H,a3 as K,x as o,Q as M,y as O,z,a4 as A,f as F,a5 as j,o as u,c as h,a as e,i as g,l as p,t as v,F as S,g as I,e as q,p as L,ag as Q,m as b}from"./app-setting.366f23a7.js";import"./_commonjsHelpers.f037b798.js";const R={class:"main"},U={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},G={class:"container d-flex align-items-center"},J={class:"breadcrumb"},W={class:"breadcrumb-item"},X={class:"breadcrumb-item"},Y={class:"breadcrumb-item active","aria-current":"page"},Z={class:"page-content"},ee={class:"container"},te={class:"row"},se={class:"col-lg-10"},ae={class:"products mb-3"},oe={class:"row"},ie={class:"col-lg-12 col-md-12 mt-1"},ce={class:"accordion",id:"accordion-1",style:{width:"100%"}},le={class:"card"},ne={class:"card-header",id:"heading-2"},de={class:"card-title"},re={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},_e={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},ue={class:"card-body"},he=["innerHTML"],me={class:"product product-7 text-center"},ge={class:"product-media"},pe=["src"],ve=e("div",{class:"product-action-vertical"},null,-1),be={class:"product-action"},fe=["onClick"],we=e("span",null,"Add to Cart",-1),xe=[we],Ce={class:"product-body"},ye={class:"product-cat"},Pe={class:"product-title"},ke=e("div",{class:"ratings-container"},null,-1),Me={class:"col-lg-2 order-lg-first mt-2"},Se={class:"sidebar sidebar-shop sidebar-shop-solution"},Ie={key:0,class:"widget widget-collapsible widget-categories"},Le=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1),Ne={class:"show",id:"widget-1"},Ve={class:"widget-body"},Te={class:"filter-items filter-items-count"},$e={class:"custom-control custom-checkbox"},Be=["id","value","onChange"],De=["for"],Ee={class:"widget widget-collapsible"},He={class:"show",id:"widget-4"},Ke={class:"widget-body"},Oe=["src"],je={__name:"KitchenSolution",setup(ze){const N=H(),V=s=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),N.dispatch("cart/addToCart",s)},c=K();o(c);const _=o(c.params.page?parseInt(c.params.page):1),x=o(12),T=o(0),C=o([]);o(0);const l=o(c.params.id?parseInt(c.params.id):1);o([]),o([]),o([]);const n=o([]),f=o([]),m=o([]);o([]);const $=async()=>{try{const s=await axios.get("/api/get-solution-categories",{params:{solution_id:l.value}});n.value=s.data.data,f.value=s.data.data.product_categories_json,Q({title:n.value.name+" | Kitchen Solution"})}catch(s){console.error(s)}},y=o([]),P=async()=>{l.value+"",m.value[l.value];try{const s=await axios.get("/api/get-solution-category-products",{params:{solution_id:l.value,checkedCategoriesSolutions:m.value}});y.value=s.data.products.data}catch(s){console.error(s)}};function B(s){let i=l.value;console.log(i),i in m.value||(m.value[i]=[]);const a=m.value[i];a.includes(s)?a.splice(a.indexOf(s),1):a.push(s)}const k=M(()=>Math.ceil(T.value/x.value)),D=o([]),w=(s,i,a,d)=>{let t=i.replace(/ /g,"-").replace(/\//g,"-");t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),t=t.toLowerCase();let r=a.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return r=r.replace(/-+/g,"-"),r=r.replace(/^-+|-+$/g,""),`/kitchen/product/${s}/${t}-${r}`},E=()=>{D.value=C.value.slice(0,0+x.value)};return M(()=>{const s=[];_.value>1&&s.push("Prev");let a=Math.max(1,_.value-Math.floor(5/2)),d=Math.min(a+5-1,k.value);d-a<5-1&&(a=Math.max(1,d-5+1));for(let t=a;t<=d;t++)s.push(t);return _.value<k.value&&s.push("Next"),s}),O(()=>{$(),P()}),z(C,E),A(()=>{const s=c.params;c.query,s.id!==""&&l!==s.id&&(_.value=1,l.value=s.id?parseInt(s.id):1,s.page!==""&&_!==s.page&&(_.value=s.page?parseInt(s.page):1),P())}),(s,i)=>{const a=F("router-link"),d=j("lazy");return u(),h("main",R,[e("nav",U,[e("div",G,[e("ol",J,[e("li",W,[g(a,{to:"/"},{default:p(()=>[b("HOME")]),_:1})]),e("li",X,[g(a,{to:"/kitchen"},{default:p(()=>[b("KITCHEN")]),_:1})]),e("li",Y,v(n.value.name),1)])])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[e("div",oe,[e("div",ie,[e("div",ce,[e("div",le,[e("div",ne,[e("h2",de,[e("a",re,v(n.value.name)+" - SOLUTION ",1)])]),e("div",_e,[e("div",ue,[e("span",{innerHTML:n.value.description},null,8,he)])])])])]),(u(!0),h(S,null,I(y.value,t=>(u(),h("div",{class:"col-6 col-md-3 col-lg-2 col-xl-2 image-container",key:t.id},[e("div",me,[e("figure",ge,[g(a,{to:w(t.id,t.name,t.model_number)},{default:p(()=>[L(e("img",{src:"/storage/"+t.main_image_path,alt:"Product image",class:"product-image"},null,8,pe),[[d,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"]),ve,e("div",be,[e("button",{type:"button",onClick:r=>V(t),class:"btn-product btn-cart"},xe,8,fe)])]),e("div",Ce,[e("div",ye,[g(a,{to:w(t.id,t.name,t.model_number)},{default:p(()=>[b(v(t.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",Pe,[g(a,{to:w(t.id,t.name,t.model_number)},{default:p(()=>[b(v(t.name),1)]),_:2},1032,["to"])]),ke])])]))),128))])])]),e("aside",Me,[e("div",Se,[f.value.length?(u(),h("div",Ie,[Le,e("div",Ne,[e("div",Ve,[e("div",Te,[(u(!0),h(S,null,I(f.value,t=>(u(),h("div",{class:"filter-item",key:t.id},[e("div",$e,[e("input",{type:"checkbox",class:"custom-control-input",id:"cat-"+t.id,value:t.id,onChange:r=>B(t.id)},null,40,Be),e("label",{class:"custom-control-label",for:"cat-"+t.id},v(t.name),9,De)])]))),128))])])])])):q("",!0),e("div",Ee,[e("div",He,[e("div",Ke,[L(e("img",{src:"/storage/"+n.value.main_image_path,alt:"Product image"},null,8,Oe),[[d,"/storage/"+n.value.main_image_path,"src"]])])])])])])])])])])}}};export{je as default};
