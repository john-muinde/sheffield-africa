import{v as d}from"./index-b929d4f8.js";import{c as h,y as c}from"./tools-b40e92cf-d03b1370.js";const S=d.defineComponent({name:"GmapsMarker",props:{animation:{type:Object,default:void 0},clickable:{type:Boolean,default:!0},cursor:{type:String,default:void 0},draggable:{type:Boolean,default:!1},icon:{type:[String,Object],default:void 0},label:{type:[String,Object],default:null},opacity:{type:Number,default:void 0},options:{type:Object,default:void 0},position:{type:Object,default:void 0},shape:{type:Object,default:void 0},title:{type:String,default:void 0},visible:{type:Boolean,default:!0},zIndex:{type:Number,default:void 0}},emits:{animation_changed:()=>!0,click:l=>!0,clickable_changed:l=>!0,contextmenu:l=>!0,cursor_changed:l=>!0,dblclick:l=>!0,drag:l=>!0,dragend:l=>!0,draggable_changed:l=>!0,dragstart:l=>!0,flat_changed:()=>!0,icon_changed:()=>!0,mounted:l=>!0,mousedown:l=>!0,mouseout:l=>!0,mouseover:l=>!0,mouseup:l=>!0,position_changed:l=>!0,rightclick:l=>!0,shape_changed:()=>!0,title_changed:l=>!0,unmounted:l=>!0,visible_changed:l=>!0,zindex_changed:l=>!0},setup(l,{emit:o}){const s=d.inject("$getAPI"),p=d.inject("$getMap"),b=d.inject("$getThrottle"),m=d.inject("$handleError"),L=e=>m(e,"Marker"),g=[];let t=null;const v=e=>e==="BOUNCE"?globalThis.google.maps.Animation.BOUNCE:e==="DROP"?globalThis.google.maps.Animation.DROP:null,_=e=>{const i=google.maps.event,u=b();g.push(i.addListener(e,"drag",c(a=>{var n;return o("drag",((n=a.latLng)==null?void 0:n.toJSON())||null)},u)),i.addListener(e,"mouseover",c(a=>{var n;return o("mouseover",((n=a.latLng)==null?void 0:n.toJSON())||null)},u)),i.addListener(e,"position_changed",c(()=>{var a;return o("position_changed",(a=e.getPosition())==null?void 0:a.toJSON())},u)),i.addListener(e,"animation_changed",()=>o("animation_changed")),i.addListener(e,"click",a=>{var n;return o("click",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"clickable_changed",()=>o("clickable_changed",e.getClickable())),i.addListener(e,"contextmenu",a=>{var n;return o("contextmenu",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"cursor_changed",()=>o("cursor_changed",e.getCursor())),i.addListener(e,"dblclick",a=>{var n;return o("dblclick",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"dragend",a=>{var n;return o("dragend",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"draggable_changed",()=>o("draggable_changed",e.getDraggable())),i.addListener(e,"dragstart",a=>{var n;return o("dragstart",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"flat_changed",()=>o("flat_changed")),i.addListener(e,"icon_changed",()=>o("icon_changed")),i.addListener(e,"mousedown",a=>{var n;return o("mousedown",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"mouseout",a=>{var n;return o("mouseout",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"mouseup",a=>{var n;return o("mouseup",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"rightclick",a=>{var n;return o("rightclick",((n=a.latLng)==null?void 0:n.toJSON())||null)}),i.addListener(e,"shape_changed",()=>o("shape_changed")),i.addListener(e,"title_changed",()=>o("title_changed",e.getTitle())),i.addListener(e,"visible_changed",()=>o("visible_changed",e.getVisible())),i.addListener(e,"zindex_changed",()=>o("zindex_changed",e.getZIndex())))},O=p(),k=s(),r={map:O,...l.options};return l.animation&&(r.animation=l.animation),l.clickable&&(r.clickable=l.clickable),l.cursor&&(r.cursor=l.cursor),l.draggable&&(r.draggable=l.draggable),l.icon&&(r.icon=l.icon),l.label&&(r.label=l.label),l.opacity&&(r.opacity=l.opacity),l.position&&(r.position=l.position),l.shape&&(r.shape=l.shape),l.title&&(r.title=l.title),l.visible&&(r.visible=l.visible),l.zIndex&&(r.zIndex=l.zIndex),r.animation&&(r.animation=v(r.animation)),t=new k.Marker(r),t?(_(t),o("mounted",t)):L(new Error("There was a problem creating the marker.")),d.watch(()=>l.animation,e=>e===void 0?null:t==null?void 0:t.setAnimation(v(e))),d.watch(()=>l.clickable,e=>e===void 0||e==(t==null?void 0:t.getClickable())?null:t==null?void 0:t.setClickable(e)),d.watch(()=>l.cursor,e=>e===void 0||e==(t==null?void 0:t.getCursor())?null:t==null?void 0:t.setCursor(e)),d.watch(()=>l.draggable,e=>e===void 0||e==(t==null?void 0:t.getDraggable())?null:t==null?void 0:t.setDraggable(e)),d.watch(()=>l.icon,e=>e===void 0||e==(t==null?void 0:t.getIcon())?null:t==null?void 0:t.setIcon(e)),d.watch(()=>l.label,e=>e===void 0||h(e,t==null?void 0:t.getLabel())?null:t==null?void 0:t.setLabel(e),{deep:!0}),d.watch(()=>l.opacity,e=>e===void 0||e==(t==null?void 0:t.getOpacity())?null:t==null?void 0:t.setOpacity(e)),d.watch(()=>l.options,e=>e===void 0?null:t==null?void 0:t.setOptions(e),{deep:!0}),d.watch(()=>l.position,e=>{var i;return e===void 0||h(e,(i=t==null?void 0:t.getPosition())==null?void 0:i.toJSON())?null:t==null?void 0:t.setPosition(e)},{deep:!0}),d.watch(()=>l.shape,e=>e===void 0||e==(t==null?void 0:t.getShape())?null:t==null?void 0:t.setShape(e),{deep:!0}),d.watch(()=>l.title,e=>e===void 0||e==(t==null?void 0:t.getTitle())?null:t==null?void 0:t.setTitle(e)),d.watch(()=>l.visible,e=>e===void 0||e==(t==null?void 0:t.getVisible())?null:t==null?void 0:t.setVisible(e)),d.watch(()=>l.zIndex,e=>e===void 0||e==(t==null?void 0:t.getZIndex())?null:t==null?void 0:t.setZIndex(e)),d.onBeforeUnmount(()=>{t&&o("unmounted",t),g.forEach(e=>e.remove()),t&&t.setMap(null),t&&s().event.clearInstanceListeners(t)}),()=>{}}});export{S as z};
