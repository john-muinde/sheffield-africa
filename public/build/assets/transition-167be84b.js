import{v as i}from"./index-0d6930bf.js";function ue(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function k(){let e=[],t={addEventListener(n,r,l,a){return n.addEventListener(r,l,a),t.add(()=>n.removeEventListener(r,l,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return ue(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,l){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:l}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=k();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let l of e.splice(r,1))l()}},dispose(){for(let n of e.splice(0))n()}};return t}var D;let se=Symbol("headlessui.useid"),de=0;const fe=(D=i.useId)!=null?D:function(){return i.inject(se,()=>`${++de}`)()};function V(e){var t;if(e==null||e.value==null)return null;let n=(t=e.value.$el)!=null?t:e.value;return n instanceof Node?n:null}function O(e,t,...n){if(e in t){let l=t[e];return typeof l=="function"?l(...n):l}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,O),r}var ce=Object.defineProperty,pe=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t,n)=>(pe(e,typeof t!="symbol"?t+"":t,n),n);let ve=class{constructor(){W(this,"current",this.detect()),W(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},he=new ve;var z=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(z||{}),w=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(w||{});function Q({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...l}){var a;let o=Z(r,n),u=Object.assign(l,{props:o});if(e||t&2&&o.static)return B(u);if(t&1){let d=(a=o.unmount)==null||a?0:1;return O(d,{0(){return null},1(){return B({...l,props:{...o,hidden:!0,style:{display:"none"}}})}})}return B(u)}function B({props:e,attrs:t,slots:n,slot:r,name:l}){var a,o;let{as:u,...d}=_(e,["unmount","static"]),s=(a=n.default)==null?void 0:a.call(n,r),c={};if(r){let h=!1,v=[];for(let[y,m]of Object.entries(r))typeof m=="boolean"&&(h=!0),m===!0&&v.push(y);h&&(c["data-headlessui-state"]=v.join(" "))}if(u==="template"){if(s=X(s??[]),Object.keys(d).length>0||Object.keys(t).length>0){let[h,...v]=s??[];if(!me(h)||v.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${l} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(t)).map(f=>f.trim()).filter((f,p,T)=>T.indexOf(f)===p).sort((f,p)=>f.localeCompare(p)).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));let y=Z((o=h.props)!=null?o:{},d,c),m=i.cloneVNode(h,y,!0);for(let f in y)f.startsWith("on")&&(m.props||(m.props={}),m.props[f]=y[f]);return m}return Array.isArray(s)&&s.length===1?s[0]:s}return i.h(u,Object.assign({},d,c),{default:()=>s})}function X(e){return e.flatMap(t=>t.type===i.Fragment?X(t.children):[t])}function Z(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let l in r)l.startsWith("on")&&typeof r[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(r[l])):t[l]=r[l];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](l,...a){let o=n[r];for(let u of o){if(l instanceof Event&&l.defaultPrevented)return;u(l,...a)}}});return t}function _(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function me(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let G=Symbol("Context");var g=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(g||{});function ge(){return J()!==null}function J(){return i.inject(G,null)}function ye(e){i.provide(G,e)}function be(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function x(e,...t){e&&t.length>0&&e.classList.add(...t)}function L(e,...t){e&&t.length>0&&e.classList.remove(...t)}var P=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(P||{});function we(e,t){let n=k();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:l}=getComputedStyle(e),[a,o]=[r,l].map(u=>{let[d=0]=u.split(",").filter(Boolean).map(s=>s.includes("ms")?parseFloat(s):parseFloat(s)*1e3).sort((s,c)=>c-s);return d});return a!==0?n.setTimeout(()=>t("finished"),a+o):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Y(e,t,n,r,l,a){let o=k(),u=a!==void 0?be(a):()=>{};return L(e,...l),x(e,...t,...n),o.nextFrame(()=>{L(e,...n),x(e,...r),o.add(we(e,d=>(L(e,...r,...t),x(e,...l),u(d))))}),o.add(()=>L(e,...t,...n,...r,...l)),o.add(()=>u("cancelled")),o.dispose}function S(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let M=Symbol("TransitionContext");var Ee=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ee||{});function Se(){return i.inject(M,null)!==null}function je(){let e=i.inject(M,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Oe(){let e=i.inject(H,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let H=Symbol("NestingContext");function $(e){return"children"in e?$(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function K(e){let t=i.ref([]),n=i.ref(!1);i.onMounted(()=>n.value=!0),i.onUnmounted(()=>n.value=!1);function r(a,o=w.Hidden){let u=t.value.findIndex(({id:d})=>d===a);u!==-1&&(O(o,{[w.Unmount](){t.value.splice(u,1)},[w.Hidden](){t.value[u].state="hidden"}}),!$(t)&&n.value&&(e==null||e()))}function l(a){let o=t.value.find(({id:u})=>u===a);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:a,state:"visible"}),()=>r(a,w.Unmount)}return{children:t,register:l,unregister:r}}let ee=z.RenderStrategy,Te=i.defineComponent({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:l}){let a=i.ref(0);function o(){a.value|=g.Opening,t("beforeEnter")}function u(){a.value&=~g.Opening,t("afterEnter")}function d(){a.value|=g.Closing,t("beforeLeave")}function s(){a.value&=~g.Closing,t("afterLeave")}if(!Se()&&ge())return()=>i.h(Fe,{...e,onBeforeEnter:o,onAfterEnter:u,onBeforeLeave:d,onAfterLeave:s},r);let c=i.ref(null),h=i.computed(()=>e.unmount?w.Unmount:w.Hidden);l({el:c,$el:c});let{show:v,appear:y}=je(),{register:m,unregister:f}=Oe(),p=i.ref(v.value?"visible":"hidden"),T={value:!0},j=fe(),C={value:!1},N=K(()=>{!C.value&&p.value!=="hidden"&&(p.value="hidden",f(j),s())});i.onMounted(()=>{let b=m(j);i.onUnmounted(b)}),i.watchEffect(()=>{if(h.value===w.Hidden&&j){if(v.value&&p.value!=="visible"){p.value="visible";return}O(p.value,{hidden:()=>f(j),visible:()=>m(j)})}});let U=S(e.enter),I=S(e.enterFrom),te=S(e.enterTo),R=S(e.entered),ne=S(e.leave),re=S(e.leaveFrom),le=S(e.leaveTo);i.onMounted(()=>{i.watchEffect(()=>{if(p.value==="visible"){let b=V(c);if(b instanceof Comment&&b.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ie(b){let A=T.value&&!y.value,E=V(c);!E||!(E instanceof HTMLElement)||A||(C.value=!0,v.value&&o(),v.value||d(),b(v.value?Y(E,U,I,te,R,F=>{C.value=!1,F===P.Finished&&u()}):Y(E,ne,re,le,R,F=>{C.value=!1,F===P.Finished&&($(N)||(p.value="hidden",f(j),s()))})))}return i.onMounted(()=>{i.watch([v],(b,A,E)=>{ie(E),T.value=!1},{immediate:!0})}),i.provide(H,N),ye(i.computed(()=>O(p.value,{visible:g.Open,hidden:g.Closed})|a.value)),()=>{let{appear:b,show:A,enter:E,enterFrom:F,enterTo:Le,entered:$e,leave:Ae,leaveFrom:Be,leaveTo:xe,...q}=e,ae={ref:c},oe={...q,...y.value&&v.value&&he.isServer?{class:i.normalizeClass([n.class,q.class,...U,...I])}:{}};return Q({theirProps:oe,ourProps:ae,slot:{},slots:r,attrs:n,features:ee,visible:p.value==="visible",name:"TransitionChild"})}}}),Ce=Te,Fe=i.defineComponent({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let l=J(),a=i.computed(()=>e.show===null&&l!==null?(l.value&g.Open)===g.Open:e.show);i.watchEffect(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=i.ref(a.value?"visible":"hidden"),u=K(()=>{o.value="hidden"}),d=i.ref(!0),s={show:a,appear:i.computed(()=>e.appear||!d.value)};return i.onMounted(()=>{i.watchEffect(()=>{d.value=!1,a.value?o.value="visible":$(u)||(o.value="hidden")})}),i.provide(H,u),i.provide(M,s),()=>{let c=_(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),h={unmount:e.unmount};return Q({ourProps:{...h,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[i.h(Ce,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...h,...c},r.default)]},attrs:{},features:ee,visible:o.value==="visible",name:"Transition"})}}});export{Q as A,z as N,Fe as S,k as a,g as b,he as c,Te as h,fe as i,J as l,V as o,ue as t,O as u};
