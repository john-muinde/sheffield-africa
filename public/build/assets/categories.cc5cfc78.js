import{z as r,ca as f,cr as s}from"./app-setting.4d20106c.js";import"./index.27231f60.js";import{$ as m}from"./Modal.e1163253.js";function S(){const l=r([]),c=r([]),g=r([]),u=r({name:"",description:""}),n=f(),a=r({}),o=r(!1),y=async(e=1,t="",p="",d="",v="",C="created_at",h="desc")=>{try{const i=await s("get",`/api/categories?page=${e}&search_id=${t}&search_title=${p}&search_parent_id=${d}&search_global=${v}&order_column=${C}&order_direction=${h}`);l.value=i}catch(i){a.value=i}};return{categoryList:c,categoryMainList:g,categories:l,category:u,getCategories:y,getMainCategoryList:async()=>{try{const e=await s("get","/api/category-main");g.value=e}catch(e){a.value=e}},getSelectedCategoryList:async e=>{try{const t=await s("get",`/api/category-list/${e}`);c.value=t}catch(t){a.value=t}},getCategoryList:async()=>{try{const e=await s("get","/api/category-list");c.value=e}catch(e){a.value=e}},getCategory:async e=>{try{const t=await s("get",`/api/categories/${e}`);u.value=t}catch(t){a.value=t}},storeCategory:async e=>{if(!o.value){o.value=!0,a.value={};try{await s("post","/api/categories",e),n.push({name:"categories.index"}),showToast("Category saved successfully","success")}catch(t){a.value=t}finally{o.value=!1}}},updateCategory:async e=>{if(!o.value){o.value=!0,a.value={};try{await s("put",`/api/categories/${e.id}`,e),n.push({name:"categories.index"}),showToast("Category updated successfully","success")}catch(t){a.value=t}finally{o.value=!1}}},deleteCategory:async e=>{m.confirm({title:"Are you sure?",content:"You won't be able to revert this action!",okText:"Yes, delete it!",okType:"danger",cancelText:"No, cancel",onOk(){s("delete",`/api/categories/${e}`).then(()=>{y(),n.push({name:"categories.index"}),showToast("Category deleted successfully","success")})},onCancel(){console.log("Cancel")}})},validationErrors:a,isLoading:o}}export{S as u};
