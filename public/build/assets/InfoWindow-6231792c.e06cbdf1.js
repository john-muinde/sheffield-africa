import{y as w,c as y}from"./tools-b40e92cf.4881bf31.js";import{s as z}from"./_plugin-vue_export-helper-dad06003.469021ef.js";import{d as b,L as i,r as L,w as r,o as O,O as $,bE as k,bF as E,bH as B}from"./index.b5cb60a8.js";import"./_commonjsHelpers.f037b798.js";const N=b({name:"GmapsInfoWindow",props:{options:{type:Object,default:void 0},position:{type:Object,default:void 0},zIndex:{type:Number,default:void 0}},emits:{closeclick:()=>!0,content_changed:()=>!0,domready:()=>!0,mounted:o=>!0,position_changed:o=>!0,unmounted:o=>!0,zindex_changed:o=>!0},setup(o,{emit:t}){const s=i("$getAPI"),l=i("$getMap"),a=i("$getThrottle"),c=i("$handleError"),f=e=>c(e,"InfoWindow"),p=[];let n=null;const u=L(),m=()=>n==null?void 0:n.open(l()),v=()=>n==null?void 0:n.close(),h=e=>{const d=google.maps.event,_=a();p.push(d.addListener(e,"position_changed",w(()=>{var g;return t("position_changed",(g=e.getPosition())==null?void 0:g.toJSON())},_)),d.addListener(e,"closeclick",()=>t("closeclick")),d.addListener(e,"content_changed",()=>t("content_changed")),d.addListener(e,"domready",()=>t("domready")),d.addListener(e,"zindex_changed",()=>t("zindex_changed",e.getZIndex())))},I=l(),x=s();return r(()=>o.options,e=>e===void 0?null:n==null?void 0:n.setOptions(e),{deep:!0}),r(()=>o.position,e=>{var d;return e===void 0||y(e,(d=n==null?void 0:n.getPosition())==null?void 0:d.toJSON())?null:n==null?void 0:n.setPosition(e)},{deep:!0}),r(()=>o.zIndex,e=>e===void 0||e==(n==null?void 0:n.getZIndex())?null:n==null?void 0:n.setZIndex(e)),O(()=>{try{const e={map:I,content:u.value,...o.options};o.position&&(e.position=o.position),o.zIndex&&(e.zIndex=o.zIndex),n=new x.InfoWindow(e),t("mounted",n),n&&h(n),m()}catch{f(new Error("There was a problem creating the InfoWindow."))}}),$(()=>{n&&t("unmounted",n),p.forEach(e=>e.remove()),v(),n&&s().event.clearInstanceListeners(n)}),{content:u,close:v,open:m}}}),P={ref:"content"};function W(o,t,s,l,a,c){return k(),E("div",P,[B(o.$slots,"default",{close:o.close,open:o.open})],512)}const A=z(N,[["render",W]]);export{A as default};
