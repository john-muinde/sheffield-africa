import{aa as V,ab as Y,ac as d,P as D,x as R,y as X,o,c as i,a2 as z,a as e,W as A,p as c,X as h,t as n,u as a,F as _,g as m,i as W,al as I,e as g,v as Z,m as S,aq as $,ad as G,ae as H}from"./app-setting.366f23a7.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as U}from"./file-upload-with-preview.esm.fbf56fa2.js";import{q as J}from"./vue3-quill.a5a8cf44.js";import{u as K}from"./news.08c1137c.js";import"./_commonjsHelpers.f037b798.js";const O={class:"container"},Q=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"News")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Create News")])])])])])],-1),ee={class:"container"},te={class:"row"},se={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},oe={class:"statbox panel box box-shadow"},le=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Create News")])])])],-1),ie={class:"panel-body"},ae=["onSubmit"],ne={class:"row"},re={class:"form-group col-md-12"},de=e("label",{for:"post-name"},"Title",-1),ce={class:"text-danger mt-1"},ue={class:"text-danger mt-1"},_e={class:"form-group"},me=e("label",{for:"post-content"}," Description",-1),pe={class:"custom-file-container","data-upload-id":"mySecondImage"},ve=e("label",null,[S("Brand Logo (Must be image) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1),he={class:"custom-file-container__custom-file",for:"main_image"},ge=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),fe=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),be=e("div",{class:"custom-file-container__image-preview"},null,-1),ye={class:"form-group"},we=e("label",{for:"post-category",class:"form-label"},"Type",-1),xe=e("option",{value:""}," Select Type ",-1),Ve=e("option",{value:"Image"},"Image",-1),Ie=e("option",{value:"Video"},"Video",-1),Ue=[xe,Ve,Ie],Se={class:"text-danger mt-1"},Pe={class:"text-danger mt-1"},Fe={key:0,class:"custom-file-container","data-upload-id":"myFirstImage",ref:"uploadContainer"},ke=e("label",null,[S("Upload Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1),Ce={class:"custom-file-container__custom-file",for:"file_path"},Ee=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),Ne=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),Le=e("div",{class:"custom-file-container__image-preview"},null,-1),Te={key:1,class:"form-group col-md-12"},qe=e("label",{for:"post-name"},"Link Url",-1),Me={class:"text-danger mt-1"},je={class:"text-danger mt-1"},Be={key:2,class:"form-group col-md-12"},Ye=e("label",{for:"post-name"},"Youtube Video Url",-1),De={class:"text-danger mt-1"},Re={class:"text-danger mt-1"},Xe={class:"form-group col-md-12"},ze=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1),Ae=e("option",{value:""}," Select Publishing Status ... ",-1),We=e("option",{selected:"",value:"1"}," Published ",-1),Ze=e("option",{value:"0"}," Not Published ",-1),$e=[Ae,We,Ze],Ge={class:"text-danger mt-1"},He={class:"text-danger mt-1"},Je=["disabled"],Ke={class:""},Oe={key:0},Qe={key:1},ut={__name:"create",setup(et){V("required",G),V("min",H);const P={name:"required|min:3",type:"required",is_published:"required"},{validate:F,errors:r}=Y({validationSchema:P}),{value:k}=d("name",null,{initialValue:""}),{value:C}=d("type",null,{initialValue:""}),{value:E}=d("content",null,{initialValue:""});d("main_image",null,{initialValue:""}),d("url",null,{initialValue:""}),d("file_path",null,{initialValue:""});const{value:N}=d("is_published",null,{initialValue:""}),{storeNews:L,validationErrors:u,isLoading:v,getPublictionList:tt,newsList:st}=K(),s=D({name:k,type:C,content:E,is_published:N,main_image:"",file_path:"",url:""}),T=()=>{s.type==="Image"&&(console.log("test"),new U("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}}))},q=()=>{/^(https?:\/\/)?(www\.)?youtube\.com\/watch\?v=/i.test(s.video_url)?r.value.video_url=null:r.value.video_url="Please enter a valid YouTube Video URL in the format https://www.youtube.com/watch?v="},M=()=>{/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/i.test(s.url)?r.value.url=null:r.value.url="Please enter a URL in the format https://www.example.com"},j=R({modules:{}});function B(){console.log(s),F().then(p=>{p.valid&&L(s)})}return X(()=>{new U("mySecondImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),(p,l)=>{var f,b,y,w,x;return o(),i("div",O,[(o(),z($,{to:"#breadcrumb"},[Q])),e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[le,e("div",ie,[e("form",{onSubmit:A(B,["prevent"])},[e("div",ne,[e("div",re,[de,c(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>s.name=t),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Title ..."},null,512),[[h,s.name]]),e("div",ce,n(a(r).name),1),e("div",ue,[(o(!0),i(_,null,m((f=a(u))==null?void 0:f.name,t=>(o(),i("div",null,n(t),1))),256))])]),e("div",_e,[me,W(a(J),{value:s.description,"onUpdate:value":l[1]||(l[1]=t=>s.description=t),options:j.value,placeholder:"Enter News Content ..."},null,8,["value","options"])]),e("div",pe,[ve,e("label",he,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/jpeg, image/png",onChange:l[2]||(l[2]=t=>s.main_image=t.target.files[0]),id:"main_image"},null,32),ge,fe]),be]),e("div",ye,[we,c(e("select",{class:"form-select form-control",name:"type",id:"type","onUpdate:modelValue":l[3]||(l[3]=t=>s.type=t),onChange:T},Ue,544),[[I,s.type]]),e("div",Se,n(a(r).type),1),e("div",Pe,[(o(!0),i(_,null,m((b=a(u))==null?void 0:b.type,t=>(o(),i("div",null,n(t),1))),256))])]),s.type=="Image"?(o(),i("div",Fe,[ke,e("label",Ce,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/png, image/jpeg",onChange:l[4]||(l[4]=t=>s.file_path=t.target.files[0]),id:"file_path"},null,32),Ee,Ne]),Le],512)):g("",!0),s.type=="Image"?(o(),i("div",Te,[qe,c(e("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>s.url=t),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Media Url ...",onInput:M},null,544),[[h,s.url]]),e("div",Me,n(a(r).url),1),e("div",je,[(o(!0),i(_,null,m((y=a(u))==null?void 0:y.url,t=>(o(),i("div",null,n(t),1))),256))])])):g("",!0),s.type=="Video"?(o(),i("div",Be,[Ye,c(e("input",{"onUpdate:modelValue":l[6]||(l[6]=t=>s.file_path=t),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Youtube Video Url ...",onInput:q},null,544),[[h,s.file_path]]),e("div",De,n(a(r).video_url),1),e("div",Re,[(o(!0),i(_,null,m((w=a(u))==null?void 0:w.video_url,t=>(o(),i("div",null,n(t),1))),256))])])):g("",!0),e("div",Xe,[ze,e("div",null,[c(e("select",{"onUpdate:modelValue":l[7]||(l[7]=t=>s.is_published=t),id:"is_published",class:"form-select"},$e,512),[[I,s.is_published]])]),e("div",Ge,n(a(r).is_published),1),e("div",He,[(o(!0),i(_,null,m((x=a(u))==null?void 0:x.is_published,t=>(o(),i("div",null,n(t),1))),256))])])]),e("button",{disabled:a(v),class:"btn btn-primary mt-3"},[c(e("div",Ke,null,512),[[Z,a(v)]]),a(v)?(o(),i("span",Oe,"Processing...")):(o(),i("span",Qe,"Save"))],8,Je)],40,ae)])])])])])])}}};export{ut as default};
