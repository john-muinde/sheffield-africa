import{z as u,ce as w,l as y,cn as l}from"./app-setting.667ae9e1.js";function P(){const p=u([]),f=u([]),g=u({name:"",image:"",description:""}),m=w(),c=u({}),a=u(!1),r=y("$swal"),h=async(e=1,o="",n="",t="",i="created_at",s="desc")=>{l.get("/api/showrooms?page="+e+"&search_id="+o+"&search_title="+n+"&search_global="+t+"&order_column="+i+"&order_direction="+s).then(d=>{p.value=d.data})};return{showroomList:f,showrooms:p,showroom:g,getShowrooms:h,getShowroomList:async()=>{l.get("/api/showroom-list").then(e=>{f.value=e.data.data})},getShowroom:async e=>{l.get("/api/showrooms/"+e).then(o=>{g.value=o.data.data})},storeShowroom:async(e,o)=>{if(a.value)return;a.value=!0,c.value={};let n=new FormData;for(var t=0;t<o.length;t++){let s=o[t];n.append("showroom_gallery["+t+"]",s)}for(let s in e)e.hasOwnProperty(s)&&n.append(s,e[s]);const i={headers:{"content-type":"multipart/form-data"}};l.post("/api/showrooms",n,i).then(s=>{m.push({name:"showrooms.create"}),e.name=null,e.location=null,e.is_published=null,e.phone_number1=null,e.phone_number2=null,e.email=null,e.longitude=null,e.latitude=null,e.description=null,e.main_image=null,e.showroom_gallery=null,r({icon:"success",title:"Showroom saved successfully"})}).catch(s=>{var d;(d=s.response)!=null&&d.data&&(c.value=s.response.data.errors)}).finally(()=>a.value=!1)},updateShowroom:async e=>{if(a.value)return;a.value=!0,c.value={};let o=new FormData;for(let t in e)e.hasOwnProperty(t)&&o.append(t,e[t]);const n={headers:{"content-type":"multipart/form-data"}};l.put("/api/showrooms/"+e.id,o,n).then(t=>{m.push({name:"showrooms.index"}),r({icon:"success",title:"Showroom updated successfully"})}).catch(t=>{var i;(i=t.response)!=null&&i.data&&(c.value=t.response.data.errors)}).finally(()=>a.value=!1)},deleteShowroom:async e=>{r({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(o=>{o.isConfirmed&&l.delete("/api/showrooms/"+e).then(n=>{h(),m.push({name:"showrooms.index"}),r({icon:"success",title:"Showroom deleted successfully"})}).catch(n=>{r({icon:"error",title:"Something went wrong"})})})},deleteShowroomImage:async e=>{r({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(o=>{o.isConfirmed&&l.delete("/api/showroom-images/"+e).then(n=>{h(),m.go(0),r({icon:"success",title:"Image deleted successfully"})}).catch(n=>{r({icon:"error",title:"Something went wrong"})})})},validationErrors:c,isLoading:a}}export{P as u};
