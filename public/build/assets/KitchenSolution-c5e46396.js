import{e as x,a as k,v as e}from"./index-2bbf2be9.js";import{u as y}from"./use-meta-f54bcebc.js";import"./_commonjsHelpers-23102255.js";const S={class:"main"},B={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},P={class:"container d-flex align-items-center"},T={class:"breadcrumb"},D={class:"breadcrumb-item"},I={class:"breadcrumb-item"},L={class:"breadcrumb-item active","aria-current":"page"},$={class:"page-content"},M={class:"container"},H={class:"row"},K={class:"col-lg-10"},O={class:"products mb-3"},z={class:"row"},A={class:"col-lg-12 col-md-12 mt-1"},F={id:"accordion-1",class:"accordion",style:{width:"100%"}},j={class:"card"},R={id:"heading-2",class:"card-header"},U={class:"card-title"},q={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},G={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},J={class:"card-body"},Q=["innerHTML"],W={class:"product product-7 text-center"},X={class:"product-media"},Y=["src"],Z={class:"product-action"},ee=["onClick"],te={class:"product-body"},oe={class:"product-cat"},ae={class:"product-title"},se={class:"col-lg-2 order-lg-first mt-2"},ce={class:"sidebar sidebar-shop sidebar-shop-solution"},le={key:0,class:"widget widget-collapsible widget-categories"},ne={id:"widget-1",class:"show"},ie={class:"widget-body"},re={class:"filter-items filter-items-count"},de={class:"custom-control custom-checkbox"},me=["id","value","onChange"],ue=["for"],_e={class:"widget widget-collapsible"},pe={id:"widget-4",class:"show"},ge={class:"widget-body"},he=["src"],be={__name:"KitchenSolution",setup(ve){const v=x(),N=o=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),v.dispatch("cart/addToCart",o)},n=k(),d=e.ref(n.params.page?parseInt(n.params.page):1),E=e.ref(12),_=e.ref([]),i=e.ref(n.params.id?parseInt(n.params.id):1),l=e.ref([]),m=e.ref([]),r=e.ref([]),p=window.axios,V=async()=>{try{const o=await p.get("/api/get-solution-categories",{params:{solution_id:i.value}});l.value=o.data.data,m.value=o.data.data.product_categories_json,y({title:l.value.name+" | Kitchen Solution"})}catch(o){console.error(o)}},g=e.ref([]),h=async()=>{try{const o=await p.get("/api/get-solution-category-products",{params:{solution_id:i.value,checkedCategoriesSolutions:r.value}});g.value=o.data.products.data}catch(o){console.error(o)}};function b(o){let a=i.value;a in r.value||(r.value[a]=[]);const s=r.value[a];s.includes(o)?s.splice(s.indexOf(o),1):s.push(o)}const f=e.ref([]),u=(o,a,s)=>{let c=a.replace(/ /g,"-").replace(/\//g,"-");c=c.replace(/-+/g,"-"),c=c.replace(/^-+|-+$/g,""),c=c.toLowerCase();let t=s.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),`/kitchen/product/${o}/${c}-${t}`},w=()=>{f.value=_.value.slice(0,0+E.value)};return e.onMounted(()=>{V(),h()}),e.watch(_,w),e.watchEffect(()=>{const o=n.params;o.id!==""&&i.value!==o.id&&(d.value=1,i.value=o.id?parseInt(o.id):1,o.page!==""&&d.value!==o.page&&(d.value=o.page?parseInt(o.page):1),h())}),(o,a)=>{const s=e.resolveComponent("router-link"),c=e.resolveDirective("lazy");return e.openBlock(),e.createElementBlock("main",S,[e.createElementVNode("nav",B,[e.createElementVNode("div",P,[e.createElementVNode("ol",T,[e.createElementVNode("li",D,[e.createVNode(s,{to:"/"},{default:e.withCtx(()=>a[0]||(a[0]=[e.createTextVNode(" HOME ")])),_:1})]),e.createElementVNode("li",I,[e.createVNode(s,{to:"/commercial-kitchen"},{default:e.withCtx(()=>a[1]||(a[1]=[e.createTextVNode(" KITCHEN ")])),_:1})]),e.createElementVNode("li",L,e.toDisplayString(l.value.name),1)])])]),e.createElementVNode("div",$,[e.createElementVNode("div",M,[e.createElementVNode("div",H,[e.createElementVNode("div",K,[e.createElementVNode("div",O,[e.createElementVNode("div",z,[e.createElementVNode("div",A,[e.createElementVNode("div",F,[e.createElementVNode("div",j,[e.createElementVNode("div",R,[e.createElementVNode("h2",U,[e.createElementVNode("a",q,e.toDisplayString(l.value.name)+" - SOLUTION ",1)])]),e.createElementVNode("div",G,[e.createElementVNode("div",J,[e.createElementVNode("span",{innerHTML:l.value.description},null,8,Q)])])])])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,t=>(e.openBlock(),e.createElementBlock("div",{key:t.id,class:"col-6 col-md-3 col-lg-2 col-xl-2 image-container"},[e.createElementVNode("div",W,[e.createElementVNode("figure",X,[e.createVNode(s,{to:u(t.id,t.name,t.model_number)},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("img",{src:"/storage/"+t.main_image_path,alt:"Product image",class:"product-image"},null,8,Y),[[c,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"]),a[3]||(a[3]=e.createElementVNode("div",{class:"product-action-vertical"},null,-1)),e.createElementVNode("div",Z,[e.createElementVNode("button",{type:"button",class:"btn-product btn-cart",onClick:C=>N(t)},a[2]||(a[2]=[e.createElementVNode("span",null,"Add to Cart",-1)]),8,ee)])]),e.createElementVNode("div",te,[e.createElementVNode("div",oe,[e.createVNode(s,{to:u(t.id,t.name,t.model_number)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.product_brand.name),1)]),_:2},1032,["to"])]),e.createElementVNode("h3",ae,[e.createVNode(s,{to:u(t.id,t.name,t.model_number)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.name),1)]),_:2},1032,["to"])]),a[4]||(a[4]=e.createElementVNode("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),e.createElementVNode("aside",se,[e.createElementVNode("div",ce,[m.value.length?(e.openBlock(),e.createElementBlock("div",le,[a[5]||(a[5]=e.createElementVNode("h3",{class:"widget-title"},[e.createElementVNode("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),e.createElementVNode("div",ne,[e.createElementVNode("div",ie,[e.createElementVNode("div",re,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,t=>(e.openBlock(),e.createElementBlock("div",{key:t.id,class:"filter-item"},[e.createElementVNode("div",de,[e.createElementVNode("input",{id:"cat-"+t.id,type:"checkbox",class:"custom-control-input",value:t.id,onChange:C=>b(t.id)},null,40,me),e.createElementVNode("label",{class:"custom-control-label",for:"cat-"+t.id},e.toDisplayString(t.name),9,ue)])]))),128))])])])])):e.createCommentVNode("",!0),e.createElementVNode("div",_e,[e.createElementVNode("div",pe,[e.createElementVNode("div",ge,[e.withDirectives(e.createElementVNode("img",{src:"/storage/"+l.value.main_image_path,alt:"Product image"},null,8,he),[[c,"/storage/"+l.value.main_image_path,"src"]])])])])])])])])])])}}};export{be as default};
