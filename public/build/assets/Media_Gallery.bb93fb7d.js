import{bn as D,c7 as G,z as i,h as C,o as S,w as M,W as j,bx as q,C as E,bo as r,bp as g,bq as e,j as p,bC as c,S as N,by as V,bt as f,bv as _,B as F,X as m,bT as J,bw as O}from"./app-setting.82c6739b.js";import"./_commonjsHelpers.f037b798.js";const R={class:"main"},W={class:"page-content"},X={class:"container"},A={class:"row"},H={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},K={class:"row"},Q={class:"entry entry-mask"},U={class:"entry-media entry-gallery"},Y=["src"],Z={class:"entry-body"},ee={class:"entry-title"},ae={class:"entry-cats mt-1"},te={style:{"background-color":"#c02434",padding:"5px"}},se={class:"col-lg-12 mt-3"},le={"aria-label":"Page navigation"},oe={class:"pagination justify-content-center"},ie={class:"page-item-total"},ne={__name:"Media_Gallery",setup(re){const n=G();i(n);const l=i(n.params.page?parseInt(n.params.page):1),P=i(12),v=i(0),y=i([]);i(0);const b=i(n.params.id?parseInt(n.params.id):1);i([]),i([]),i([]),i([]),i([]),i([]),i("");const k=async()=>{try{const a=await axios.get("/api/get-media-center-galleries",{params:{page:l.value,per_page:P.value,category_id:b.value}});y.value=a.data.data,v.value=a.data.total,console.log(v.value)}catch(a){console.error(a)}},x=(a,o)=>{let s=o.replace(/ /g,"-").replace(/\//g,"-");return s=s.replace(/-+/g,"-"),s=s.replace(/^-+|-+$/g,""),s=s.toLowerCase(),`/media/gallery/${a}/${s}`},h=a=>`/media/gallery/page/${a}`,d=C(()=>Math.ceil(v.value/P.value)),w=i([]),B=()=>{l.value>1&&l.value--},I=()=>{l.value<d.value&&l.value++},L=a=>{l.value=a},T=()=>{w.value=y.value},$=a=>Number.isInteger(a),z=C(()=>{const a=[];l.value>1&&a.push("Prev");let s=Math.max(1,l.value-Math.floor(5/2)),u=Math.min(s+5-1,d.value);u-s<5-1&&(s=Math.max(1,u-5+1));for(let t=s;t<=u;t++)a.push(t);return l.value<d.value&&a.push("Next"),a});return S(()=>{}),M(l,k),M(y,T),j(()=>{const a=n.params;n.query,a.id!==""&&b!==a.id&&(l.value=1,b.value=a.id?parseInt(a.id):1,a.page!==""&&l!==a.page&&(l.value=a.page?parseInt(a.page):1),k())}),(a,o)=>{const s=q("router-link"),u=E("lazy");return r(),g("div",null,[e("main",R,[e("div",W,[e("div",X,[e("div",A,[e("div",H,[o[4]||(o[4]=e("h2",{class:"about-us-title"},"Gallery",-1)),p(s,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:c(()=>o[0]||(o[0]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),o[5]||(o[5]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),e("div",K,[(r(!0),g(N,null,V(w.value,t=>(r(),g("div",{class:"entry-item col-sm-6 col-lg-4",key:t.id},[e("article",Q,[e("figure",U,[p(s,{to:x(t.id,t.name)},{default:c(()=>[F(e("img",{src:"/storage/"+t.main_image_path,alt:"image desc"},null,8,Y),[[u,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"])]),e("div",Z,[o[1]||(o[1]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",ee,[p(s,{to:x(t.id,t.name)},{default:c(()=>[m(_(t.name),1)]),_:2},1032,["to"])]),e("div",ae,[e("b",te,_(t.gallery_type),1)])])])]))),128)),e("div",se,[e("nav",le,[e("ul",oe,[e("li",{class:f(["page-item",{disabled:l.value===1}])},[p(s,{class:"page-link page-link-prev",to:h(l.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:B},{default:c(()=>o[2]||(o[2]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),m(" Prev ")])),_:1},8,["to"])],2),(r(!0),g(N,null,V(z.value,t=>(r(),g("li",{class:f(["page-item",{active:t===l.value}]),key:t},[$(t)?(r(),J(s,{key:0,class:"page-link",to:h(t),onClick:ce=>L(t)},{default:c(()=>[m(_(t),1)]),_:2},1032,["to","onClick"])):O("",!0)],2))),128)),e("li",ie,"of "+_(d.value),1),e("li",{class:f(["page-item",{disabled:l.value===d.value}])},[p(s,{class:"page-link page-link-next",to:h(l.value+1),"aria-label":"Next",onClick:I},{default:c(()=>o[3]||(o[3]=[m(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])])])])])])])])])}}},ge=D(ne,[["__scopeId","data-v-9069be0a"]]);export{ge as default};
