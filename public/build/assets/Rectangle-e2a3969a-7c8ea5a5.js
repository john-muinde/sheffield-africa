import{c as J,y as s}from"./tools-b40e92cf-d03b1370.js";import{v as r}from"./index-27321865.js";import"./_commonjsHelpers-23102255.js";const w=r.defineComponent({name:"GmapsRectangle",props:{bounds:{type:Object,default:void 0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,default:void 0},visible:{type:Boolean,default:!0}},emits:{bounds_changed:t=>!0,click:t=>!0,contextmenu:t=>!0,dblclick:t=>!0,drag:t=>!0,dragend:t=>!0,dragstart:t=>!0,mounted:t=>!0,mousedown:t=>!0,mousemove:t=>!0,mouseout:t=>!0,mouseover:t=>!0,mouseup:t=>!0,rightclick:t=>!0,unmounted:t=>!0},setup(t,{emit:a}){const v=r.inject("$getAPI"),c=r.inject("$getMap"),m=r.inject("$getThrottle"),b=r.inject("$handleError"),p=l=>b(l,"Rectangle"),g=[];let n=null;const L=l=>{const d=google.maps.event,i=m();g.push(d.addListener(l,"bounds_changed",s(()=>{var o;return a("bounds_changed",((o=l.getBounds())==null?void 0:o.toJSON())||null)},i)),d.addListener(l,"drag",s(o=>{var e;return a("drag",((e=o.latLng)==null?void 0:e.toJSON())||null)},i)),d.addListener(l,"mousemove",s(o=>{var e;return a("mousemove",((e=o.latLng)==null?void 0:e.toJSON())||null)},i)),d.addListener(l,"mouseover",s(o=>{var e;return a("mouseover",((e=o.latLng)==null?void 0:e.toJSON())||null)},i)),d.addListener(l,"click",o=>{var e;return a("click",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"contextmenu",o=>{var e;return a("contextmenu",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dblclick",o=>{var e;return a("dblclick",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dragend",o=>{var e;return a("dragend",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dragstart",o=>{var e;return a("dragstart",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mousedown",o=>{var e;return a("mousedown",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mouseout",o=>{var e;return a("mouseout",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mouseup",o=>{var e;return a("mouseup",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"rightclick",o=>{var e;return a("rightclick",((e=o.latLng)==null?void 0:e.toJSON())||null)}))},h=c(),O=v(),u={map:h,...t.options};return t.bounds&&(u.bounds=t.bounds),t.draggable&&(u.draggable=t.draggable),t.editable&&(u.editable=t.editable),t.visible&&(u.visible=t.visible),n=new O.Rectangle(u),n?(L(n),a("mounted",n)):p(new Error("There was a problem creating the shape.")),r.watch(()=>t.bounds,l=>{var d;return l===void 0||J(l,(d=n==null?void 0:n.getBounds())==null?void 0:d.toJSON())?null:n==null?void 0:n.setBounds(l)},{deep:!0}),r.watch(()=>t.draggable,l=>l===void 0||l==(n==null?void 0:n.getDraggable())?null:n==null?void 0:n.setDraggable(l)),r.watch(()=>t.editable,l=>l===void 0||l==(n==null?void 0:n.getEditable())?null:n==null?void 0:n.setEditable(l)),r.watch(()=>t.visible,l=>l===void 0||l==(n==null?void 0:n.getVisible())?null:n==null?void 0:n.setVisible(l)),r.onBeforeUnmount(()=>{n&&a("unmounted",n),g.forEach(l=>l.remove()),n&&n.setMap(null),n&&v().event.clearInstanceListeners(n)}),()=>{}}});export{w as default};
