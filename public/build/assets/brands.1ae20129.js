import{x as c,a7 as B,a8 as v,ak as o}from"./app-setting.26d76640.js";function L(){const u=c([]),p=c([]),f=c({name:"",is_published:"",description:""}),d=B(),i=c({}),s=c(!1),l=v("$swal"),h=async(e=1,a="",n="",t="",r="created_at",m="desc")=>{o.get("/api/brands?page="+e+"&search_id="+a+"&search_title="+n+"&search_global="+t+"&order_column="+r+"&order_direction="+m).then(g=>{u.value=g.data})};return{brandList:p,brands:u,brand:f,getBrands:h,getBrandList:async()=>{o.get("/api/brand-list").then(e=>{p.value=e.data.data})},getBrand:async e=>{o.get("/api/brands/"+e).then(a=>{f.value=a.data.data})},storeBrand:async e=>{if(console.log(e),s.value)return;s.value=!0,i.value={};let a=new FormData;for(let t in e)e.hasOwnProperty(t)&&a.append(t,e[t]);const n={headers:{"content-type":"multipart/form-data"}};console.log(a),o.post("/api/brands",a,n).then(t=>{d.push({name:"brands.create"}),e.name=null,e.description=null,e.main_image=null,e.is_published=null,l({icon:"success",title:"Brand saved successfully"})}).catch(t=>{var r;(r=t.response)!=null&&r.data&&(i.value=t.response.data.errors)}).finally(()=>s.value=!1)},updateBrand:async e=>{if(console.log(e),s.value)return;s.value=!0,i.value={};let a=new FormData;for(let t in e)e.hasOwnProperty(t)&&a.append(t,e[t]);const n={headers:{"content-type":"multipart/form-data"}};a.append("_method","put"),console.log(a),o.post("/api/brands/"+e.id,a,n).then(t=>{d.push({name:"brands.index"}),l({icon:"success",title:"Brand updated successfully"})}).catch(t=>{var r;(r=t.response)!=null&&r.data&&(i.value=t.response.data.errors)}).finally(()=>s.value=!1)},deleteBrand:async e=>{l({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(a=>{a.isConfirmed&&o.delete("/api/brands/"+e).then(n=>{h(),d.push({name:"brands.index"}),l({icon:"success",title:"Brand deleted successfully"})}).catch(n=>{l({icon:"error",title:"Something went wrong"})})})},validationErrors:i,isLoading:s}}export{L as u};
