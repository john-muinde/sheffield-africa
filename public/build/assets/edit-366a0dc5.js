import{v as e,a as S}from"./index-f79e0146.js";import"./use-meta-04c4be92.js";import{u as F}from"./news-327458bd.js";import{d as f,u as D,a as n}from"./vee-validate-b79f0e91.js";import{r as U,m as C}from"./rules-2d323bf3.js";/* empty css                                     */import{F as c}from"./file-upload-with-preview.esm-03fb8eae.js";import{q as L}from"./vue3-quill-562f55e1.js";import"./_commonjsHelpers-23102255.js";import"./index-c9998560.js";import"./_plugin-vue_export-helper-c27b6911.js";const P={class:"container"},T={class:"container"},M={class:"row"},q={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},j={class:"statbox panel box box-shadow"},Y={class:"panel-body"},R={class:"row"},A={class:"form-group col-md-12"},X={class:"text-danger mt-1"},Z={class:"text-danger mt-1"},W={class:"form-group"},z={class:"custom-file-container","data-upload-id":"mySecondImage"},G={class:"custom-file-container__custom-file",for:"main_image"},H={class:"form-group"},J={class:"text-danger mt-1"},K={class:"text-danger mt-1"},O={key:0,ref:"uploadContainer",class:"custom-file-container","data-upload-id":"myFirstImage"},Q={class:"custom-file-container__custom-file",for:"file_path"},$={key:1,class:"form-group col-md-12"},ee={class:"text-danger mt-1"},te={class:"text-danger mt-1"},le={class:"form-group col-md-12"},oe={class:"text-danger mt-1"},ae={class:"text-danger mt-1"},ie=["disabled"],ne={class:""},se={key:0},re={key:1},ke={__name:"edit",setup(de){f("required",U),f("min",C);const g={name:"required|min:3",type:"required",is_published:"required"},{validate:E,errors:i,resetForm:me}=D({validationSchema:g}),{video:a,getVideo:V,updateVideo:_,validationErrors:s,isLoading:m,getVideoList:ce,newsList:ue}=F(),{value:N}=n("name",null,{initialValue:""}),{value:b}=n("type",null,{initialValue:""}),{value:y}=n("description",null,{initialValue:""});n("main_image",null,{initialValue:""}),n("file_path",null,{initialValue:""});const{value:h}=n("is_published",null,{initialValue:""}),o=e.reactive({name:N,type:b,description:y,is_published:h,main_image:"",file_path:""}),k=()=>{o.type==="Image"&&new c("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})},w=()=>{/^(https?:\/\/)?(www\.)?youtube\.com\/watch\?v=/i.test(o.video_url)?i.value.video_url=null:i.value.video_url="Please enter a valid YouTube Video URL in the format https://www.youtube.com/watch?v="},B=e.ref({modules:{}}),x=S();function I(){E().then(r=>{r.valid&&_(o,[])})}return e.onMounted(()=>{V(x.params.id),e.watchEffect(()=>{if(a.value&&a.value.main_image_path){const d={images:{baseImage:"/storage/"+a.value.main_image_path,backgroundImage:""}};new c("mySecondImage",d)}else new c("mySecondImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})})}),e.watchEffect(()=>{o.id=a.value.id,o.name=a.value.name,o.description=a.value.description,o.type=a.value.type,o.is_published=a.value.is_published,o.main_image=a.value.main_image_path,o.file_path=a.value.file_path}),(r,t)=>{var d,u,p,v;return e.openBlock(),e.createElementBlock("div",P,[(e.openBlock(),e.createBlock(e.Teleport,{to:"#breadcrumb"},[t[7]||(t[7]=e.createElementVNode("ul",{class:"navbar-nav flex-row"},[e.createElementVNode("li",null,[e.createElementVNode("div",{class:"page-header"},[e.createElementVNode("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e.createElementVNode("ol",{class:"breadcrumb"},[e.createElementVNode("li",{class:"breadcrumb-item"},[e.createElementVNode("a",{href:"javascript:;"},"Videos")]),e.createElementVNode("li",{class:"breadcrumb-item active","aria-current":"page"},[e.createElementVNode("span",null,"Edit Video")])])])])])],-1))])),e.createElementVNode("div",T,[e.createElementVNode("div",M,[e.createElementVNode("div",q,[e.createElementVNode("div",j,[t[23]||(t[23]=e.createElementVNode("div",{class:"panel-heading pb-0"},[e.createElementVNode("div",{class:"row"},[e.createElementVNode("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e.createElementVNode("h3",null,[e.createElementVNode("b",null,"Edit Video")])])])],-1)),e.createElementVNode("div",Y,[e.createElementVNode("form",{onSubmit:e.withModifiers(I,["prevent"])},[e.createElementVNode("div",R,[e.createElementVNode("div",A,[t[8]||(t[8]=e.createElementVNode("label",{for:"post-name"},"Title",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-name","onUpdate:modelValue":t[0]||(t[0]=l=>o.name=l),type:"text",class:"form-control",placeholder:"Enter Title ..."},null,512),[[e.vModelText,o.name]]),e.createElementVNode("div",X,e.toDisplayString(e.unref(i).name),1),e.createElementVNode("div",Z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((d=e.unref(s))==null?void 0:d.name,l=>(e.openBlock(),e.createElementBlock("div",{key:l.id},e.toDisplayString(l),1))),128))])]),e.createElementVNode("div",W,[t[9]||(t[9]=e.createElementVNode("label",{for:"post-description"}," Description",-1)),e.createVNode(e.unref(L),{value:o.description,"onUpdate:value":t[1]||(t[1]=l=>o.description=l),options:B.value,placeholder:"Enter News Content ..."},null,8,["value","options"])]),e.createElementVNode("div",z,[t[12]||(t[12]=e.createElementVNode("label",null,[e.createTextVNode("Brand Logo (Must be image) "),e.createElementVNode("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1)),e.createElementVNode("label",G,[e.createElementVNode("input",{id:"main_image",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/jpeg, image/png",onChange:t[2]||(t[2]=l=>o.main_image=l.target.files[0])},null,32),t[10]||(t[10]=e.createElementVNode("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[11]||(t[11]=e.createElementVNode("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[13]||(t[13]=e.createElementVNode("div",{class:"custom-file-container__image-preview"},null,-1))]),e.createElementVNode("div",H,[t[15]||(t[15]=e.createElementVNode("label",{for:"post-category",class:"form-label"},"Type",-1)),e.withDirectives(e.createElementVNode("select",{id:"type","onUpdate:modelValue":t[3]||(t[3]=l=>o.type=l),class:"form-select form-control",name:"type",onChange:k},t[14]||(t[14]=[e.createElementVNode("option",{value:""}," Select Type ",-1),e.createElementVNode("option",{value:"Image"}," Image ",-1),e.createElementVNode("option",{value:"Video"}," Video ",-1)]),544),[[e.vModelSelect,o.type]]),e.createElementVNode("div",J,e.toDisplayString(e.unref(i).type),1),e.createElementVNode("div",K,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((u=e.unref(s))==null?void 0:u.type,l=>(e.openBlock(),e.createElementBlock("div",{key:l.id},e.toDisplayString(l),1))),128))])]),o.type=="Image"?(e.openBlock(),e.createElementBlock("div",O,[t[18]||(t[18]=e.createElementVNode("label",null,[e.createTextVNode("Upload Image "),e.createElementVNode("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1)),e.createElementVNode("label",Q,[e.createElementVNode("input",{id:"file_path",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/png, image/jpeg",onChange:t[4]||(t[4]=l=>o.file_path=l.target.files[0])},null,32),t[16]||(t[16]=e.createElementVNode("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[17]||(t[17]=e.createElementVNode("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[19]||(t[19]=e.createElementVNode("div",{class:"custom-file-container__image-preview"},null,-1))],512)):e.createCommentVNode("",!0),o.type=="Video"?(e.openBlock(),e.createElementBlock("div",$,[t[20]||(t[20]=e.createElementVNode("label",{for:"post-name"},"Youtube Video Url",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-name","onUpdate:modelValue":t[5]||(t[5]=l=>o.file_path=l),type:"text",class:"form-control",placeholder:"Enter Youtube Video Url ...",onInput:w},null,544),[[e.vModelText,o.file_path]]),e.createElementVNode("div",ee,e.toDisplayString(e.unref(i).video_url),1),e.createElementVNode("div",te,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((p=e.unref(s))==null?void 0:p.video_url,l=>(e.openBlock(),e.createElementBlock("div",{key:l.id},e.toDisplayString(l),1))),128))])])):e.createCommentVNode("",!0),e.createElementVNode("div",le,[t[22]||(t[22]=e.createElementVNode("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e.createElementVNode("div",null,[e.withDirectives(e.createElementVNode("select",{id:"is_published","onUpdate:modelValue":t[6]||(t[6]=l=>o.is_published=l),class:"form-select"},t[21]||(t[21]=[e.createElementVNode("option",{value:""}," Select Publishing Status ... ",-1),e.createElementVNode("option",{selected:"",value:"1"}," Published ",-1),e.createElementVNode("option",{value:"0"}," Not Published ",-1)]),512),[[e.vModelSelect,o.is_published]])]),e.createElementVNode("div",oe,e.toDisplayString(e.unref(i).is_published),1),e.createElementVNode("div",ae,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((v=e.unref(s))==null?void 0:v.is_published,l=>(e.openBlock(),e.createElementBlock("div",{key:l.id},e.toDisplayString(l),1))),128))])])]),e.createElementVNode("button",{disabled:e.unref(m),class:"btn btn-primary mt-3"},[e.withDirectives(e.createElementVNode("div",ne,null,512),[[e.vShow,e.unref(m)]]),e.unref(m)?(e.openBlock(),e.createElementBlock("span",se,"Processing...")):(e.openBlock(),e.createElementBlock("span",re,"Save"))],8,ie)],32)])])])])])])}}};export{ke as default};
