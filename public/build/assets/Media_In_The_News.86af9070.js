import{_ as D,a5 as E,q as o,V as y,s as F,u as w,a6 as R,f as $,o as r,c as u,a,h as b,k as g,F as N,g as M,n as k,t as I,l as p,P as z,e as W}from"./app-setting.bd4864e9.js";import"./_commonjsHelpers.f037b798.js";const A={class:"main"},G={class:"page-content"},H={class:"container"},J={class:"row"},K={class:"col-lg-10 offset-lg-1 in-the-news-section"},O={class:"row justify-content-left"},Q={class:"p-6 border rounded"},U={class:"position-relative mb-2",style:{height:"216px"}},X=["href"],Y=["src","alt"],Z=["href"],ee={class:"col-lg-12 blogs mt-3"},ae={"aria-label":"Page navigation"},te={class:"pagination justify-content-center"},se={class:"page-item-total"},oe={__name:"Media_In_The_News",setup(le){const i=E();o(i);const t=o(i.params.page?parseInt(i.params.page):1),P=o(12),_=o(0),v=o([]);o(0);const m=o(i.params.id?parseInt(i.params.id):1);o([]);const V=o([]);o([]),o([]),o([]),o([]),o("");const h=async()=>{try{const e=await axios.get("/api/get-in-the-news",{params:{page:t.value,per_page:P.value,category_id:m.value}});v.value=e.data.data,_.value=e.data.total,console.log(_.value)}catch(e){console.error(e)}},C=async()=>{try{const e=await axios.get("/api/get-blog-sidebar",{});V.value=e.data.other_blogs}catch(e){console.error(e)}},f=e=>`/media/in-the-news/page/${e}`,c=y(()=>Math.ceil(_.value/P.value)),x=o([]),T=()=>{t.value>1&&t.value--},B=()=>{t.value<c.value&&t.value++},L=e=>{t.value=e},S=()=>{x.value=v.value},j=e=>Number.isInteger(e),q=y(()=>{const e=[];t.value>1&&e.push("Prev");let n=Math.max(1,t.value-Math.floor(5/2)),s=Math.min(n+5-1,c.value);s-n<5-1&&(n=Math.max(1,s-5+1));for(let d=n;d<=s;d++)e.push(d);return t.value<c.value&&e.push("Next"),e});return F(()=>{h(),C()}),w(t,h),w(v,S),R(()=>{const e=i.params;i.query,e.id!==""&&m!==e.id&&(t.value=1,m.value=e.id?parseInt(e.id):1,e.page!==""&&t!==e.page&&(t.value=e.page?parseInt(e.page):1),h())}),(e,l)=>{const n=$("router-link");return r(),u("div",null,[a("main",A,[a("div",G,[a("div",H,[a("div",J,[a("div",K,[l[4]||(l[4]=a("h2",{class:"about-us-title"},"In the News",-1)),b(n,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:g(()=>l[0]||(l[0]=[a("i",{class:"icon-long-arrow-left"},null,-1),a("span",null,"Back to Media Center",-1)])),_:1}),l[5]||(l[5]=a("p",{class:"lead about-us-lead text-primary mb-3"},"Media Spotlight: Sheffield Making Waves in the News",-1)),a("div",O,[(r(!0),u(N,null,M(x.value,s=>(r(),u("div",{class:"col-12 col-md-6 col-lg-4 mb-2 blog-item",key:s.id},[a("div",Q,[a("div",U,[a("a",{target:"_blank",class:"float-center",href:s.url},[a("img",{class:"w-100 h-100 rounded",style:{"object-fit":"cover"},src:"/storage/"+s.main_image_path,alt:s.name},null,8,Y)],8,X)]),a("a",{target:"_blank",class:"btn btn-primary ml-5 pl-4 mt-2 mb-2 float-center",href:s.url},l[1]||(l[1]=[p(" Read More "),a("i",{class:"icon-long-arrow-right"},null,-1)]),8,Z)])]))),128)),a("div",ee,[a("nav",ae,[a("ul",te,[a("li",{class:k(["page-item",{disabled:t.value===1}])},[b(n,{class:"page-link page-link-prev",to:f(t.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:T},{default:g(()=>l[2]||(l[2]=[a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-left"})],-1),p(" Prev ")])),_:1},8,["to"])],2),(r(!0),u(N,null,M(q.value,s=>(r(),u("li",{class:k(["page-item",{active:s===t.value}]),key:s},[j(s)?(r(),z(n,{key:0,class:"page-link",to:f(s),onClick:d=>L(s)},{default:g(()=>[p(I(s),1)]),_:2},1032,["to","onClick"])):W("",!0)],2))),128)),a("li",se,"of "+I(c.value),1),a("li",{class:k(["page-item",{disabled:t.value===c.value}])},[b(n,{class:"page-link page-link-next",to:f(t.value+1),"aria-label":"Next",onClick:B},{default:g(()=>l[3]||(l[3]=[p(" Next "),a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])])])])])])])])])}}},re=D(oe,[["__scopeId","data-v-7e9bf884"]]);export{re as default};
