import{_ as E,a3 as F,x as o,Q as w,y as R,z as I,a4 as q,f as Q,o as c,c as d,a,i as k,l as g,F as N,g as M,n as x,t as C,m as p,a2 as W,e as Z,Z as A,$ as G}from"./app-setting.fefad6ec.js";import"./_commonjsHelpers.f037b798.js";const i=u=>(A("data-v-7e9bf884"),u=u(),G(),u),H={class:"main"},J={class:"page-content"},K={class:"container"},O={class:"row"},U={class:"col-lg-10 offset-lg-1 in-the-news-section"},X=i(()=>a("h2",{class:"about-us-title"},"In the News",-1)),Y=i(()=>a("i",{class:"icon-long-arrow-left"},null,-1)),ee=i(()=>a("span",null,"Back to Media Center",-1)),ae=i(()=>a("p",{class:"lead about-us-lead text-primary mb-3"},"Media Spotlight: Sheffield Making Waves in the News",-1)),te={class:"row justify-content-left"},se={class:"p-6 border rounded"},oe={class:"position-relative mb-2",style:{height:"216px"}},le=["href"],ne=["src","alt"],ie=["href"],ce=i(()=>a("i",{class:"icon-long-arrow-right"},null,-1)),re={class:"col-lg-12 blogs mt-3"},de={"aria-label":"Page navigation"},ue={class:"pagination justify-content-center"},_e=i(()=>a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-left"})],-1)),ge={class:"page-item-total"},pe=i(()=>a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-right"})],-1)),he={__name:"Media_In_The_News",setup(u){const n=F();o(n);const t=o(n.params.page?parseInt(n.params.page):1),P=o(12),h=o(0),v=o([]);o(0);const m=o(n.params.id?parseInt(n.params.id):1);o([]);const V=o([]);o([]),o([]),o([]),o([]),o("");const f=async()=>{try{const e=await axios.get("/api/get-in-the-news",{params:{page:t.value,per_page:P.value,category_id:m.value}});v.value=e.data.data,h.value=e.data.total,console.log(h.value)}catch(e){console.error(e)}},T=async()=>{try{const e=await axios.get("/api/get-blog-sidebar",{});V.value=e.data.other_blogs}catch(e){console.error(e)}},b=e=>`/media/in-the-news/page/${e}`,r=w(()=>Math.ceil(h.value/P.value)),y=o([]),B=()=>{t.value>1&&t.value--},S=()=>{t.value<r.value&&t.value++},L=e=>{t.value=e},j=()=>{y.value=v.value},$=e=>Number.isInteger(e),z=w(()=>{const e=[];t.value>1&&e.push("Prev");let l=Math.max(1,t.value-Math.floor(5/2)),s=Math.min(l+5-1,r.value);s-l<5-1&&(l=Math.max(1,s-5+1));for(let _=l;_<=s;_++)e.push(_);return t.value<r.value&&e.push("Next"),e});return R(()=>{f(),T()}),I(t,f),I(v,j),q(()=>{const e=n.params;n.query,e.id!==""&&m!==e.id&&(t.value=1,m.value=e.id?parseInt(e.id):1,e.page!==""&&t!==e.page&&(t.value=e.page?parseInt(e.page):1),f())}),(e,D)=>{const l=Q("router-link");return c(),d("div",null,[a("main",H,[a("div",J,[a("div",K,[a("div",O,[a("div",U,[X,k(l,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:g(()=>[Y,ee]),_:1}),ae,a("div",te,[(c(!0),d(N,null,M(y.value,s=>(c(),d("div",{class:"col-12 col-md-6 col-lg-4 mb-2 blog-item",key:s.id},[a("div",se,[a("div",oe,[a("a",{target:"_blank",class:"float-center",href:s.url},[a("img",{class:"w-100 h-100 rounded",style:{"object-fit":"cover"},src:"/storage/"+s.main_image_path,alt:s.name},null,8,ne)],8,le)]),a("a",{target:"_blank",class:"btn btn-primary ml-5 pl-4 mt-2 mb-2 float-center",href:s.url},[p(" Read More "),ce],8,ie)])]))),128)),a("div",re,[a("nav",de,[a("ul",ue,[a("li",{class:x(["page-item",{disabled:t.value===1}])},[k(l,{class:"page-link page-link-prev",to:b(t.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:B},{default:g(()=>[_e,p(" Prev ")]),_:1},8,["to"])],2),(c(!0),d(N,null,M(z.value,s=>(c(),d("li",{class:x(["page-item",{active:s===t.value}]),key:s},[$(s)?(c(),W(l,{key:0,class:"page-link",to:b(s),onClick:_=>L(s)},{default:g(()=>[p(C(s),1)]),_:2},1032,["to","onClick"])):Z("",!0)],2))),128)),a("li",ge,"of "+C(r.value),1),a("li",{class:x(["page-item",{disabled:t.value===r.value}])},[k(l,{class:"page-link page-link-next",to:b(t.value+1),"aria-label":"Next",onClick:S},{default:g(()=>[p(" Next "),pe]),_:1},8,["to"])],2)])])])])])])])])])])}}},fe=E(he,[["__scopeId","data-v-7e9bf884"]]);export{fe as default};
