import{bn as F,z as u,h as D,w as C,bo as c,bp as d,bq as i,X as B,bv as m,S as A,by as N,bt as h,B as S,cd as T,bw as y}from"./app-setting.c40d872f.js";const V={key:0,class:"filter-container"},q={class:"filter-heading"},j=["value"],z={class:"filter-content"},P={class:"checkbox-wrapper"},M={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"checkmark"},O={class:"filter-label"},U={key:0,class:"filter-count"},E={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0},filters:{type:Array,required:!1,default:[]},selectedFilters:{type:Array,required:!1,default:[]},showNumbers:{type:Boolean,default:!1},searchTerm:{type:String,default:""},classes:{type:String,default:""}},emits:["update:displayedProducts"],setup(_,{emit:b}){const p=b,e=_,a=u(e.selectedFilters),w=u(e.showNumbers),o=u(e.items),n=u(e.searchTerm),r=u([]),f=u([]);e.filters.length>0&&(typeof e.filters[0]=="object"?(r.value=e.filters.map(t=>Object.keys(t)[0]),f.value=e.filters.map(t=>Object.values(t)[0])):(r.value=e.filters,f.value=e.filters)),D(()=>{var t,l;if(r.value.length)return r.value;if(!((t=e.items)!=null&&t.length)&&!(r!=null&&r.length)&&!e.filterColumn)return[];if(!((l=e.items)!=null&&l.length)||!e.filterColumn)return[];r.value=[...new Set(e.items.map(s=>s[e.filterColumn]).filter(Boolean))].sort(),f.value=r.value});const k=t=>e.items.filter(l=>l[e.filterColumn]===t).length,x=t=>t.split("_").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),g=()=>{a.value.length===0?o.value=e.items:o.value=e.items.filter(t=>a.value.includes(t[e.filterColumn])),n.value&&(o.value=o.value.filter(t=>{var l,s,v;return((l=t.name)==null?void 0:l.toLowerCase().includes(n.value.toLowerCase()))||((s=t.description)==null?void 0:s.toLowerCase().includes(n.value.toLowerCase()))||((v=t.tags)==null?void 0:v.toLowerCase().includes(n.value.toLowerCase()))||t[e.filterColumn].toLowerCase().includes(n.value.toLowerCase())})),p("update:displayedProducts",{filteredData:o.value,selectedFilters:a.value})};return C(()=>e.searchTerm,t=>{n.value=t,g()}),C(()=>e.items,t=>{if(o.value=t,a.value.length>0){const l=t.filter(s=>a.value.includes(s[e.filterColumn]));p("update:displayedProducts",{filteredData:l,selectedFilters:a.value})}else p("update:displayedProducts",{filteredData:t,selectedFilters:[]})},{deep:!0}),(t,l)=>r.value.length?(c(),d("div",V,[i("h4",q,[l[1]||(l[1]=i("span",{class:"filter-icon"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])],-1)),B(" "+m(x(_.filterColumn)),1)]),i("div",{class:h(["filter-options-container",e.classes])},[(c(!0),d(A,null,N(r.value,(s,v)=>(c(),d("label",{key:s,class:h(["filter-card",{"filter-card-selected":a.value.includes(s)}])},[S(i("input",{type:"checkbox",value:s,"onUpdate:modelValue":l[0]||(l[0]=L=>a.value=L),onChange:g,class:"filter-checkbox"},null,40,j),[[T,a.value]]),i("div",z,[i("div",P,[i("div",{class:h(["custom-checkbox",{checked:a.value.includes(s)}])},[a.value.includes(s)?(c(),d("svg",M,l[2]||(l[2]=[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):y("",!0)],2),i("span",O,m(f.value[v]),1)]),w.value?(c(),d("span",U,m(k(s)),1)):y("",!0)])],2))),128))],2)])):y("",!0)}},X=F(E,[["__scopeId","data-v-884b9cdb"]]);export{X as D};
