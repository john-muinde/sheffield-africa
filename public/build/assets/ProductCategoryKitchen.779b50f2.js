import{an as W,a3 as X,x as i,Q as O,y as ee,z as L,a4 as te,aq as ae,f as se,a5 as oe,o as r,c as u,a as e,i as f,l as p,t as _,m as v,p as D,ao as le,F as w,g as y,n as M,e as q,a2 as ie,Y as ce}from"./app-setting.08d4c509.js";import"./_commonjsHelpers.f037b798.js";const ne={class:"main"},re={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},de={class:"container d-flex align-items-center"},ue={class:"breadcrumb"},_e={class:"breadcrumb-item"},ve={class:"breadcrumb-item"},pe={class:"breadcrumb-item active","aria-current":"page"},he={class:"page-content"},ge={class:"container"},me={class:"row"},be={class:"col-lg-10"},fe={class:"toolbox"},ke={class:"toolbox-left"},xe={class:"toolbox-info"},Ce={class:"toolbox-right"},we={class:"toolbox-sort"},ye=e("label",{for:"sortby"},"Sort by:",-1),Pe={class:"select-custom"},Ne=ce('<option value="">Default</option><option value="name_asc"> Name A - Z </option><option value="name_desc"> Name Z - A </option><option value="created_at_asc"> Latest First </option><option value="created_at_desc"> Oldest First </option>',5),$e=[Ne],Se={class:"products mb-3 products-section"},Ve={class:"row"},Be={class:"product product-7 text-center"},Le={class:"product-media"},Me=["src"],Te=e("div",{class:"product-action-vertical"},null,-1),Ae={class:"product-action"},Ee=["onClick"],Fe=e("span",null,"Add to Cart",-1),Ie=[Fe],Oe={class:"product-body"},De={class:"product-cat"},qe={class:"product-title"},ze=e("div",{class:"ratings-container"},null,-1),Ke={"aria-label":"Page navigation"},He={class:"pagination justify-content-center"},Ze=e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),je={class:"page-item-total"},Qe=e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1),Re={class:"col-lg-2 order-lg-first"},Ue={class:"sidebar sidebar-shop sidebar-shop-category"},Ye=e("label",null,"Filters:",-1),Ge={key:0,class:"widget widget-collapsible"},Je=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Category ")],-1),We={class:"show",id:"widget-1"},Xe={class:"widget-body"},et={class:"filter-items filter-items-count"},tt={class:"custom-control custom-checkbox"},at=["id","value","onChange"],st=["for"],ot={class:"item-count"},lt={class:"widget widget-collapsible"},it=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"",href:"#widget-4",role:"button","aria-expanded":"true","aria-controls":"widget-4"}," Brand ")],-1),ct={class:"",id:"widget-4"},nt={class:"widget-body"},rt={class:"filter-items"},dt={class:"custom-control custom-checkbox"},ut=["id","value","onChange"],_t=["for"],gt={__name:"ProductCategoryKitchen",setup(vt){const z=W(),K=a=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),z.dispatch("cart/addToCart",a)},h=X();i(h);const l=i(h.params.page?parseInt(h.params.page):1),T=i(18),P=i(0),N=i([]),A=i(0),g=i(h.params.id?parseInt(h.params.id):1),$=i([]),E=i([]),n=i([]),m=i([]);i([]);const b=i([]),C=i(""),S=async()=>{try{const a={[g.value]:m.value[g.value]||[]};m.value=a;const o={[g.value]:b.value[g.value]||[]};b.value=o;const s=await axios.get("/api/get-products",{params:{page:l.value,per_page:T.value,category_id:g.value,checkedCategories:m.value,checkedBrands:b.value,selectedSortOption:C.value}});N.value=s.data.products.data,P.value=s.data.products.total,A.value=s.data.products.per_page,$.value=s.data.categories,E.value=s.data.brands,n.value=s.data.the_category}catch(a){console.error(a)}};function H(a){let o=n.value.id;o in m.value||(m.value[o]=[]);const s=m.value[o];s.includes(a)?s.splice(s.indexOf(a),1):s.push(a)}function Z(a){let o=n.value.id;o in b.value||(b.value[o]=[]);const s=b.value[o];s.includes(a)?s.splice(s.indexOf(a),1):s.push(a)}function j(){document.querySelectorAll('input[type="checkbox"]').forEach(o=>{o.checked=!1}),m.value=[],b.value=[],C.value=null}const k=O(()=>Math.ceil(P.value/T.value)),F=i([]),Q=()=>{l.value>1&&l.value--},R=()=>{l.value<k.value&&l.value++},U=a=>{l.value=a},V=(a,o,s,c)=>{let t=o.replace(/ /g,"-").replace(/\//g,"-");t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),t=t.toLowerCase();let d=c.replace(/ /g,"-").replace(/\//g,"-");d=d.replace(/-+/g,"-"),d=d.replace(/^-+|-+$/g,""),d=d.toLowerCase();let x=s.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return x=x.replace(/-+/g,"-"),x=x.replace(/^-+|-+$/g,""),`/kitchen/product/${a}/${t}-${x}`},B=(a,o,s)=>{if(o===void 0)return"/kitchen";{let c=o.replace(/ /g,"-").replace(/\//g,"-");return c=c.replace(/-+/g,"-"),c=c.replace(/^-+|-+$/g,""),c=c.toLowerCase(),`/kitchen/${a}/${c}/page/${s}`}},Y=()=>{F.value=N.value},G=a=>Number.isInteger(a),J=O(()=>{const a=[];l.value>1&&a.push("Prev");let s=Math.max(1,l.value-Math.floor(5/2)),c=Math.min(s+5-1,k.value);c-s<5-1&&(s=Math.max(1,c-5+1));for(let t=s;t<=c;t++)a.push(t);return l.value<k.value&&a.push("Next"),a});ee(()=>{S()}),L(l,S),L(N,Y),te(()=>{const a=h.params;h.query,a.id!==""&&g!==a.id&&(l.value=1,g.value=a.id?parseInt(a.id):1,a.page!==""&&l!==a.page&&(l.value=a.page?parseInt(a.page):1),S())});const I=i("");return L(()=>n.value.name,(a,o)=>{console.log(a),console.log(o),a!==o&&(console.log("changing it"),I.value=a)}),ae({title:I.value+"Food Service Equipment"}),(a,o)=>{const s=se("router-link"),c=oe("lazy");return r(),u("main",ne,[e("nav",re,[e("div",de,[e("ol",ue,[e("li",_e,[f(s,{to:"/"},{default:p(()=>[v("HOME")]),_:1})]),e("li",ve,[f(s,{to:"/kitchen"},{default:p(()=>[v("KITCHEN")]),_:1})]),e("li",pe,_(n.value.name),1)])])]),e("div",he,[e("div",ge,[e("div",me,[e("div",be,[e("div",fe,[e("div",ke,[e("div",xe,[v(" Showing "),e("span",null,_(A.value)+" of "+_(P.value),1),v(" Products ")])]),e("div",Ce,[e("div",we,[ye,e("div",Pe,[D(e("select",{name:"sortby",id:"sortby",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>C.value=t)},$e,512),[[le,C.value]])])])])]),e("div",Se,[e("div",Ve,[(r(!0),u(w,null,y(F.value,t=>(r(),u("div",{class:"col-6 col-md-3 col-lg-2 col-xl-2",key:t.id},[e("div",Be,[e("figure",Le,[f(s,{to:V(t.id,t.name,t.model_number,n.value.name)},{default:p(()=>[D(e("img",{src:"/storage/"+t.main_image_path,alt:"Product image",class:"product-image"},null,8,Me),[[c,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"]),Te,e("div",Ae,[e("button",{type:"button",onClick:d=>K(t),class:"btn-product btn-cart"},Ie,8,Ee)])]),e("div",Oe,[e("div",De,[f(s,{to:V(t.id,t.name,t.model_number,n.value.name)},{default:p(()=>[v(_(t.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",qe,[f(s,{to:V(t.id,t.name,t.model_number,n.value.name)},{default:p(()=>[v(_(t.name),1)]),_:2},1032,["to"])]),ze])])]))),128))])]),e("nav",Ke,[e("ul",He,[e("li",{class:M(["page-item",{disabled:l.value===1}])},[f(s,{class:"page-link page-link-prev",to:B(n.value.id,n.value.name,l.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:Q},{default:p(()=>[Ze,v(" Prev ")]),_:1},8,["to"])],2),(r(!0),u(w,null,y(J.value,t=>(r(),u("li",{class:M(["page-item",{active:t===l.value}]),key:t},[G(t)?(r(),ie(s,{key:0,class:"page-link",to:B(n.value.id,n.value.name,t),onClick:d=>U(t)},{default:p(()=>[v(_(t),1)]),_:2},1032,["to","onClick"])):q("",!0)],2))),128)),e("li",je," of "+_(k.value),1),e("li",{class:M(["page-item",{disabled:l.value===k.value}])},[f(s,{class:"page-link page-link-next",to:B(n.value.id,n.value.name,l.value+1),"aria-label":"Next",onClick:R},{default:p(()=>[v(" Next "),Qe]),_:1},8,["to"])],2)])])]),e("aside",Re,[e("div",Ue,[e("div",{class:"widget widget-clean"},[Ye,e("button",{onClick:j,class:"btn btn-primary btn-sm sidebar-filter-clear"}," Clean All ")]),$.value.length?(r(),u("div",Ge,[Je,e("div",We,[e("div",Xe,[e("div",et,[(r(!0),u(w,null,y($.value,t=>(r(),u("div",{class:"filter-item",key:t.id},[e("div",tt,[e("input",{type:"checkbox",class:"custom-control-input",id:"cat-"+t.id,value:t.id,onChange:d=>H(t.id)},null,40,at),e("label",{class:"custom-control-label",for:"cat-"+t.id},_(t.name),9,st)]),e("span",ot,_(t.category_products_count),1)]))),128))])])])])):q("",!0),e("div",lt,[it,e("div",ct,[e("div",nt,[e("div",rt,[(r(!0),u(w,null,y(E.value,t=>(r(),u("div",{key:t.id,class:"filter-item"},[e("div",dt,[e("input",{type:"checkbox",class:"custom-control-input",id:"brand-"+t.product_brand.id,value:t.product_brand.id,onChange:d=>Z(t.product_brand.id)},null,40,ut),e("label",{class:"custom-control-label",for:"brand-"+t.product_brand.id},_(t.product_brand.name),9,_t)])]))),128))])])])])])])])])])])}}};export{gt as default};
