import{e as k,a as y,v as e}from"./index-f79e0146.js";import{u as P}from"./use-meta-04c4be92.js";import"./_commonjsHelpers-23102255.js";const S={class:"main"},B={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},M={class:"container d-flex align-items-center"},L={class:"breadcrumb"},T={class:"breadcrumb-item"},D={class:"breadcrumb-item"},I={class:"breadcrumb-item active","aria-current":"page"},$={class:"page-content"},H={class:"container"},K={class:"row"},O={class:"col-lg-10"},z={class:"products mb-3"},A={class:"row"},F={class:"col-lg-12 col-md-12 mt-1"},j={id:"accordion-1",class:"accordion",style:{width:"100%"}},q={class:"card"},R={id:"heading-2",class:"card-header"},U={class:"card-title"},G={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},J={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},Q={class:"card-body"},W=["innerHTML"],X={class:"product product-7 text-center"},Y={class:"product-media"},Z=["src"],ee={class:"product-action"},te=["onClick"],ae={class:"product-body"},oe={class:"product-cat"},se={class:"product-title"},le={class:"col-lg-2 order-lg-first mt-2"},ce={class:"sidebar sidebar-shop sidebar-shop-solution"},ne={key:0,class:"widget widget-collapsible widget-categories"},ie={id:"widget-1",class:"show"},re={class:"widget-body"},de={class:"filter-items filter-items-count"},me={class:"custom-control custom-checkbox"},ue=["id","value","onChange"],_e=["for"],pe={class:"widget widget-collapsible"},ge={id:"widget-4",class:"show"},he={class:"widget-body"},ve=["src"],be={__name:"KitchenSolution",setup(Ne){const V=k(),E=a=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),V.dispatch("cart/addToCart",a)},r=y(),d=e.ref(r.params.page?parseInt(r.params.page):1),p=e.ref(12),f=e.ref(0),g=e.ref([]),l=e.ref(r.params.id?parseInt(r.params.id):1),c=e.ref([]),u=e.ref([]),m=e.ref([]),b=async()=>{try{const a=await axios.get("/api/get-solution-categories",{params:{solution_id:l.value}});c.value=a.data.data,u.value=a.data.data.product_categories_json,P({title:c.value.name+" | Kitchen Solution"})}catch(a){console.error(a)}},h=e.ref([]),v=async()=>{l.value+"",m.value[l.value];try{const a=await axios.get("/api/get-solution-category-products",{params:{solution_id:l.value,checkedCategoriesSolutions:m.value}});h.value=a.data.products.data}catch(a){console.error(a)}};function x(a){let o=l.value;o in m.value||(m.value[o]=[]);const s=m.value[o];s.includes(a)?s.splice(s.indexOf(a),1):s.push(a)}const N=e.computed(()=>Math.ceil(f.value/p.value)),w=e.ref([]),_=(a,o,s,n)=>{let t=o.replace(/ /g,"-").replace(/\//g,"-");t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),t=t.toLowerCase();let i=s.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return i=i.replace(/-+/g,"-"),i=i.replace(/^-+|-+$/g,""),`/kitchen/product/${a}/${t}-${i}`},C=()=>{w.value=g.value.slice(0,0+p.value)};return e.computed(()=>{const a=[];d.value>1&&a.push("Prev");let s=Math.max(1,d.value-Math.floor(5/2)),n=Math.min(s+5-1,N.value);n-s<5-1&&(s=Math.max(1,n-5+1));for(let t=s;t<=n;t++)a.push(t);return d.value<N.value&&a.push("Next"),a}),e.onMounted(()=>{b(),v()}),e.watch(g,C),e.watchEffect(()=>{const a=r.params;r.query,a.id!==""&&l.value!==a.id&&(d.value=1,l.value=a.id?parseInt(a.id):1,a.page!==""&&d.value!==a.page&&(d.value=a.page?parseInt(a.page):1),v())}),(a,o)=>{const s=e.resolveComponent("router-link"),n=e.resolveDirective("lazy");return e.openBlock(),e.createElementBlock("main",S,[e.createElementVNode("nav",B,[e.createElementVNode("div",M,[e.createElementVNode("ol",L,[e.createElementVNode("li",T,[e.createVNode(s,{to:"/"},{default:e.withCtx(()=>o[0]||(o[0]=[e.createTextVNode(" HOME ")])),_:1})]),e.createElementVNode("li",D,[e.createVNode(s,{to:"/commercial-kitchen"},{default:e.withCtx(()=>o[1]||(o[1]=[e.createTextVNode(" KITCHEN ")])),_:1})]),e.createElementVNode("li",I,e.toDisplayString(c.value.name),1)])])]),e.createElementVNode("div",$,[e.createElementVNode("div",H,[e.createElementVNode("div",K,[e.createElementVNode("div",O,[e.createElementVNode("div",z,[e.createElementVNode("div",A,[e.createElementVNode("div",F,[e.createElementVNode("div",j,[e.createElementVNode("div",q,[e.createElementVNode("div",R,[e.createElementVNode("h2",U,[e.createElementVNode("a",G,e.toDisplayString(c.value.name)+" - SOLUTION ",1)])]),e.createElementVNode("div",J,[e.createElementVNode("div",Q,[e.createElementVNode("span",{innerHTML:c.value.description},null,8,W)])])])])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,t=>(e.openBlock(),e.createElementBlock("div",{key:t.id,class:"col-6 col-md-3 col-lg-2 col-xl-2 image-container"},[e.createElementVNode("div",X,[e.createElementVNode("figure",Y,[e.createVNode(s,{to:_(t.id,t.name,t.model_number)},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("img",{src:"/storage/"+t.main_image_path,alt:"Product image",class:"product-image"},null,8,Z),[[n,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"]),o[3]||(o[3]=e.createElementVNode("div",{class:"product-action-vertical"},null,-1)),e.createElementVNode("div",ee,[e.createElementVNode("button",{type:"button",class:"btn-product btn-cart",onClick:i=>E(t)},o[2]||(o[2]=[e.createElementVNode("span",null,"Add to Cart",-1)]),8,te)])]),e.createElementVNode("div",ae,[e.createElementVNode("div",oe,[e.createVNode(s,{to:_(t.id,t.name,t.model_number)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.product_brand.name),1)]),_:2},1032,["to"])]),e.createElementVNode("h3",se,[e.createVNode(s,{to:_(t.id,t.name,t.model_number)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.name),1)]),_:2},1032,["to"])]),o[4]||(o[4]=e.createElementVNode("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),e.createElementVNode("aside",le,[e.createElementVNode("div",ce,[u.value.length?(e.openBlock(),e.createElementBlock("div",ne,[o[5]||(o[5]=e.createElementVNode("h3",{class:"widget-title"},[e.createElementVNode("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),e.createElementVNode("div",ie,[e.createElementVNode("div",re,[e.createElementVNode("div",de,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,t=>(e.openBlock(),e.createElementBlock("div",{key:t.id,class:"filter-item"},[e.createElementVNode("div",me,[e.createElementVNode("input",{id:"cat-"+t.id,type:"checkbox",class:"custom-control-input",value:t.id,onChange:i=>x(t.id)},null,40,ue),e.createElementVNode("label",{class:"custom-control-label",for:"cat-"+t.id},e.toDisplayString(t.name),9,_e)])]))),128))])])])])):e.createCommentVNode("",!0),e.createElementVNode("div",pe,[e.createElementVNode("div",ge,[e.createElementVNode("div",he,[e.withDirectives(e.createElementVNode("img",{src:"/storage/"+c.value.main_image_path,alt:"Product image"},null,8,ve),[[n,"/storage/"+c.value.main_image_path,"src"]])])])])])])])])])])}}};export{be as default};
