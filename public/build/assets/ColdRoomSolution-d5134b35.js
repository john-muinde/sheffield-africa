import{bU as R,bT as E,r as i,c as L,o as A,w as H,aa as z,bK as U,R as j,bB as _,bC as m,bD as e,e as p,bP as v,bI as h,a7 as S,bL as M,bJ as q,Q as I,ab as b}from"./index-e4a75441.js";import"./use-meta-6b39c24c.js";import"./_commonjsHelpers-de833af9.js";const F={class:"main"},G={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},J={class:"container d-flex align-items-center"},K={class:"breadcrumb"},Q={class:"breadcrumb-item"},W={class:"breadcrumb-item"},X={class:"breadcrumb-item active","aria-current":"page"},Y={class:"page-content"},Z={class:"container"},ee={class:"row"},te={class:"col-lg-10"},se={class:"products mb-3"},ae={class:"row"},oe={class:"col-lg-12 col-md-12 mt-1"},ie={id:"accordion-1",class:"accordion",style:{width:"100%"}},le={class:"card"},ne={id:"heading-2",class:"card-header"},ce={class:"card-title"},de={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},re={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},ue={class:"card-body"},_e=["innerHTML"],me={class:"product product-7 text-center"},ge={class:"product-media"},pe=["src"],ve=["disabled"],he=["onClick"],be={class:"product-body"},fe={class:"product-cat"},we={class:"product-title"},Ce={class:"col-lg-2 order-lg-first mt-2"},xe={class:"sidebar sidebar-shop sidebar-shop-solution"},ye={key:0,class:"widget widget-collapsible widget-categories"},Pe={id:"widget-1",class:"show"},ke={class:"widget-body"},Le={class:"filter-items filter-items-count"},Se={class:"custom-control custom-checkbox"},Me=["id","value","onChange"],Ie=["for"],Ve={class:"widget widget-collapsible"},Ne={id:"widget-4",class:"show"},Te={class:"widget-body"},$e=["src"],Ee={__name:"ColdRoomSolution",setup(De){const V=R(),N=s=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),V.dispatch("cart/addToCart",s)},l=E();i(l);const r=i(l.params.page?parseInt(l.params.page):1),C=i(12),T=i(0),x=i([]);i(0);const n=i(l.params.id?parseInt(l.params.id):1);i([]),i([]),i([]);const u=i([]),f=i([]),g=i([]);i([]);const $=async()=>{try{const s=await axios.get("/api/get-solution-categories",{params:{solution_id:n.value}});u.value=s.data.data,f.value=s.data.data.product_categories_json}catch(s){console.error(s)}},y=i([]),P=async()=>{n.value+"",g.value[n.value];try{const s=await axios.get("/api/get-solution-category-products",{params:{solution_id:n.value,checkedCategoriesSolutions:g.value}});y.value=s.data.products.data}catch(s){console.error(s)}};function D(s){let a=n.value;a in g.value||(g.value[a]=[]);const o=g.value[a];o.includes(s)?o.splice(o.indexOf(s),1):o.push(s)}const k=L(()=>Math.ceil(T.value/C.value)),O=i([]),w=(s,a,o,c)=>{let t=a.replace(/ /g,"-").replace(/\//g,"-");t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),t=t.toLowerCase();let d=o.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return d=d.replace(/-+/g,"-"),d=d.replace(/^-+|-+$/g,""),`/cold-storage/product/${s}/${t}-${d}`},B=()=>{O.value=x.value.slice(0,0+C.value)};return L(()=>{const s=[];r.value>1&&s.push("Prev");let o=Math.max(1,r.value-Math.floor(5/2)),c=Math.min(o+5-1,k.value);c-o<5-1&&(o=Math.max(1,c-5+1));for(let t=o;t<=c;t++)s.push(t);return r.value<k.value&&s.push("Next"),s}),A(()=>{$(),P()}),H(x,B),z(()=>{const s=l.params;l.query,s.id!==""&&n.value!==s.id&&(r.value=1,n.value=s.id?parseInt(s.id):1,s.page!==""&&r.value!==s.page&&(r.value=s.page?parseInt(s.page):1),P())}),(s,a)=>{const o=U("router-link"),c=j("lazy");return _(),m("main",F,[e("nav",G,[e("div",J,[e("ol",K,[e("li",Q,[p(o,{to:"/"},{default:v(()=>a[0]||(a[0]=[b(" HOME ")])),_:1})]),e("li",W,[p(o,{to:"/cold-storage"},{default:v(()=>a[1]||(a[1]=[b(" COLD STORAGE ")])),_:1})]),e("li",X,h(u.value.name),1)])])]),e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[e("div",oe,[e("div",ie,[e("div",le,[e("div",ne,[e("h2",ce,[e("a",de,h(u.value.name)+" - SOLUTION ",1)])]),e("div",re,[e("div",ue,[e("span",{innerHTML:u.value.description},null,8,_e)])])])])]),(_(!0),m(S,null,M(y.value,t=>(_(),m("div",{key:t.id,class:"col-6 col-md-2 col-lg-2 col-xl-2 image-container"},[e("div",me,[e("figure",ge,[p(o,{to:w(t.id,t.name,t.model_number)},{default:v(()=>[I(e("img",{src:"/storage/"+t.main_image_path,alt:"Product image",class:"product-image"},null,8,pe),[[c,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"]),a[3]||(a[3]=e("div",{class:"product-action-vertical"},null,-1)),e("div",{class:"product-action",disabled:!t},[e("button",{type:"button",class:"btn-product btn-cart",onClick:d=>N(t)},a[2]||(a[2]=[e("span",null,"Add to Cart",-1)]),8,he)],8,ve)]),e("div",be,[e("div",fe,[p(o,{to:w(t.id,t.name,t.model_number)},{default:v(()=>[b(h(t.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",we,[p(o,{to:w(t.id,t.name,t.model_number)},{default:v(()=>[b(h(t.name),1)]),_:2},1032,["to"])]),a[4]||(a[4]=e("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),e("aside",Ce,[e("div",xe,[f.value.length?(_(),m("div",ye,[a[5]||(a[5]=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),e("div",Pe,[e("div",ke,[e("div",Le,[(_(!0),m(S,null,M(f.value,t=>(_(),m("div",{key:t.id,class:"filter-item"},[e("div",Se,[e("input",{id:"cat-"+t.id,type:"checkbox",class:"custom-control-input",value:t.id,onChange:d=>D(t.id)},null,40,Me),e("label",{class:"custom-control-label",for:"cat-"+t.id},h(t.name),9,Ie)])]))),128))])])])])):q("",!0),e("div",Ve,[e("div",Ne,[e("div",Te,[I(e("img",{src:"/storage/"+u.value.main_image_path,alt:"Product image"},null,8,$e),[[c,"/storage/"+u.value.main_image_path,"src"]])])])])])])])])])])}}};export{Ee as default};
