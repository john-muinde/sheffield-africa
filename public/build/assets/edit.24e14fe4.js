import{aa as w,ab as M,ac as h,P as N,a3 as B,y as C,a4 as x,o as t,c as a,a2 as T,a as e,W as j,p as c,X as S,t as r,u as l,F as v,g as b,m as y,al as R,v as W,aq as X,ad as A,ae as Z}from"./app-setting.27140836.js";import{u as z}from"./showrooms.34ce8e87.js";import{F as G}from"./file-upload-with-preview.esm.fbf56fa2.js";/* empty css                                     */import"./vue3-multiselect.umd.min.7157806b.js";/* empty css                         */import"./_commonjsHelpers.f037b798.js";const H={class:"container"},J=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Showrooms")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Edit Showroom")])])])])])],-1),K={class:"container"},O={class:"row"},Q={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},Y={class:"statbox panel box box-shadow"},$=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Edit Showroom")])])])],-1),ee={class:"panel-body"},se=["onSubmit"],oe={class:"form-group"},te=e("label",{for:"post-name"},"Showroom Name",-1),ie={class:"text-danger mt-1"},ae={class:"text-danger mt-1"},le={class:"form-group"},ne=e("label",{for:"post_description"},"Description",-1),re={class:"text-danger mt-1"},de={class:"text-danger mt-1"},ce={class:"form-group"},me={class:"custom-file-container","data-upload-id":"myFirstImage"},ue=e("label",null,[y("Upload Showroom Logo "),e("a",{id:"showroom_image",href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1),_e={class:"custom-file-container__custom-file"},pe=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),he=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),ve=e("div",{class:"custom-file-container__image-preview"},null,-1),be={class:"form-group"},ge=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1),fe=e("option",{selected:"",value:"1"},"Published",-1),we=e("option",{value:"0"},"Not Published",-1),xe=[fe,we],Se={class:"text-danger mt-1"},ye={class:"text-danger mt-1"},Fe=["disabled"],Ie={class:""},Ee={key:0},Pe={key:1},Te={__name:"edit",setup(Ve){w("required",A),w("min",Z);const F={name:"required|min:3",description:"required|min:3",is_published:"required"},{validate:I,errors:m,resetForm:Ue}=M({validationSchema:F}),{showroom:n,getShowroom:E,updateShowroom:P,validationErrors:u,isLoading:_,getShowroomList:V,showroomList:ke}=z(),{value:U}=h("name",null,{initialValue:""}),{value:k}=h("description",null,{initialValue:""}),{value:q}=h("is_published",null,{initialValue:""}),s=N({name:U,description:k,is_published:q}),L=B();function D(){I().then(p=>{p.valid&&P(s)})}return C(()=>{E(L.params.id),V(),x(()=>{if(n.value&&n.value.main_image_path){const d={images:{baseImage:"/storage/"+n.value.main_image_path,backgroundImage:""}};new G("myFirstImage",d)}})}),x(()=>{s.id=n.value.id,s.name=n.value.name,s.description=n.value.description,s.is_published=n.value.is_published,console.log(n.value)}),(p,i)=>{var d,g,f;return t(),a("div",H,[(t(),T(X,{to:"#breadcrumb"},[J])),e("div",K,[e("div",O,[e("div",Q,[e("div",Y,[$,e("div",ee,[e("form",{onSubmit:j(D,["prevent"])},[e("div",oe,[te,c(e("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>s.name=o),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Showroom Name ..."},null,512),[[S,s.name]]),e("div",ie,r(l(m).name),1),e("div",ae,[(t(!0),a(v,null,b((d=l(u))==null?void 0:d.name,o=>(t(),a("div",null,r(o),1))),256))])]),e("div",le,[ne,c(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=o=>s.description=o),id:"post_description",class:"form-control",placeholder:"Enter Description ..."},null,512),[[S,s.description]]),e("div",re,r(l(m).description),1),e("div",de,[(t(!0),a(v,null,b((g=l(u))==null?void 0:g.description,o=>(t(),a("div",null,r(o),1))),256))])]),e("div",ce,[e("div",me,[y(r(s.showroom_image)+" ",1),ue,e("label",_e,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:i[2]||(i[2]=o=>s.main_image=o.target.files[0])},null,32),pe,he]),ve])]),e("div",be,[ge,e("div",null,[c(e("select",{"onUpdate:modelValue":i[3]||(i[3]=o=>s.is_published=o),id:"is_published",class:"form-select"},xe,512),[[R,s.is_published]])]),e("div",Se,r(l(m).is_published),1),e("div",ye,[(t(!0),a(v,null,b((f=l(u))==null?void 0:f.is_published,o=>(t(),a("div",null,r(o),1))),256))])]),e("button",{disabled:l(_),class:"btn btn-primary mt-3"},[c(e("div",Ie,null,512),[[W,l(_)]]),l(_)?(t(),a("span",Ee,"Processing...")):(t(),a("span",Pe,"Update"))],8,Fe)],40,se)])])])])])])}}};export{Te as default};
