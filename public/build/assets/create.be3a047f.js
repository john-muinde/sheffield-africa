import{aa as h,ab as M,ac as p,P as D,x as P,y as N,o as a,c as i,a2 as U,a as e,W as j,p as g,X as G,t as d,u as l,F as b,g as f,i as y,ao as T,v as X,m as x,at as A,ad as W,ae as Z}from"./app-setting.26d76640.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as B}from"./file-upload-with-preview.esm.fbf56fa2.js";import{M as O}from"./vue3-multiselect.umd.min.d71c5eab.js";/* empty css                         */import{q as R}from"./vue3-quill.585d188c.js";import{u as z}from"./blogs.fcf8e6b2.js";import{u as H}from"./blogCategories.ee1671cc.js";import"./_commonjsHelpers.f037b798.js";const J={class:"container"},K=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Blogs")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Create Blog")])])])])])],-1),Q={class:"container"},Y={class:"row"},$={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},ee={class:"statbox panel box box-shadow"},te=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Create Blog")])])])],-1),se={class:"panel-body"},le=["onSubmit"],oe={class:"row"},ae={class:"form-group col-md-12"},ie=e("label",{for:"post-name"},"Blog Name",-1),ne={class:"text-danger mt-1"},re={class:"text-danger mt-1"},ce={class:"form-group"},de=e("label",{for:"post-category",class:"form-label"},"Select Blog Category",-1),ue={class:"text-danger mt-1"},me={class:"text-danger mt-1"},_e={class:"form-group"},pe=e("label",{for:"post-content"},"Blog Content",-1),ge={class:"custom-file-container","data-upload-id":"myFirstImage"},be=e("label",null,[x("Upload Main Blog Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1),fe={class:"custom-file-container__custom-file",for:"main_image"},ve=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),he=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),ye=e("div",{class:"custom-file-container__image-preview"},null,-1),Be={class:"custom-file-container","data-upload-id":"myBlogGallery"},xe=e("label",null,[x("Blog Gallery (multiple images allowed) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1),we={class:"custom-file-container__custom-file",for:"blog_gallery"},Ie={type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",ref:"blog_gallery",multiple:"",id:"blog_gallery"},Ee=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),Se=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),Ce=e("div",{class:"custom-file-container__image-preview"},null,-1),Fe={class:"form-group col-md-4"},Ve=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1),qe=e("option",{value:""}," Select Publishing Status ... ",-1),Le=e("option",{selected:"",value:"1"}," Published ",-1),ke=e("option",{value:"0"}," Not Published ",-1),Me=[qe,Le,ke],De={class:"text-danger mt-1"},Pe={class:"text-danger mt-1"},Ne=["disabled"],Ue={class:""},je={key:0},Ge={key:1},et={__name:"create",setup(Te){h("required",W),h("min",Z);const w={name:"required|min:3",content:"required",is_published:"required"},{validate:I,errors:u}=M({validationSchema:w}),{value:E}=p("name",null,{initialValue:""}),{value:S}=p("content",null,{initialValue:""}),{value:C}=p("is_published",null,{initialValue:""}),{storeBlog:F,validationErrors:m,isLoading:_,getBlogList:Xe,blogList:Ae}=z(),{getBlogCategoryList:V,blogCategoryList:q}=H(),o=D({name:E,categories:"",content:S,is_published:C,main_image:"",blog_gallery:"",document:""}),L=P({modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"]],clipboard:{matchers:[["img",()=>!1]]}}});function k(){I().then(r=>{if(r.valid){const n=document.getElementById("blog_gallery").files;F(o,n)}})}return N(()=>{V(),new B("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}}),new B("myBlogGallery",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}});const r=document.querySelector(".ql-editor");r&&(r.addEventListener("drop",t=>{t.preventDefault()}),r.addEventListener("paste",t=>{if(t.clipboardData&&t.clipboardData.items){const n=t.clipboardData.items;for(let c=0;c<n.length;c++)if(n[c].type.indexOf("image")!==-1){t.preventDefault();return}}}))}),(r,t)=>{var n,c,v;return a(),i("div",J,[(a(),U(A,{to:"#breadcrumb"},[K])),e("div",Q,[e("div",Y,[e("div",$,[e("div",ee,[te,e("div",se,[e("form",{onSubmit:j(k,["prevent"])},[e("div",oe,[e("div",ae,[ie,g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.name=s),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Blog Name ..."},null,512),[[G,o.name]]),e("div",ne,d(l(u).name),1),e("div",re,[(a(!0),i(b,null,f((n=l(m))==null?void 0:n.name,s=>(a(),i("div",null,d(s),1))),256))])]),e("div",ce,[de,y(l(O),{modelValue:o.categories,"onUpdate:modelValue":t[1]||(t[1]=s=>o.categories=s),options:l(q),reduce:s=>s.id,multiple:!0,taggable:!0,searchable:!0,"preselect-first":!0,"track-by":"id",label:"name",placeholder:"Choose Blog Category ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",ue,d(l(u).categories),1),e("div",me,[(a(!0),i(b,null,f((c=l(m))==null?void 0:c.categories,s=>(a(),i("div",null,d(s),1))),256))])]),e("div",_e,[pe,y(l(R),{value:o.content,"onUpdate:value":t[2]||(t[2]=s=>o.content=s),options:L.value,placeholder:"Enter Blog Content ..."},null,8,["value","options"])]),e("div",ge,[be,e("label",fe,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:t[3]||(t[3]=s=>o.main_image=s.target.files[0]),id:"main_image"},null,32),ve,he]),ye]),e("div",Be,[xe,e("label",we,[e("input",Ie,null,512),Ee,Se]),Ce]),e("div",Fe,[Ve,e("div",null,[g(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.is_published=s),id:"is_published",class:"form-select"},Me,512),[[T,o.is_published]])]),e("div",De,d(l(u).is_published),1),e("div",Pe,[(a(!0),i(b,null,f((v=l(m))==null?void 0:v.is_published,s=>(a(),i("div",null,d(s),1))),256))])])]),e("button",{disabled:l(_),class:"btn btn-primary mt-3"},[g(e("div",Ue,null,512),[[X,l(_)]]),l(_)?(a(),i("span",je,"Processing...")):(a(),i("span",Ge,"Save"))],8,Ne)],40,le)])])])])])])}}};export{et as default};
