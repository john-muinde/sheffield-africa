import{q as r,aa as m,ab as L,ai as s}from"./app-setting.04459ca1.js";function j(){const u=r([]),c=r([]),g=r([]),d=r({name:"",description:""}),l=m(),n=r({}),o=r(!1),i=L("$swal"),y=async(e=1,t="",a="",p="",h="",C="created_at",f="desc")=>{s.get("/api/categories?page="+e+"&search_id="+t+"&search_title="+a+"&search_parent_id="+p+"&search_global="+h+"&order_column="+C+"&order_direction="+f).then(v=>{u.value=v.data})};return{categoryList:c,categoryMainList:g,categories:u,category:d,getCategories:y,getMainCategoryList:async()=>{s.get("/api/category-main").then(e=>{g.value=e.data})},getSelectedCategoryList:async e=>{s.get("/api/category-list/"+e).then(t=>{c.value=t.data.data})},getCategoryList:async()=>{s.get("/api/category-list").then(e=>{c.value=e.data.data})},getCategory:async e=>{s.get("/api/categories/"+e).then(t=>{d.value=t.data.data})},storeCategory:async e=>{o.value||(o.value=!0,n.value={},s.post("/api/categories",e).then(t=>{l.push({name:"categories.create"}),e.name=null,e.description=null,e.is_published=null,i({icon:"success",title:"Category saved successfully"})}).catch(t=>{var a;(a=t.response)!=null&&a.data&&(n.value=t.response.data.errors)}).finally(()=>o.value=!1))},updateCategory:async e=>{o.value||(o.value=!0,n.value={},s.put("/api/categories/"+e.id,e).then(t=>{l.push({name:"categories.index"}),i({icon:"success",title:"Category updated successfully"})}).catch(t=>{var a;(a=t.response)!=null&&a.data&&(n.value=t.response.data.errors)}).finally(()=>o.value=!1))},deleteCategory:async e=>{i({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(t=>{t.isConfirmed&&s.delete("/api/categories/"+e).then(a=>{y(),l.push({name:"categories.index"}),i({icon:"success",title:"Category deleted successfully"})}).catch(a=>{i({icon:"error",title:"Something went wrong"})})})},validationErrors:n,isLoading:o}}export{j as u};
