import{c1 as W,c0 as X,r as i,c as D,o as ee,w as S,ad as te,bM as ae,V as se,bE as c,bF as u,bG as e,e as f,bR as g,bK as v,ae as p,U as E,ca as oe,c2 as le,aa as x,bN as w,bI as B,bL as R,bU as ie}from"./index.352382ad.js";import{b as ne}from"./use-meta.da978cb1.js";import"./_commonjsHelpers.f037b798.js";const re={class:"main"},ce={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},de={class:"container d-flex align-items-center"},ue={class:"breadcrumb"},ve={class:"breadcrumb-item"},pe={class:"breadcrumb-item"},ge={class:"breadcrumb-item active","aria-current":"page"},me={class:"page-content"},_e={class:"container"},be={class:"row"},he={class:"col-lg-10"},fe={class:"toolbox"},ke={class:"toolbox-left"},ye={class:"toolbox-info"},Ce={class:"toolbox-right"},xe={class:"toolbox-sort"},we={class:"select-custom"},Pe={class:"products mb-3 products-section"},Ne={class:"row"},Le={class:"product product-7 text-center"},$e={class:"product-media"},Ve=["src"],Me={class:"product-action"},Se=["onClick"],Be={class:"product-body"},Ae={class:"product-cat"},Oe={class:"product-title"},Fe={"aria-label":"Page navigation"},Ie={class:"pagination justify-content-center"},Te={class:"page-item-total"},De={class:"col-lg-2 order-lg-first"},Ee={class:"sidebar sidebar-shop sidebar-shop-category"},Re={key:0,class:"widget widget-collapsible"},Ue={id:"widget-1",class:"show"},ze={class:"widget-body"},qe={class:"filter-items filter-items-count"},Ge={class:"custom-control custom-checkbox"},Ze=["id","value","onChange"],je=["for"],He={class:"item-count"},Ke={class:"widget widget-collapsible"},Ye={id:"widget-4",class:"show"},Je={class:"widget-body"},Qe={class:"filter-items"},We={class:"custom-control custom-checkbox"},Xe=["id","value","onChange"],et=["for"],lt={__name:"ProductCategoryLaundry",setup(tt){const U=W(),z=s=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),U.dispatch("cart/addToCart",s)},m=X();i(m);const l=i(m.params.page?parseInt(m.params.page):1),A=i(12),P=i(0),N=i([]),O=i(0),_=i(m.params.id?parseInt(m.params.id):1),L=i([]),F=i([]),r=i([]),b=i([]);i([]);const h=i([]),C=i(""),$=async()=>{try{const s={[_.value]:b.value[_.value]||[]};b.value=s;const t={[_.value]:h.value[_.value]||[]};h.value=t;const o=await axios.get("/api/get-products",{params:{page:l.value,per_page:A.value,category_id:_.value,checkedCategories:b.value,checkedBrands:h.value,selectedSortOption:C.value}});N.value=o.data.products.data,P.value=o.data.products.total,O.value=o.data.products.per_page,L.value=o.data.categories,F.value=o.data.brands,r.value=o.data.the_category}catch(s){console.error(s)}};function q(s){let t=r.value.id;t in b.value||(b.value[t]=[]);const o=b.value[t];o.includes(s)?o.splice(o.indexOf(s),1):o.push(s)}function G(s){let t=r.value.id;t in h.value||(h.value[t]=[]);const o=h.value[t];o.includes(s)?o.splice(o.indexOf(s),1):o.push(s)}function Z(){document.querySelectorAll('input[type="checkbox"]').forEach(t=>{t.checked=!1}),b.value=[],h.value=[],C.value=null}const k=D(()=>Math.ceil(P.value/A.value)),I=i([]),j=()=>{l.value>1&&l.value--},H=()=>{l.value<k.value&&l.value++},K=s=>{l.value=s},V=(s,t,o,n)=>{let a=t.replace(/ /g,"-").replace(/\//g,"-");a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),a=a.toLowerCase();let d=n.replace(/ /g,"-").replace(/\//g,"-");d=d.replace(/-+/g,"-"),d=d.replace(/^-+|-+$/g,""),d=d.toLowerCase();let y=o.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return y=y.replace(/-+/g,"-"),y=y.replace(/^-+|-+$/g,""),`/laundry/product/${s}/${a}-${y}`},M=(s,t,o)=>{if(t===void 0)return"/laundry";{let n=t.replace(/ /g,"-").replace(/\//g,"-");return n=n.replace(/-+/g,"-"),n=n.replace(/^-+|-+$/g,""),n=n.toLowerCase(),`/laundry/${s}/${n}/page/${o}`}},Y=()=>{I.value=N.value},J=s=>Number.isInteger(s),Q=D(()=>{const s=[];l.value>1&&s.push("Prev");let o=Math.max(1,l.value-Math.floor(5/2)),n=Math.min(o+5-1,k.value);n-o<5-1&&(o=Math.max(1,n-5+1));for(let a=o;a<=n;a++)s.push(a);return l.value<k.value&&s.push("Next"),s});ee(()=>{$()}),S(l,$),S(N,Y),te(()=>{const s=m.params;m.query,s.id!==""&&_.value!==s.id&&(l.value=1,_.value=s.id?parseInt(s.id):1,s.page!==""&&l.value!==s.page&&(l.value=s.page?parseInt(s.page):1),$())});const T=i("");return S(()=>r.value.name,(s,t)=>{s!==t&&(T.value=s)}),ne({title:T.value+"Laundry & Floor Cleaning"}),(s,t)=>{const o=ae("router-link"),n=se("lazy");return c(),u("main",re,[e("nav",ce,[e("div",de,[e("ol",ue,[e("li",ve,[f(o,{to:"/"},{default:g(()=>t[1]||(t[1]=[p(" HOME ")])),_:1})]),e("li",pe,[f(o,{to:"/laundry"},{default:g(()=>t[2]||(t[2]=[p(" LAUNDRY & FLOOR CLEANING ")])),_:1})]),e("li",ge,v(r.value.name),1)])])]),e("div",me,[e("div",_e,[e("div",be,[e("div",he,[e("div",fe,[e("div",ke,[e("div",ye,[t[3]||(t[3]=p(" Showing ")),e("span",null,v(O.value)+" of "+v(P.value),1),t[4]||(t[4]=p(" Products "))])]),e("div",Ce,[e("div",xe,[t[6]||(t[6]=e("label",{for:"sortby"},"Sort by:",-1)),e("div",we,[E(e("select",{id:"sortby","onUpdate:modelValue":t[0]||(t[0]=a=>C.value=a),name:"sortby",class:"form-control"},t[5]||(t[5]=[le('<option value=""> Default </option><option value="name_asc"> Name A - Z </option><option value="name_desc"> Name Z - A </option><option value="created_at_asc"> Latest First </option><option value="created_at_desc"> Oldest First </option>',5)]),512),[[oe,C.value]])])])])]),e("div",Pe,[e("div",Ne,[(c(!0),u(x,null,w(I.value,a=>(c(),u("div",{key:a.id,class:"col-6 col-md-3 col-lg-2 col-xl-2"},[e("div",Le,[e("figure",$e,[f(o,{to:V(a.id,a.name,a.model_number,r.value.name)},{default:g(()=>[E(e("img",{src:"/storage/"+a.main_image_path,alt:"Product image",class:"product-image"},null,8,Ve),[[n,"/storage/"+a.main_image_path,"src"]])]),_:2},1032,["to"]),t[8]||(t[8]=e("div",{class:"product-action-vertical"},null,-1)),e("div",Me,[e("button",{type:"button",class:"btn-product btn-cart",onClick:d=>z(a)},t[7]||(t[7]=[e("span",null,"Add to Cart",-1)]),8,Se)])]),e("div",Be,[e("div",Ae,[f(o,{to:V(a.id,a.name,a.model_number,r.value.name)},{default:g(()=>[p(v(a.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",Oe,[f(o,{to:V(a.id,a.name,a.model_number,r.value.name)},{default:g(()=>[p(v(a.name),1)]),_:2},1032,["to"])]),t[9]||(t[9]=e("div",{class:"ratings-container"},null,-1))])])]))),128))])]),e("nav",Fe,[e("ul",Ie,[e("li",{class:B(["page-item",{disabled:l.value===1}])},[f(o,{class:"page-link page-link-prev",to:M(r.value.id,r.value.name,l.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:j},{default:g(()=>t[10]||(t[10]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),p(" Prev ")])),_:1},8,["to"])],2),(c(!0),u(x,null,w(Q.value,a=>(c(),u("li",{key:a,class:B(["page-item",{active:a===l.value}])},[J(a)?(c(),ie(o,{key:0,class:"page-link",to:M(r.value.id,r.value.name,a),onClick:d=>K(a)},{default:g(()=>[p(v(a),1)]),_:2},1032,["to","onClick"])):R("",!0)],2))),128)),e("li",Te," of "+v(k.value),1),e("li",{class:B(["page-item",{disabled:l.value===k.value}])},[f(o,{class:"page-link page-link-next",to:M(r.value.id,r.value.name,l.value+1),"aria-label":"Next",onClick:H},{default:g(()=>t[11]||(t[11]=[p(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])]),e("aside",De,[e("div",Ee,[e("div",{class:"widget widget-clean"},[t[12]||(t[12]=e("label",null,"Filters:",-1)),e("button",{class:"btn btn-primary btn-sm sidebar-filter-clear",onClick:Z}," Clean All ")]),L.value.length?(c(),u("div",Re,[t[13]||(t[13]=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Category ")],-1)),e("div",Ue,[e("div",ze,[e("div",qe,[(c(!0),u(x,null,w(L.value,a=>(c(),u("div",{key:a.id,class:"filter-item"},[e("div",Ge,[e("input",{id:"cat-"+a.id,type:"checkbox",class:"custom-control-input",value:a.id,onChange:d=>q(a.id)},null,40,Ze),e("label",{class:"custom-control-label",for:"cat-"+a.id},v(a.name),9,je)]),e("span",He,v(a.category_products_count),1)]))),128))])])])])):R("",!0),e("div",Ke,[t[14]||(t[14]=e("h3",{class:"widget-title"},[e("a",{href:"#widget-4",role:"button","aria-expanded":"true","aria-controls":"widget-4"}," Brand ")],-1)),e("div",Ye,[e("div",Je,[e("div",Qe,[(c(!0),u(x,null,w(F.value,a=>(c(),u("div",{key:a.id,class:"filter-item"},[e("div",We,[e("input",{id:"brand-"+a.product_brand.id,type:"checkbox",class:"custom-control-input",value:a.product_brand.id,onChange:d=>G(a.product_brand.id)},null,40,Xe),e("label",{class:"custom-control-label",for:"brand-"+a.product_brand.id},v(a.product_brand.name),9,et)])]))),128))])])])])])])])])])])}}};export{lt as default};
