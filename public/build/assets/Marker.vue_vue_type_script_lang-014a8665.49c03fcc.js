import{y as c,c as h}from"./tools-b40e92cf.4881bf31.js";import{d as y,l as u,w as r,q as S}from"./app-setting.787274b7.js";const J=y({name:"GmapsMarker",props:{animation:{type:Object,default:void 0},clickable:{type:Boolean,default:!0},cursor:{type:String,default:void 0},draggable:{type:Boolean,default:!1},icon:{type:[String,Object],default:void 0},label:{type:[String,Object],default:null},opacity:{type:Number,default:void 0},options:{type:Object,default:void 0},position:{type:Object,default:void 0},shape:{type:Object,default:void 0},title:{type:String,default:void 0},visible:{type:Boolean,default:!0},zIndex:{type:Number,default:void 0}},emits:{animation_changed:()=>!0,click:l=>!0,clickable_changed:l=>!0,contextmenu:l=>!0,cursor_changed:l=>!0,dblclick:l=>!0,drag:l=>!0,dragend:l=>!0,draggable_changed:l=>!0,dragstart:l=>!0,flat_changed:()=>!0,icon_changed:()=>!0,mounted:l=>!0,mousedown:l=>!0,mouseout:l=>!0,mouseover:l=>!0,mouseup:l=>!0,position_changed:l=>!0,rightclick:l=>!0,shape_changed:()=>!0,title_changed:l=>!0,unmounted:l=>!0,visible_changed:l=>!0,zindex_changed:l=>!0},setup(l,{emit:o}){const g=u("$getAPI"),b=u("$getMap"),m=u("$getThrottle"),L=u("$handleError"),_=e=>L(e,"Marker"),v=[];let n=null;const p=e=>e==="BOUNCE"?globalThis.google.maps.Animation.BOUNCE:e==="DROP"?globalThis.google.maps.Animation.DROP:null,O=e=>{const i=google.maps.event,s=m();v.push(i.addListener(e,"drag",c(d=>{var t;return o("drag",((t=d.latLng)==null?void 0:t.toJSON())||null)},s)),i.addListener(e,"mouseover",c(d=>{var t;return o("mouseover",((t=d.latLng)==null?void 0:t.toJSON())||null)},s)),i.addListener(e,"position_changed",c(()=>{var d;return o("position_changed",(d=e.getPosition())==null?void 0:d.toJSON())},s)),i.addListener(e,"animation_changed",()=>o("animation_changed")),i.addListener(e,"click",d=>{var t;return o("click",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"clickable_changed",()=>o("clickable_changed",e.getClickable())),i.addListener(e,"contextmenu",d=>{var t;return o("contextmenu",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"cursor_changed",()=>o("cursor_changed",e.getCursor())),i.addListener(e,"dblclick",d=>{var t;return o("dblclick",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"dragend",d=>{var t;return o("dragend",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"draggable_changed",()=>o("draggable_changed",e.getDraggable())),i.addListener(e,"dragstart",d=>{var t;return o("dragstart",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"flat_changed",()=>o("flat_changed")),i.addListener(e,"icon_changed",()=>o("icon_changed")),i.addListener(e,"mousedown",d=>{var t;return o("mousedown",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"mouseout",d=>{var t;return o("mouseout",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"mouseup",d=>{var t;return o("mouseup",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"rightclick",d=>{var t;return o("rightclick",((t=d.latLng)==null?void 0:t.toJSON())||null)}),i.addListener(e,"shape_changed",()=>o("shape_changed")),i.addListener(e,"title_changed",()=>o("title_changed",e.getTitle())),i.addListener(e,"visible_changed",()=>o("visible_changed",e.getVisible())),i.addListener(e,"zindex_changed",()=>o("zindex_changed",e.getZIndex())))},k=b(),f=g(),a={map:k,...l.options};return l.animation&&(a.animation=l.animation),l.clickable&&(a.clickable=l.clickable),l.cursor&&(a.cursor=l.cursor),l.draggable&&(a.draggable=l.draggable),l.icon&&(a.icon=l.icon),l.label&&(a.label=l.label),l.opacity&&(a.opacity=l.opacity),l.position&&(a.position=l.position),l.shape&&(a.shape=l.shape),l.title&&(a.title=l.title),l.visible&&(a.visible=l.visible),l.zIndex&&(a.zIndex=l.zIndex),a.animation&&(a.animation=p(a.animation)),n=new f.Marker(a),n?(O(n),o("mounted",n)):_(new Error("There was a problem creating the marker.")),r(()=>l.animation,e=>e===void 0?null:n==null?void 0:n.setAnimation(p(e))),r(()=>l.clickable,e=>e===void 0||e==(n==null?void 0:n.getClickable())?null:n==null?void 0:n.setClickable(e)),r(()=>l.cursor,e=>e===void 0||e==(n==null?void 0:n.getCursor())?null:n==null?void 0:n.setCursor(e)),r(()=>l.draggable,e=>e===void 0||e==(n==null?void 0:n.getDraggable())?null:n==null?void 0:n.setDraggable(e)),r(()=>l.icon,e=>e===void 0||e==(n==null?void 0:n.getIcon())?null:n==null?void 0:n.setIcon(e)),r(()=>l.label,e=>e===void 0||h(e,n==null?void 0:n.getLabel())?null:n==null?void 0:n.setLabel(e),{deep:!0}),r(()=>l.opacity,e=>e===void 0||e==(n==null?void 0:n.getOpacity())?null:n==null?void 0:n.setOpacity(e)),r(()=>l.options,e=>e===void 0?null:n==null?void 0:n.setOptions(e),{deep:!0}),r(()=>l.position,e=>{var i;return e===void 0||h(e,(i=n==null?void 0:n.getPosition())==null?void 0:i.toJSON())?null:n==null?void 0:n.setPosition(e)},{deep:!0}),r(()=>l.shape,e=>e===void 0||e==(n==null?void 0:n.getShape())?null:n==null?void 0:n.setShape(e),{deep:!0}),r(()=>l.title,e=>e===void 0||e==(n==null?void 0:n.getTitle())?null:n==null?void 0:n.setTitle(e)),r(()=>l.visible,e=>e===void 0||e==(n==null?void 0:n.getVisible())?null:n==null?void 0:n.setVisible(e)),r(()=>l.zIndex,e=>e===void 0||e==(n==null?void 0:n.getZIndex())?null:n==null?void 0:n.setZIndex(e)),S(()=>{n&&o("unmounted",n),v.forEach(e=>e.remove()),n&&n.setMap(null),n&&g().event.clearInstanceListeners(n)}),()=>{}}});export{J as z};
