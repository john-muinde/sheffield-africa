import{ak as W,a3 as X,x as i,Q as I,y as ee,z as B,a4 as te,ao as ae,f as se,a5 as oe,o as r,c as u,a as e,i as f,l as p,t as _,m as v,p as E,al as le,F as w,g as P,n as M,e as z,a2 as ie,Y as ce}from"./app-setting.366f23a7.js";import"./_commonjsHelpers.f037b798.js";const ne={class:"main"},re={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},de={class:"container d-flex align-items-center"},ue={class:"breadcrumb"},_e={class:"breadcrumb-item"},ve={class:"breadcrumb-item"},pe={class:"breadcrumb-item active","aria-current":"page"},ge={class:"page-content"},he={class:"container"},me={class:"row"},be={class:"col-lg-10"},fe={class:"toolbox"},ke={class:"toolbox-left"},ye={class:"toolbox-info"},Ce={class:"toolbox-right"},xe={class:"toolbox-sort"},we=e("label",{for:"sortby"},"Sort by:",-1),Pe={class:"select-custom"},Le=ce('<option value="">Default</option><option value="name_asc"> Name A - Z </option><option value="name_desc"> Name Z - A </option><option value="created_at_asc"> Latest First </option><option value="created_at_desc"> Oldest First </option>',5),Ne=[Le],$e={class:"products mb-3 products-section"},Ve={class:"row"},Se={class:"product product-7 text-center"},Be={class:"product-media"},Me=["src"],Ae=e("div",{class:"product-action-vertical"},null,-1),Oe={class:"product-action"},Fe=["onClick"],Te=e("span",null,"Add to Cart",-1),De=[Te],Ie={class:"product-body"},Ee={class:"product-cat"},ze={class:"product-title"},Re=e("div",{class:"ratings-container"},null,-1),qe={"aria-label":"Page navigation"},Ue={class:"pagination justify-content-center"},Ye=e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),Ze={class:"page-item-total"},je=e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1),Ge={class:"col-lg-2 order-lg-first"},He={class:"sidebar sidebar-shop sidebar-shop-category"},Qe=e("label",null,"Filters:",-1),Je={key:0,class:"widget widget-collapsible"},Ke=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Category ")],-1),We={class:"show",id:"widget-1"},Xe={class:"widget-body"},et={class:"filter-items filter-items-count"},tt={class:"custom-control custom-checkbox"},at=["id","value","onChange"],st=["for"],ot={class:"item-count"},lt={class:"widget widget-collapsible"},it=e("h3",{class:"widget-title"},[e("a",{href:"#widget-4",role:"button","aria-expanded":"true","aria-controls":"widget-4"}," Brand ")],-1),ct={class:"show",id:"widget-4"},nt={class:"widget-body"},rt={class:"filter-items"},dt={class:"custom-control custom-checkbox"},ut=["id","value","onChange"],_t=["for"],ht={__name:"ProductCategoryLaundry",setup(vt){const R=W(),q=a=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),R.dispatch("cart/addToCart",a)},g=X();i(g);const l=i(g.params.page?parseInt(g.params.page):1),A=i(12),L=i(0),C=i([]),O=i(0),h=i(g.params.id?parseInt(g.params.id):1),N=i([]),F=i([]),n=i([]),m=i([]);i([]);const b=i([]),x=i(""),$=async()=>{try{const a={[h.value]:m.value[h.value]||[]};m.value=a;const o={[h.value]:b.value[h.value]||[]};b.value=o;const s=await axios.get("/api/get-products",{params:{page:l.value,per_page:A.value,category_id:h.value,checkedCategories:m.value,checkedBrands:b.value,selectedSortOption:x.value}});C.value=s.data.products.data,L.value=s.data.products.total,O.value=s.data.products.per_page,N.value=s.data.categories,F.value=s.data.brands,n.value=s.data.the_category}catch(a){console.error(a)}};function U(a){let o=n.value.id;o in m.value||(m.value[o]=[]);const s=m.value[o];s.includes(a)?s.splice(s.indexOf(a),1):s.push(a)}function Y(a){let o=n.value.id;o in b.value||(b.value[o]=[]);const s=b.value[o];s.includes(a)?s.splice(s.indexOf(a),1):s.push(a)}function Z(){document.querySelectorAll('input[type="checkbox"]').forEach(o=>{o.checked=!1}),m.value=[],b.value=[],x.value=null}const k=I(()=>Math.ceil(L.value/A.value)),T=i([]),j=()=>{l.value>1&&l.value--},G=()=>{l.value<k.value&&l.value++},H=a=>{l.value=a},V=(a,o,s,c)=>{let t=o.replace(/ /g,"-").replace(/\//g,"-");t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),t=t.toLowerCase();let d=c.replace(/ /g,"-").replace(/\//g,"-");d=d.replace(/-+/g,"-"),d=d.replace(/^-+|-+$/g,""),d=d.toLowerCase();let y=s.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return y=y.replace(/-+/g,"-"),y=y.replace(/^-+|-+$/g,""),`/laundry/product/${a}/${t}-${y}`},S=(a,o,s)=>{if(o===void 0)return"/laundry";{let c=o.replace(/ /g,"-").replace(/\//g,"-");return c=c.replace(/-+/g,"-"),c=c.replace(/^-+|-+$/g,""),c=c.toLowerCase(),`/laundry/${a}/${c}/page/${s}`}},Q=()=>{console.log(C),T.value=C.value},J=a=>Number.isInteger(a),K=I(()=>{const a=[];l.value>1&&a.push("Prev");let s=Math.max(1,l.value-Math.floor(5/2)),c=Math.min(s+5-1,k.value);c-s<5-1&&(s=Math.max(1,c-5+1));for(let t=s;t<=c;t++)a.push(t);return l.value<k.value&&a.push("Next"),a});ee(()=>{$()}),B(l,$),B(C,Q),te(()=>{const a=g.params;g.query,a.id!==""&&h!==a.id&&(l.value=1,h.value=a.id?parseInt(a.id):1,a.page!==""&&l!==a.page&&(l.value=a.page?parseInt(a.page):1),$())});const D=i("");return B(()=>n.value.name,(a,o)=>{console.log(a),console.log(o),a!==o&&(console.log("changing it"),D.value=a)}),ae({title:D.value+"Laundry & Floor Cleaning"}),(a,o)=>{const s=se("router-link"),c=oe("lazy");return r(),u("main",ne,[e("nav",re,[e("div",de,[e("ol",ue,[e("li",_e,[f(s,{to:"/"},{default:p(()=>[v("HOME")]),_:1})]),e("li",ve,[f(s,{to:"/laundry"},{default:p(()=>[v("LAUNDRY & FLOOR CLEANING")]),_:1})]),e("li",pe,_(n.value.name),1)])])]),e("div",ge,[e("div",he,[e("div",me,[e("div",be,[e("div",fe,[e("div",ke,[e("div",ye,[v(" Showing "),e("span",null,_(O.value)+" of "+_(L.value),1),v(" Products ")])]),e("div",Ce,[e("div",xe,[we,e("div",Pe,[E(e("select",{name:"sortby",id:"sortby",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>x.value=t)},Ne,512),[[le,x.value]])])])])]),e("div",$e,[e("div",Ve,[(r(!0),u(w,null,P(T.value,t=>(r(),u("div",{class:"col-6 col-md-3 col-lg-2 col-xl-2",key:t.id},[e("div",Se,[e("figure",Be,[f(s,{to:V(t.id,t.name,t.model_number,n.value.name)},{default:p(()=>[E(e("img",{src:"/storage/"+t.main_image_path,alt:"Product image",class:"product-image"},null,8,Me),[[c,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"]),Ae,e("div",Oe,[e("button",{type:"button",onClick:d=>q(t),class:"btn-product btn-cart"},De,8,Fe)])]),e("div",Ie,[e("div",Ee,[f(s,{to:V(t.id,t.name,t.model_number,n.value.name)},{default:p(()=>[v(_(t.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",ze,[f(s,{to:V(t.id,t.name,t.model_number,n.value.name)},{default:p(()=>[v(_(t.name),1)]),_:2},1032,["to"])]),Re])])]))),128))])]),e("nav",qe,[e("ul",Ue,[e("li",{class:M(["page-item",{disabled:l.value===1}])},[f(s,{class:"page-link page-link-prev",to:S(n.value.id,n.value.name,l.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:j},{default:p(()=>[Ye,v(" Prev ")]),_:1},8,["to"])],2),(r(!0),u(w,null,P(K.value,t=>(r(),u("li",{class:M(["page-item",{active:t===l.value}]),key:t},[J(t)?(r(),ie(s,{key:0,class:"page-link",to:S(n.value.id,n.value.name,t),onClick:d=>H(t)},{default:p(()=>[v(_(t),1)]),_:2},1032,["to","onClick"])):z("",!0)],2))),128)),e("li",Ze," of "+_(k.value),1),e("li",{class:M(["page-item",{disabled:l.value===k.value}])},[f(s,{class:"page-link page-link-next",to:S(n.value.id,n.value.name,l.value+1),"aria-label":"Next",onClick:G},{default:p(()=>[v(" Next "),je]),_:1},8,["to"])],2)])])]),e("aside",Ge,[e("div",He,[e("div",{class:"widget widget-clean"},[Qe,e("button",{onClick:Z,class:"btn btn-primary btn-sm sidebar-filter-clear"}," Clean All ")]),N.value.length?(r(),u("div",Je,[Ke,e("div",We,[e("div",Xe,[e("div",et,[(r(!0),u(w,null,P(N.value,t=>(r(),u("div",{class:"filter-item",key:t.id},[e("div",tt,[e("input",{type:"checkbox",class:"custom-control-input",id:"cat-"+t.id,value:t.id,onChange:d=>U(t.id)},null,40,at),e("label",{class:"custom-control-label",for:"cat-"+t.id},_(t.name),9,st)]),e("span",ot,_(t.category_products_count),1)]))),128))])])])])):z("",!0),e("div",lt,[it,e("div",ct,[e("div",nt,[e("div",rt,[(r(!0),u(w,null,P(F.value,t=>(r(),u("div",{key:t.id,class:"filter-item"},[e("div",dt,[e("input",{type:"checkbox",class:"custom-control-input",id:"brand-"+t.product_brand.id,value:t.product_brand.id,onChange:d=>Y(t.product_brand.id)},null,40,ut),e("label",{class:"custom-control-label",for:"brand-"+t.product_brand.id},_(t.product_brand.name),9,_t)])]))),128))])])])])])])])])])])}}};export{ht as default};
