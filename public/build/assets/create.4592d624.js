import{a as M,r as U,o as D,bE as i,bF as a,bU as N,bG as e,aT as P,a2 as G,U as g,c3 as T,bK as u,ak as s,aa as _,bN as b,e as y,ae as h,ca as j,a1 as A}from"./index.5fccd55a.js";import"./use-meta.f597e6da.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as B}from"./file-upload-with-preview.esm.fbf56fa2.js";import{s as X}from"./vue-multiselect.esm.e7af309a.js";import{q as Z}from"./vue3-quill.19b58f02.js";import{u as K}from"./blogs.e01b6f69.js";import{u as O}from"./blogCategories.015edf4d.js";import{d as x,u as R,a as f}from"./vee-validate.909403e4.js";import{r as W,m as z}from"./rules.64a43a44.js";import"./_commonjsHelpers.f037b798.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.80715efd.js";const H={class:"container"},J={class:"container"},Q={class:"row"},Y={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},$={class:"statbox panel box box-shadow"},ee={class:"panel-body"},le={class:"row"},te={class:"form-group col-md-12"},se={class:"text-danger mt-1"},oe={class:"text-danger mt-1"},ie={class:"form-group"},ae={class:"text-danger mt-1"},ne={class:"text-danger mt-1"},re={class:"form-group"},de={class:"custom-file-container","data-upload-id":"myFirstImage"},ue={class:"custom-file-container__custom-file",for:"main_image"},me={class:"custom-file-container","data-upload-id":"myBlogGallery"},ce={class:"custom-file-container__custom-file",for:"blog_gallery"},pe={id:"blog_gallery",ref:"blog_gallery",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",multiple:""},ge={class:"form-group col-md-4"},_e={class:"text-danger mt-1"},be={class:"text-danger mt-1"},fe=["disabled"],ve={class:""},ye={key:0},he={key:1},Te={__name:"create",setup(Be){x("required",W),x("min",z);const w={name:"required|min:3",content:"required",is_published:"required"},{validate:I,errors:m}=R({validationSchema:w}),{value:E}=f("name",null,{initialValue:""}),{value:C}=f("content",null,{initialValue:""}),{value:S}=f("is_published",null,{initialValue:""}),{storeBlog:F,validationErrors:c,isLoading:p,getBlogList:xe,blogList:we}=K(),{getBlogCategoryList:V,blogCategoryList:k}=O(),o=M({name:E,categories:"",content:C,is_published:S,main_image:"",blog_gallery:"",document:""}),q=U({modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"]],clipboard:{matchers:[["img",()=>!1]]}}});function L(){I().then(r=>{if(r.valid){const n=document.getElementById("blog_gallery").files;F(o,n)}})}return D(()=>{V(),new B("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}}),new B("myBlogGallery",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}});const r=document.querySelector(".ql-editor");r&&(r.addEventListener("drop",l=>{l.preventDefault()}),r.addEventListener("paste",l=>{if(l.clipboardData&&l.clipboardData.items){const n=l.clipboardData.items;for(let d=0;d<n.length;d++)if(n[d].type.indexOf("image")!==-1){l.preventDefault();return}}}))}),(r,l)=>{var n,d,v;return i(),a("div",H,[(i(),N(P,{to:"#breadcrumb"},[l[5]||(l[5]=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Blogs")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Create Blog")])])])])])],-1))])),e("div",J,[e("div",Q,[e("div",Y,[e("div",$,[l[19]||(l[19]=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Create Blog")])])])],-1)),e("div",ee,[e("form",{onSubmit:G(L,["prevent"])},[e("div",le,[e("div",te,[l[6]||(l[6]=e("label",{for:"post-name"},"Blog Name",-1)),g(e("input",{id:"post-name","onUpdate:modelValue":l[0]||(l[0]=t=>o.name=t),type:"text",class:"form-control",placeholder:"Enter Blog Name ..."},null,512),[[T,o.name]]),e("div",se,u(s(m).name),1),e("div",oe,[(i(!0),a(_,null,b((n=s(c))==null?void 0:n.name,t=>(i(),a("div",null,u(t),1))),256))])]),e("div",ie,[l[7]||(l[7]=e("label",{for:"post-category",class:"form-label"},"Select Blog Category",-1)),y(s(X),{modelValue:o.categories,"onUpdate:modelValue":l[1]||(l[1]=t=>o.categories=t),options:s(k),reduce:t=>t.id,multiple:!0,taggable:!0,searchable:!0,"preselect-first":!0,"track-by":"id",label:"name",placeholder:"Choose Blog Category ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",ae,u(s(m).categories),1),e("div",ne,[(i(!0),a(_,null,b((d=s(c))==null?void 0:d.categories,t=>(i(),a("div",null,u(t),1))),256))])]),e("div",re,[l[8]||(l[8]=e("label",{for:"post-content"},"Blog Content",-1)),y(s(Z),{value:o.content,"onUpdate:value":l[2]||(l[2]=t=>o.content=t),options:q.value,placeholder:"Enter Blog Content ..."},null,8,["value","options"])]),e("div",de,[l[11]||(l[11]=e("label",null,[h("Upload Main Blog Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",ue,[e("input",{id:"main_image",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:l[3]||(l[3]=t=>o.main_image=t.target.files[0])},null,32),l[9]||(l[9]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),l[10]||(l[10]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),l[12]||(l[12]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",me,[l[15]||(l[15]=e("label",null,[h("Blog Gallery (multiple images allowed) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",ce,[e("input",pe,null,512),l[13]||(l[13]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),l[14]||(l[14]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),l[16]||(l[16]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",ge,[l[18]||(l[18]=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e("div",null,[g(e("select",{id:"is_published","onUpdate:modelValue":l[4]||(l[4]=t=>o.is_published=t),class:"form-select"},l[17]||(l[17]=[e("option",{value:""}," Select Publishing Status ... ",-1),e("option",{selected:"",value:"1"}," Published ",-1),e("option",{value:"0"}," Not Published ",-1)]),512),[[j,o.is_published]])]),e("div",_e,u(s(m).is_published),1),e("div",be,[(i(!0),a(_,null,b((v=s(c))==null?void 0:v.is_published,t=>(i(),a("div",null,u(t),1))),256))])])]),e("button",{disabled:s(p),class:"btn btn-primary mt-3"},[g(e("div",ve,null,512),[[A,s(p)]]),s(p)?(i(),a("span",ye,"Processing...")):(i(),a("span",he,"Save"))],8,fe)],32)])])])])])])}}};export{Te as default};
