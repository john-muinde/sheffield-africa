import{s as i,a8 as B,a9 as y,ag as n}from"./app-setting.435ce9bf.js";function P(){const g=i([]),d=i([]),p=i({name:"",is_published:"",description:""}),u=B(),r=i({}),o=i(!1),l=y("$swal"),f=async(e=1,s="",t="",a="",c="created_at",h="desc")=>{n.get("/api/blogCategories?page="+e+"&search_id="+s+"&search_title="+t+"&search_global="+a+"&order_column="+c+"&order_direction="+h).then(m=>{g.value=m.data})};return{blogCategoryList:d,blogCategories:g,blogCategory:p,getBlogCategories:f,getBlogCategoryList:async()=>{n.get("/api/blogCategory-list").then(e=>{d.value=e.data.data})},getBlogCategory:async e=>{n.get("/api/blogCategories/"+e).then(s=>{p.value=s.data.data})},storeBlogCategory:async e=>{if(console.log(e),o.value)return;o.value=!0,r.value={};let s=new FormData;for(let a in e)e.hasOwnProperty(a)&&s.append(a,e[a]);const t={headers:{"content-type":"multipart/form-data"}};console.log(s),n.post("/api/blogCategories",s,t).then(a=>{u.push({name:"blogCategories.create"}),e.name=null,e.description=null,e.main_image=null,e.is_published=null,l({icon:"success",title:"Blog Category saved successfully"})}).catch(a=>{var c;(c=a.response)!=null&&c.data&&(r.value=a.response.data.errors)}).finally(()=>o.value=!1)},updateBlogCategory:async e=>{if(console.log(e),o.value)return;o.value=!0,r.value={};let s=new FormData;for(let t in e)e.hasOwnProperty(t)&&s.append(t,e[t]);console.log(s),n.put("/api/blogCategories/"+e.id,e).then(t=>{u.push({name:"blogCategories.index"}),l({icon:"success",title:"Blog Category updated successfully"})}).catch(t=>{var a;(a=t.response)!=null&&a.data&&(r.value=t.response.data.errors)}).finally(()=>o.value=!1)},deleteBlogCategory:async e=>{l({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(s=>{s.isConfirmed&&n.delete("/api/blogCategories/"+e).then(t=>{f(),u.push({name:"blogCategories.index"}),l({icon:"success",title:"Blog Category deleted successfully"})}).catch(t=>{l({icon:"error",title:"Something went wrong"})})})},validationErrors:r,isLoading:o}}export{P as u};
