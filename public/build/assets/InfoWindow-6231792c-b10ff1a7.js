import{v as t}from"./index-37a3e797.js";import{c as w,y as _}from"./tools-b40e92cf-d03b1370.js";import{s as y}from"./_plugin-vue_export-helper-dad06003-f875bd67.js";import"./_commonjsHelpers-23102255.js";const z=t.defineComponent({name:"GmapsInfoWindow",props:{options:{type:Object,default:void 0},position:{type:Object,default:void 0},zIndex:{type:Number,default:void 0}},emits:{closeclick:()=>!0,content_changed:()=>!0,domready:()=>!0,mounted:o=>!0,position_changed:o=>!0,unmounted:o=>!0,zindex_changed:o=>!0},setup(o,{emit:d}){const l=t.inject("$getAPI"),c=t.inject("$getMap"),r=t.inject("$getThrottle"),s=t.inject("$handleError"),g=e=>s(e,"InfoWindow"),a=[];let n=null;const p=t.ref(),u=()=>n==null?void 0:n.open(c()),m=()=>n==null?void 0:n.close(),h=e=>{const i=google.maps.event,x=r();a.push(i.addListener(e,"position_changed",_(()=>{var v;return d("position_changed",(v=e.getPosition())==null?void 0:v.toJSON())},x)),i.addListener(e,"closeclick",()=>d("closeclick")),i.addListener(e,"content_changed",()=>d("content_changed")),i.addListener(e,"domready",()=>d("domready")),i.addListener(e,"zindex_changed",()=>d("zindex_changed",e.getZIndex())))},f=c(),I=l();return t.watch(()=>o.options,e=>e===void 0?null:n==null?void 0:n.setOptions(e),{deep:!0}),t.watch(()=>o.position,e=>{var i;return e===void 0||w(e,(i=n==null?void 0:n.getPosition())==null?void 0:i.toJSON())?null:n==null?void 0:n.setPosition(e)},{deep:!0}),t.watch(()=>o.zIndex,e=>e===void 0||e==(n==null?void 0:n.getZIndex())?null:n==null?void 0:n.setZIndex(e)),t.onMounted(()=>{try{const e={map:f,content:p.value,...o.options};o.position&&(e.position=o.position),o.zIndex&&(e.zIndex=o.zIndex),n=new I.InfoWindow(e),d("mounted",n),n&&h(n),u()}catch{g(new Error("There was a problem creating the InfoWindow."))}}),t.onBeforeUnmount(()=>{n&&d("unmounted",n),a.forEach(e=>e.remove()),m(),n&&l().event.clearInstanceListeners(n)}),{content:p,close:m,open:u}}}),j={ref:"content"};function L(o,d,l,c,r,s){return t.openBlock(),t.createElementBlock("div",j,[t.renderSlot(o.$slots,"default",{close:o.close,open:o.open})],512)}const b=y(z,[["render",L]]);export{b as default};
