import{a as D,r as M,o as N,bB as i,bC as a,bS as P,bD as e,aQ as U,$ as j,Q as g,bW as G,bI as u,ah as s,a7 as _,bL as b,e as y,ab as h,ca as T,Z}from"./index-95e815af.js";import"./use-meta-e8b7babf.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as B}from"./file-upload-with-preview.esm-03fb8eae.js";import{s as A}from"./vue-multiselect.esm-d9ef16b1.js";import{q as Q}from"./vue3-quill-6bb80523.js";import{u as W}from"./blogs-ab5de520.js";import{u as X}from"./blogCategories-f8729554.js";import{d as x,u as O,a as f}from"./vee-validate-e3972c11.js";import{r as R,m as $}from"./rules-2d323bf3.js";import"./_commonjsHelpers-de833af9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-9e7ed944.js";const z={class:"container"},H={class:"container"},J={class:"row"},K={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},Y={class:"statbox panel box box-shadow"},ee={class:"panel-body"},le={class:"row"},te={class:"form-group col-md-12"},se={class:"text-danger mt-1"},oe={class:"text-danger mt-1"},ie={class:"form-group"},ae={class:"text-danger mt-1"},ne={class:"text-danger mt-1"},re={class:"form-group"},de={class:"custom-file-container","data-upload-id":"myFirstImage"},ue={class:"custom-file-container__custom-file",for:"main_image"},me={class:"custom-file-container","data-upload-id":"myBlogGallery"},ce={class:"custom-file-container__custom-file",for:"blog_gallery"},pe={id:"blog_gallery",ref:"blog_gallery",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",multiple:""},ge={class:"form-group col-md-4"},_e={class:"text-danger mt-1"},be={class:"text-danger mt-1"},fe=["disabled"],ve={class:""},ye={key:0},he={key:1},Ge={__name:"create",setup(Be){x("required",R),x("min",$);const I={name:"required|min:3",content:"required",is_published:"required"},{validate:w,errors:m}=O({validationSchema:I}),{value:C}=f("name",null,{initialValue:""}),{value:E}=f("content",null,{initialValue:""}),{value:S}=f("is_published",null,{initialValue:""}),{storeBlog:L,validationErrors:c,isLoading:p,getBlogList:xe,blogList:Ie}=W(),{getBlogCategoryList:V,blogCategoryList:q}=X(),o=D({name:C,categories:"",content:E,is_published:S,main_image:"",blog_gallery:"",document:""}),F=M({modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"]],clipboard:{matchers:[["img",()=>!1]]}}});function k(){w().then(r=>{if(r.valid){const n=document.getElementById("blog_gallery").files;L(o,n)}})}return N(()=>{V(),new B("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}}),new B("myBlogGallery",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}});const r=document.querySelector(".ql-editor");r&&(r.addEventListener("drop",l=>{l.preventDefault()}),r.addEventListener("paste",l=>{if(l.clipboardData&&l.clipboardData.items){const n=l.clipboardData.items;for(let d=0;d<n.length;d++)if(n[d].type.indexOf("image")!==-1){l.preventDefault();return}}}))}),(r,l)=>{var n,d,v;return i(),a("div",z,[(i(),P(U,{to:"#breadcrumb"},[l[5]||(l[5]=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Blogs")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Create Blog")])])])])])],-1))])),e("div",H,[e("div",J,[e("div",K,[e("div",Y,[l[19]||(l[19]=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Create Blog")])])])],-1)),e("div",ee,[e("form",{onSubmit:j(k,["prevent"])},[e("div",le,[e("div",te,[l[6]||(l[6]=e("label",{for:"post-name"},"Blog Name",-1)),g(e("input",{id:"post-name","onUpdate:modelValue":l[0]||(l[0]=t=>o.name=t),type:"text",class:"form-control",placeholder:"Enter Blog Name ..."},null,512),[[G,o.name]]),e("div",se,u(s(m).name),1),e("div",oe,[(i(!0),a(_,null,b((n=s(c))==null?void 0:n.name,t=>(i(),a("div",null,u(t),1))),256))])]),e("div",ie,[l[7]||(l[7]=e("label",{for:"post-category",class:"form-label"},"Select Blog Category",-1)),y(s(A),{modelValue:o.categories,"onUpdate:modelValue":l[1]||(l[1]=t=>o.categories=t),options:s(q),reduce:t=>t.id,multiple:!0,taggable:!0,searchable:!0,"preselect-first":!0,"track-by":"id",label:"name",placeholder:"Choose Blog Category ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",ae,u(s(m).categories),1),e("div",ne,[(i(!0),a(_,null,b((d=s(c))==null?void 0:d.categories,t=>(i(),a("div",null,u(t),1))),256))])]),e("div",re,[l[8]||(l[8]=e("label",{for:"post-content"},"Blog Content",-1)),y(s(Q),{value:o.content,"onUpdate:value":l[2]||(l[2]=t=>o.content=t),options:F.value,placeholder:"Enter Blog Content ..."},null,8,["value","options"])]),e("div",de,[l[11]||(l[11]=e("label",null,[h("Upload Main Blog Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",ue,[e("input",{id:"main_image",type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:l[3]||(l[3]=t=>o.main_image=t.target.files[0])},null,32),l[9]||(l[9]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),l[10]||(l[10]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),l[12]||(l[12]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",me,[l[15]||(l[15]=e("label",null,[h("Blog Gallery (multiple images allowed) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",ce,[e("input",pe,null,512),l[13]||(l[13]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),l[14]||(l[14]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),l[16]||(l[16]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",ge,[l[18]||(l[18]=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e("div",null,[g(e("select",{id:"is_published","onUpdate:modelValue":l[4]||(l[4]=t=>o.is_published=t),class:"form-select"},l[17]||(l[17]=[e("option",{value:""}," Select Publishing Status ... ",-1),e("option",{selected:"",value:"1"}," Published ",-1),e("option",{value:"0"}," Not Published ",-1)]),512),[[T,o.is_published]])]),e("div",_e,u(s(m).is_published),1),e("div",be,[(i(!0),a(_,null,b((v=s(c))==null?void 0:v.is_published,t=>(i(),a("div",null,u(t),1))),256))])])]),e("button",{disabled:s(p),class:"btn btn-primary mt-3"},[g(e("div",ve,null,512),[[Z,s(p)]]),s(p)?(i(),a("span",ye,"Processing...")):(i(),a("span",he,"Save"))],8,fe)],32)])])])])])])}}};export{Ge as default};
