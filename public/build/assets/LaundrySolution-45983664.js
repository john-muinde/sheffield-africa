import{a as b,v as e,e as f}from"./index-18a95f05.js";import{u as x}from"./use-meta-76f019bd.js";import"./_commonjsHelpers-23102255.js";const y={class:"main"},P={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},w={class:"container d-flex align-items-center"},k={class:"breadcrumb"},C={class:"breadcrumb-item"},L={class:"breadcrumb-item"},S={class:"breadcrumb-item active","aria-current":"page"},M={class:"page-content"},D={class:"container"},T={class:"row"},B={class:"col-lg-9"},I={class:"products mb-3"},H={class:"row"},O={class:"col-lg-12 col-md-12 mt-1"},R={id:"accordion-1",class:"accordion",style:{width:"100%"}},$={class:"card"},z={id:"heading-2",class:"card-header"},A={class:"card-title"},U={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},j={class:"col-12 col-md-6 col-lg-6 col-xl-6 image-container"},F={class:"card-body middle-section"},Y=["innerHTML"],q={class:"col-12 col-md-6 col-lg-4 col-xl-4 image-container laundry-image"},G=["src"],J={class:"col-lg-3 order-lg-first mt-2"},K={class:"sidebar sidebar-shop sidebar-shop-solution"},Q={class:"widget widget-cats widget-categories"},W={class:"",style:{"border-bottom":"1px solid #ccc",padding:"10px"}},X={class:"widget-body mt-5"},ae={__name:"LaundrySolution",setup(Z){const r=b();e.ref(r);const c=e.ref(r.params.page?parseInt(r.params.page):1),d=e.ref(12),p=e.ref(0),i=e.ref([]);e.ref(0);const u=e.ref(r.params.id?parseInt(r.params.id):1);e.ref([]),e.ref([]),e.ref([]);const l=e.ref([]),m=e.ref([]);f();const g=async()=>{try{const t=await axios.get("/api/get-solution-categories",{params:{solution_id:u.value}});l.value=t.data.data,m.value=t.data.data.product_categories_json,x({title:l.value.name+" | Laundry Solution"})}catch(t){console.error(t)}},v=e.ref([]),h=async()=>{try{const t=await axios.get("/api/get-solution-category-products",{params:{solution_id:u.value,checkedCategoriesSolutions:checkedCategoriesSolutions.value}});v.value=t.data.products.data}catch(t){console.error(t)}},_=e.computed(()=>Math.ceil(p.value/d.value)),N=e.ref([]),V=(t,o)=>{let a=o.replace(/ /g,"-").replace(/\//g,"-");return a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),a=a.toLowerCase(),`/laundry/${t}/${a}`},E=()=>{N.value=i.value.slice(0,0+d.value)};return e.computed(()=>{const t=[];c.value>1&&t.push("Prev");let a=Math.max(1,c.value-Math.floor(5/2)),n=Math.min(a+5-1,_.value);n-a<5-1&&(a=Math.max(1,n-5+1));for(let s=a;s<=n;s++)t.push(s);return c.value<_.value&&t.push("Next"),t}),e.onMounted(()=>{g(),h()}),e.watch(i,E),(t,o)=>{const a=e.resolveComponent("router-link"),n=e.resolveDirective("lazy");return e.openBlock(),e.createElementBlock("main",y,[e.createElementVNode("nav",P,[e.createElementVNode("div",w,[e.createElementVNode("ol",k,[e.createElementVNode("li",C,[e.createVNode(a,{to:"/"},{default:e.withCtx(()=>o[0]||(o[0]=[e.createTextVNode(" HOME ")])),_:1})]),e.createElementVNode("li",L,[e.createVNode(a,{to:"/laundry"},{default:e.withCtx(()=>o[1]||(o[1]=[e.createTextVNode(" LAUNDRY ")])),_:1})]),e.createElementVNode("li",S,e.toDisplayString(l.value.name),1)])])]),e.createElementVNode("div",M,[e.createElementVNode("div",D,[e.createElementVNode("div",T,[e.createElementVNode("div",B,[e.createElementVNode("div",I,[e.createElementVNode("div",H,[e.createElementVNode("div",O,[e.createElementVNode("div",R,[e.createElementVNode("div",$,[e.createElementVNode("div",z,[e.createElementVNode("h2",A,[e.createElementVNode("a",U,e.toDisplayString(l.value.name)+" - SOLUTION ",1)])]),o[2]||(o[2]=e.createElementVNode("div",{id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},null,-1))])])]),e.createElementVNode("div",j,[e.createElementVNode("div",F,[e.createElementVNode("span",{innerHTML:l.value.description},null,8,Y)])]),e.createElementVNode("div",q,[e.withDirectives(e.createElementVNode("img",{src:"/storage/"+l.value.main_image_path,alt:"Product image"},null,8,G),[[n,"/storage/"+l.value.main_image_path,"src"]])])])])]),e.createElementVNode("aside",J,[e.createElementVNode("div",K,[e.createElementVNode("div",Q,[o[5]||(o[5]=e.createElementVNode("h3",{class:"widget-title"}," Relevant Products ",-1)),o[6]||(o[6]=e.createElementVNode("hr",null,null,-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,s=>(e.openBlock(),e.createElementBlock("ul",{key:s.id},[e.createElementVNode("li",W,[e.createVNode(a,{to:V(s.id,s.name,c.value-1)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(s.name),1),o[3]||(o[3]=e.createElementVNode("span",null,">>",-1))]),_:2},1032,["to"])])]))),128)),e.createElementVNode("div",X,[e.createVNode(a,{to:"/contact-us",class:"btn btn-secondary btn-block"},{default:e.withCtx(()=>o[4]||(o[4]=[e.createTextVNode(" Need Advise? ")])),_:1})])])])])])])])])}}};export{ae as default};
