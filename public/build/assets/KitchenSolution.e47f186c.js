import{ck as H,c7 as K,z as i,h as S,o as O,w as z,W as j,bx as q,C as A,bo as _,bp as m,bq as e,j as p,bC as h,bv as v,S as M,by as I,bw as F,B as L,c8 as R,X as b}from"./app-setting.f4cae79d.js";import"./_commonjsHelpers.f037b798.js";const U={class:"main"},W={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},X={class:"container d-flex align-items-center"},G={class:"breadcrumb"},J={class:"breadcrumb-item"},Q={class:"breadcrumb-item"},Y={class:"breadcrumb-item active","aria-current":"page"},Z={class:"page-content"},ee={class:"container"},te={class:"row"},se={class:"col-lg-10"},ae={class:"products mb-3"},oe={class:"row"},ie={class:"col-lg-12 col-md-12 mt-1"},le={class:"accordion",id:"accordion-1",style:{width:"100%"}},ce={class:"card"},ne={class:"card-header",id:"heading-2"},de={class:"card-title"},re={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},ue={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},_e={class:"card-body"},me=["innerHTML"],ge={class:"product product-7 text-center"},pe={class:"product-media"},he=["src"],ve={class:"product-action"},be=["onClick"],fe={class:"product-body"},we={class:"product-cat"},xe={class:"product-title"},Ce={class:"col-lg-2 order-lg-first mt-2"},ye={class:"sidebar sidebar-shop sidebar-shop-solution"},Pe={key:0,class:"widget widget-collapsible widget-categories"},ke={class:"show",id:"widget-1"},Se={class:"widget-body"},Me={class:"filter-items filter-items-count"},Ie={class:"custom-control custom-checkbox"},Le=["id","value","onChange"],Ne=["for"],Ve={class:"widget widget-collapsible"},Te={class:"show",id:"widget-4"},$e={class:"widget-body"},Be=["src"],Ke={__name:"KitchenSolution",setup(De){const N=H(),V=s=>{window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"}).fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}}),N.dispatch("cart/addToCart",s)},r=K(),u=i(r.params.page?parseInt(r.params.page):1),x=i(12),T=i(0),C=i([]),l=i(r.params.id?parseInt(r.params.id):1),c=i([]),f=i([]),g=i([]),$=async()=>{try{const s=await axios.get("/api/get-solution-categories",{params:{solution_id:l.value}});c.value=s.data.data,f.value=s.data.data.product_categories_json,R({title:c.value.name+" | Kitchen Solution"})}catch(s){console.error(s)}},y=i([]),P=async()=>{l.value+"",g.value[l.value];try{const s=await axios.get("/api/get-solution-category-products",{params:{solution_id:l.value,checkedCategoriesSolutions:g.value}});y.value=s.data.products.data}catch(s){console.error(s)}};function B(s){let a=l.value;console.log(a),a in g.value||(g.value[a]=[]);const o=g.value[a];o.includes(s)?o.splice(o.indexOf(s),1):o.push(s)}const k=S(()=>Math.ceil(T.value/x.value)),D=i([]),w=(s,a,o,n)=>{let t=a.replace(/ /g,"-").replace(/\//g,"-");t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),t=t.toLowerCase();let d=o.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return d=d.replace(/-+/g,"-"),d=d.replace(/^-+|-+$/g,""),`/kitchen/product/${s}/${t}-${d}`},E=()=>{D.value=C.value.slice(0,0+x.value)};return S(()=>{const s=[];u.value>1&&s.push("Prev");let o=Math.max(1,u.value-Math.floor(5/2)),n=Math.min(o+5-1,k.value);n-o<5-1&&(o=Math.max(1,n-5+1));for(let t=o;t<=n;t++)s.push(t);return u.value<k.value&&s.push("Next"),s}),O(()=>{$(),P()}),z(C,E),j(()=>{const s=r.params;r.query,s.id!==""&&l!==s.id&&(u.value=1,l.value=s.id?parseInt(s.id):1,s.page!==""&&u!==s.page&&(u.value=s.page?parseInt(s.page):1),P())}),(s,a)=>{const o=q("router-link"),n=A("lazy");return _(),m("main",U,[e("nav",W,[e("div",X,[e("ol",G,[e("li",J,[p(o,{to:"/"},{default:h(()=>a[0]||(a[0]=[b("HOME")])),_:1})]),e("li",Q,[p(o,{to:"/commercial-kitchen"},{default:h(()=>a[1]||(a[1]=[b("KITCHEN")])),_:1})]),e("li",Y,v(c.value.name),1)])])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[e("div",oe,[e("div",ie,[e("div",le,[e("div",ce,[e("div",ne,[e("h2",de,[e("a",re,v(c.value.name)+" - SOLUTION ",1)])]),e("div",ue,[e("div",_e,[e("span",{innerHTML:c.value.description},null,8,me)])])])])]),(_(!0),m(M,null,I(y.value,t=>(_(),m("div",{class:"col-6 col-md-3 col-lg-2 col-xl-2 image-container",key:t.id},[e("div",ge,[e("figure",pe,[p(o,{to:w(t.id,t.name,t.model_number)},{default:h(()=>[L(e("img",{src:"/storage/"+t.main_image_path,alt:"Product image",class:"product-image"},null,8,he),[[n,"/storage/"+t.main_image_path,"src"]])]),_:2},1032,["to"]),a[3]||(a[3]=e("div",{class:"product-action-vertical"},null,-1)),e("div",ve,[e("button",{type:"button",onClick:d=>V(t),class:"btn-product btn-cart"},a[2]||(a[2]=[e("span",null,"Add to Cart",-1)]),8,be)])]),e("div",fe,[e("div",we,[p(o,{to:w(t.id,t.name,t.model_number)},{default:h(()=>[b(v(t.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",xe,[p(o,{to:w(t.id,t.name,t.model_number)},{default:h(()=>[b(v(t.name),1)]),_:2},1032,["to"])]),a[4]||(a[4]=e("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),e("aside",Ce,[e("div",ye,[f.value.length?(_(),m("div",Pe,[a[5]||(a[5]=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),e("div",ke,[e("div",Se,[e("div",Me,[(_(!0),m(M,null,I(f.value,t=>(_(),m("div",{class:"filter-item",key:t.id},[e("div",Ie,[e("input",{type:"checkbox",class:"custom-control-input",id:"cat-"+t.id,value:t.id,onChange:d=>B(t.id)},null,40,Le),e("label",{class:"custom-control-label",for:"cat-"+t.id},v(t.name),9,Ne)])]))),128))])])])])):F("",!0),e("div",Ve,[e("div",Te,[e("div",$e,[L(e("img",{src:"/storage/"+c.value.main_image_path,alt:"Product image"},null,8,Be),[[n,"/storage/"+c.value.main_image_path,"src"]])])])])])])])])])])}}};export{Ke as default};
