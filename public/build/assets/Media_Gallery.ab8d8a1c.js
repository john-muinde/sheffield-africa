import{bn as D,z as _,h as B,w as L,bo as d,bp as g,bq as e,X as x,bv as v,S as N,by as I,bt as P,B as z,c9 as A,bw as T,c7 as G,o as j,W as U,bx as E,C as R,j as h,bC as y,bT as J}from"./app-setting.8175995d.js";import"./_commonjsHelpers.f037b798.js";const O={key:0,class:"filter-container"},W={class:"filter-heading"},X={class:"filter-options-container"},H=["value"],K={class:"filter-content"},Q={class:"checkbox-wrapper"},Y={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"checkmark"},Z={class:"filter-label"},ee={class:"filter-count"},te={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0}},emits:["update:displayedProducts"],setup($,{emit:m}){const a=m,o=$,c=_([]),u=_(o.items),f=B(()=>{var r;return!((r=o.items)!=null&&r.length)||!o.filterColumn?[]:[...new Set(o.items.map(l=>l[o.filterColumn]).filter(Boolean))].sort()}),w=r=>o.items.filter(l=>l[o.filterColumn]===r).length,b=r=>r.split("_").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),C=()=>{c.value.length===0?u.value=o.items:u.value=o.items.filter(r=>c.value.includes(r[o.filterColumn])),a("update:displayedProducts",u.value)};return L(()=>o.items,()=>{c.value=[],u.value=o.items},{deep:!0}),(r,l)=>f.value.length?(d(),g("div",O,[e("h4",W,[l[1]||(l[1]=e("span",{class:"filter-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])],-1)),x(" "+v(b($.filterColumn)),1)]),e("div",X,[(d(!0),g(N,null,I(f.value,p=>(d(),g("label",{key:p,class:P(["filter-card",{"filter-card-selected":c.value.includes(p)}])},[z(e("input",{type:"checkbox",value:p,"onUpdate:modelValue":l[0]||(l[0]=M=>c.value=M),onChange:C,class:"filter-checkbox"},null,40,H),[[A,c.value]]),e("div",K,[e("div",Q,[e("div",{class:P(["custom-checkbox",{checked:c.value.includes(p)}])},[c.value.includes(p)?(d(),g("svg",Y,l[2]||(l[2]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):T("",!0)],2),e("span",Z,v(p),1)]),e("span",ee,v(w(p)),1)])],2))),128))])])):T("",!0)}},ae=D(te,[["__scopeId","data-v-b4ffb10e"]]);const se={class:"main"},le={class:"page-content"},ie={class:"container"},oe={class:"row"},ne={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},re={class:"row"},ce={class:"entry entry-mask"},de={class:"entry-media entry-gallery"},ue=["src"],pe={class:"entry-body"},ge={class:"entry-title"},me={class:"entry-cats mt-1"},_e={style:{"background-color":"#c02434",padding:"5px"}},ve={class:"col-lg-12 mt-3"},fe={"aria-label":"Page navigation"},he={class:"pagination justify-content-center"},ye={class:"page-item-total"},be={__name:"Media_Gallery",setup($){const m=G(),a=_(m.params.page?parseInt(m.params.page):1),o=_(12),c=_(0),u=_([]),f=_(m.params.id?parseInt(m.params.id):1),w=_([]),b=async()=>{try{const t=await axios.get("/api/get-media-center-galleries",{params:{page:a.value,per_page:o.value,category_id:f.value}});u.value=t.data.data,c.value=t.data.total,V(u.value)}catch(t){console.error(t)}},C=(t,n)=>{let i=n.replace(/ /g,"-").replace(/\//g,"-");return i=i.replace(/-+/g,"-"),i=i.replace(/^-+|-+$/g,""),i=i.toLowerCase(),`/media/gallery/${t}/${i}`},r=t=>`/media/gallery/page/${t}`,l=B(()=>Math.ceil(c.value/o.value)),p=()=>{a.value>1&&a.value--},M=()=>{a.value<l.value&&a.value++},F=t=>{a.value=t},V=t=>{w.value=t},q=t=>Number.isInteger(t),S=B(()=>{const t=[];a.value>1&&t.push("Prev");let i=Math.max(1,a.value-Math.floor(5/2)),k=Math.min(i+5-1,l.value);k-i<5-1&&(i=Math.max(1,k-5+1));for(let s=i;s<=k;s++)t.push(s);return a.value<l.value&&t.push("Next"),t});return j(()=>{b()}),L(a,b),L(u,V),U(()=>{const t=m.params;m.query,t.id!==""&&f!==t.id&&(a.value=1,f.value=t.id?parseInt(t.id):1,t.page!==""&&a!==t.page&&(a.value=t.page?parseInt(t.page):1),b())}),(t,n)=>{const i=E("router-link"),k=R("lazy");return d(),g("div",null,[e("main",se,[e("div",le,[e("div",ie,[e("div",oe,[e("div",ne,[n[4]||(n[4]=e("h2",{class:"about-us-title"},"Gallery",-1)),h(i,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:y(()=>n[0]||(n[0]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),n[5]||(n[5]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),h(ae,{items:u.value,"filter-column":"gallery_type","onUpdate:displayedProducts":V},null,8,["items"]),e("div",re,[(d(!0),g(N,null,I(w.value,s=>(d(),g("div",{class:"entry-item col-sm-6 col-lg-4",key:s.id},[e("article",ce,[e("figure",de,[h(i,{to:C(s.id,s.name)},{default:y(()=>[z(e("img",{src:"/storage/"+s.main_image_path,alt:"image desc"},null,8,ue),[[k,"/storage/"+s.main_image_path,"src"]])]),_:2},1032,["to"])]),e("div",pe,[n[1]||(n[1]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",ge,[h(i,{to:C(s.id,s.name)},{default:y(()=>[x(v(s.name),1)]),_:2},1032,["to"])]),e("div",me,[e("b",_e,v(s.gallery_type),1)])])])]))),128)),e("div",ve,[e("nav",fe,[e("ul",he,[e("li",{class:P(["page-item",{disabled:a.value===1}])},[h(i,{class:"page-link page-link-prev",to:r(a.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:p},{default:y(()=>n[2]||(n[2]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),x(" Prev ")])),_:1},8,["to"])],2),(d(!0),g(N,null,I(S.value,s=>(d(),g("li",{class:P(["page-item",{active:s===a.value}]),key:s},[q(s)?(d(),J(i,{key:0,class:"page-link",to:r(s),onClick:ke=>F(s)},{default:y(()=>[x(v(s),1)]),_:2},1032,["to","onClick"])):T("",!0)],2))),128)),e("li",ye,"of "+v(l.value),1),e("li",{class:P(["page-item",{disabled:a.value===l.value}])},[h(i,{class:"page-link page-link-next",to:r(a.value+1),"aria-label":"Next",onClick:M},{default:y(()=>n[3]||(n[3]=[x(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])])])])])])])])])}}},we=D(be,[["__scopeId","data-v-dd77fb9d"]]);export{we as default};
