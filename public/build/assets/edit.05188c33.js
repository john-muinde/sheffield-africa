import{aa as x,ab as L,ac as v,P as M,a3 as N,y as C,a4 as I,o as i,c as o,a2 as T,a as e,W as j,p as u,X as w,t as r,u as l,F as h,g,al as R,v as W,m as X,aq as A,ad as Z,ae as z}from"./app-setting.46400ad2.js";import{u as G}from"./brands.234d17af.js";import{F as y}from"./file-upload-with-preview.esm.fbf56fa2.js";/* empty css                                     *//* empty css                         */import"./_commonjsHelpers.f037b798.js";const H={class:"container"},J=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Brands")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Edit Brand")])])])])])],-1),K={class:"container"},O={class:"row"},Q={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},Y={class:"statbox panel box box-shadow"},$=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Edit Brand")])])])],-1),ee={class:"panel-body"},se=["onSubmit"],ae={class:"form-group"},te=e("label",{for:"post-name"},"Brand Name",-1),ie={class:"text-danger mt-1"},oe={class:"text-danger mt-1"},le={class:"form-group"},ne=e("label",{for:"post_description"},"Description",-1),de={class:"text-danger mt-1"},re={class:"text-danger mt-1"},ce={class:"form-group"},ue={class:"custom-file-container","data-upload-id":"myFirstImage"},me=e("label",null,[X("Upload Brand Logo "),e("a",{id:"brand_image",href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1),_e={class:"custom-file-container__custom-file"},pe=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),ve=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),he=e("div",{class:"custom-file-container__image-preview"},null,-1),ge={class:"form-group"},be=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1),fe=e("option",{selected:"",value:"1"},"Published",-1),xe=e("option",{value:"0"},"Not Published",-1),Ie=[fe,xe],we={class:"text-danger mt-1"},ye={class:"text-danger mt-1"},Be=["disabled"],Fe={class:""},Ee={key:0},Se={key:1},Ne={__name:"edit",setup(Ve){x("required",Z),x("min",z);const B={name:"required|min:3",description:"required|min:3",is_published:"required"},{validate:F,errors:m,resetForm:ke}=L({validationSchema:B}),{brand:n,getBrand:E,updateBrand:S,validationErrors:_,isLoading:p,getBrandList:V}=G(),{value:k}=v("name",null,{initialValue:""}),{value:P}=v("description",null,{initialValue:""}),{value:U}=v("is_published",null,{initialValue:""}),a=M({name:k,description:P,is_published:U}),q=N();function D(){F().then(d=>{console.log(d.valid),d.valid&&S(a)})}return C(()=>{E(q.params.id),V(),I(()=>{if(n.value&&n.value.main_image_path){const d=n.value.main_image_path;if(d!==""){const c="/storage/"+d;console.log(c)}else console.log("/assets/images/file-preview.png");const t={images:{baseImage:mainImage,backgroundImage:""}};new y("myFirstImage",t)}else new y("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})})}),I(()=>{a.id=n.value.id,a.name=n.value.name,a.description=n.value.description,a.is_published=n.value.is_published,console.log(n.value)}),(d,t)=>{var c,b,f;return i(),o("div",H,[(i(),T(A,{to:"#breadcrumb"},[J])),e("div",K,[e("div",O,[e("div",Q,[e("div",Y,[$,e("div",ee,[e("form",{onSubmit:j(D,["prevent"])},[e("div",ae,[te,u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.name=s),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Brand Name ..."},null,512),[[w,a.name]]),e("div",ie,r(l(m).name),1),e("div",oe,[(i(!0),o(h,null,g((c=l(_))==null?void 0:c.name,s=>(i(),o("div",null,r(s),1))),256))])]),e("div",le,[ne,u(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.description=s),id:"post_description",class:"form-control",placeholder:"Enter Description ..."},null,512),[[w,a.description]]),e("div",de,r(l(m).description),1),e("div",re,[(i(!0),o(h,null,g((b=l(_))==null?void 0:b.description,s=>(i(),o("div",null,r(s),1))),256))])]),e("div",ce,[e("div",ue,[me,e("label",_e,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:t[2]||(t[2]=s=>a.main_image=s.target.files[0])},null,32),pe,ve]),he])]),e("div",ge,[be,e("div",null,[u(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.is_published=s),id:"is_published",class:"form-select"},Ie,512),[[R,a.is_published]])]),e("div",we,r(l(m).is_published),1),e("div",ye,[(i(!0),o(h,null,g((f=l(_))==null?void 0:f.is_published,s=>(i(),o("div",null,r(s),1))),256))])]),e("button",{disabled:l(p),class:"btn btn-primary mt-3"},[u(e("div",Fe,null,512),[[W,l(p)]]),l(p)?(i(),o("span",Ee,"Processing...")):(i(),o("span",Se,"Update"))],8,Be)],40,se)])])])])])])}}};export{Ne as default};
