import{bn as z,z as d,h as U,w as A,bo as u,bp as p,bq as e,X as P,bv as y,S as M,by as V,bt as k,B as R,ca as G,bw as L,c8 as j,cb as J,o as O,W,bx as X,C as H,j as w,bC as N,J as B,cc as K}from"./app-setting.90a27aa6.js";import"./_commonjsHelpers.f037b798.js";const Q={key:0,class:"filter-container"},Y={class:"filter-heading"},Z={class:"filter-options-container"},ee=["value"],te={class:"filter-content"},se={class:"checkbox-wrapper"},ae={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"checkmark"},le={class:"filter-label"},re={class:"filter-count"},ne={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0},filters:{type:Array,required:!1,default:[]},selectedFilters:{type:Array,required:!1,default:[]}},emits:["update:displayedProducts"],setup($,{emit:_}){const h=_,s=$,c=d(s.selectedFilters);console.log(c);const v=d(s.items),g=U(()=>{var l,n,o;return s.filters.length?s.filters:!((l=s.items)!=null&&l.length)&&!((n=s.filters)!=null&&n.length)&&!s.filterColumn?[]:!((o=s.items)!=null&&o.length)||!s.filterColumn?[]:[...new Set(s.items.map(m=>m[s.filterColumn]).filter(Boolean))].sort()}),b=l=>s.items.filter(n=>n[s.filterColumn]===l).length,x=l=>l.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),C=()=>{c.value.length===0?v.value=s.items:v.value=s.items.filter(l=>c.value.includes(l[s.filterColumn])),h("update:displayedProducts",{filteredData:v.value,selectedFilters:c.value})};return A(()=>s.items,l=>{if(v.value=l,c.value.length>0){const n=l.filter(o=>c.value.includes(o[s.filterColumn]));h("update:displayedProducts",{filteredData:n,selectedFilters:c.value})}else h("update:displayedProducts",{filteredData:l,selectedFilters:[]})},{deep:!0}),(l,n)=>g.value.length?(u(),p("div",Q,[e("h4",Y,[n[1]||(n[1]=e("span",{class:"filter-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])],-1)),P(" "+y(x($.filterColumn)),1)]),e("div",Z,[(u(!0),p(M,null,V(g.value,o=>(u(),p("label",{key:o,class:k(["filter-card",{"filter-card-selected":c.value.includes(o)}])},[R(e("input",{type:"checkbox",value:o,"onUpdate:modelValue":n[0]||(n[0]=m=>c.value=m),onChange:C,class:"filter-checkbox"},null,40,ee),[[G,c.value]]),e("div",te,[e("div",se,[e("div",{class:k(["custom-checkbox",{checked:c.value.includes(o)}])},[c.value.includes(o)?(u(),p("svg",ae,n[2]||(n[2]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):L("",!0)],2),e("span",le,y(o),1)]),e("span",re,y(b(o)),1)])],2))),128))])])):L("",!0)}},ie=z(ne,[["__scopeId","data-v-e743675a"]]);const oe={class:"main"},ce={class:"page-content"},de={class:"container"},ue={class:"row"},pe={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},_e={class:"row mt-2"},ge={class:"entry entry-mask"},ve={class:"entry-media entry-gallery"},me=["src"],fe={class:"entry-body"},ye={class:"entry-title"},he={class:"entry-cats mt-1"},be={style:{"background-color":"#c02434",padding:"5px"}},ke={class:"col-lg-12 mt-3"},xe={"aria-label":"Page navigation"},Ce={class:"pagination justify-content-center"},we=["onClick"],Pe={__name:"Media_Gallery",setup($){const _=j(),h=J(),s=d(_.params.page?parseInt(_.params.page):1),c=d(12),v=d(0),g=d([]),b=d(_.params.id?parseInt(_.params.id):1),x=d([]),C=d([]),l=d({}),n=d(["CSR","EVENT","PROJECT"]),o=async(r=null)=>{typeof r=="string"&&r.includes("http")&&(r=r.split("/api/").pop());try{const a=(await K.get(r||"/api/get-media-center-galleries",{params:{page:s.value,per_page:c.value,category_id:b.value,gallery_type:C.value}})).data;g.value=a.data,v.value=a.total,l.value={next_page_url:a.next_page_url,prev_page_url:a.prev_page_url,links:a.links},F(g.value)}catch(t){console.error(t)}},m=(r,t)=>{let a=t.replace(/ /g,"-").replace(/\//g,"-");return a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),a=a.toLowerCase(),`/media/gallery/${r}/${a}`},D=r=>{if(r){const a=new URLSearchParams(r.split("?")[1]).get("page");a&&(s.value=parseInt(a),h.push(`/media/gallery/page/${s.value}`))}},F=r=>{x.value=r},T=({filteredData:r,selectedFilters:t})=>{F(r),t.value=t};return O(()=>{o()}),A(g,F),W(()=>{const r=_.params,t=r.id?parseInt(r.id):1,a=r.page?parseInt(r.page):1;(b.value!==t||s.value!==a)&&(b.value=t,s.value=a,o())}),(r,t)=>{var I,S,q;const a=X("router-link"),E=H("lazy");return u(),p("div",null,[e("main",oe,[e("div",ce,[e("div",de,[e("div",ue,[e("div",pe,[t[6]||(t[6]=e("h2",{class:"about-us-title"},"Gallery",-1)),w(a,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:N(()=>t[2]||(t[2]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),t[7]||(t[7]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),w(ie,{items:g.value,"filter-column":"gallery_type","onUpdate:displayedProducts":T,filters:n.value,"selected-filters":C.value},null,8,["items","filters","selected-filters"]),e("div",_e,[(u(!0),p(M,null,V(x.value,i=>(u(),p("div",{class:"entry-item col-sm-6 col-lg-4",key:i.id},[e("article",ge,[e("figure",ve,[w(a,{to:m(i.id,i.name)},{default:N(()=>[R(e("img",{src:"/storage/"+i.main_image_path,alt:"image desc"},null,8,me),[[E,"/storage/"+i.main_image_path,"src"]])]),_:2},1032,["to"])]),e("div",fe,[t[3]||(t[3]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",ye,[w(a,{to:m(i.id,i.name)},{default:N(()=>[P(y(i.name),1)]),_:2},1032,["to"])]),e("div",he,[e("b",be,y(i.gallery_type),1)])])])]))),128)),e("div",ke,[e("nav",xe,[e("ul",Ce,[e("li",{class:k(["page-item",{disabled:!((I=l.value)!=null&&I.prev_page_url)}])},[e("a",{class:"page-link page-link-prev",onClick:t[0]||(t[0]=B(i=>{var f;return D((f=l.value)==null?void 0:f.prev_page_url)},["prevent"])),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true"},t[4]||(t[4]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),P(" Prev ")]))],2),(u(!0),p(M,null,V((S=l.value)==null?void 0:S.links,(i,f)=>(u(),p("li",{class:k(["page-item",{active:i.active}]),key:i.label},[i.url&&Number.isInteger(Number(i.label))?(u(),p("a",{key:0,class:"page-link",onClick:B($e=>D(i.url),["prevent"])},y(i.label),9,we)):L("",!0)],2))),128)),e("li",{class:k(["page-item",{disabled:!((q=l.value)!=null&&q.next_page_url)}])},[e("a",{class:"page-link page-link-next",onClick:t[1]||(t[1]=B(i=>{var f;return D((f=l.value)==null?void 0:f.next_page_url)},["prevent"])),"aria-label":"Next"},t[5]||(t[5]=[P(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)]))],2)])])])])])])])])])])}}},Ne=z(Pe,[["__scopeId","data-v-8fbba381"]]);export{Ne as default};
