import{bn as z,c8 as D,z as n,h as P,o as E,w as N,W as R,bx as W,bo as r,bp as d,bq as a,j as f,bC as g,S as M,by as I,bt as y,bv as k,X as p,bT as $,bw as F}from"./app-setting.4dfaedfa.js";import"./_commonjsHelpers.f037b798.js";const J={class:"main"},O={class:"page-content"},X={class:"container"},A={class:"row"},G={class:"col-lg-10 offset-lg-1 in-the-news-section"},H={class:"row justify-content-left"},K={class:"p-6 border rounded"},Q={class:"position-relative mb-2",style:{height:"216px"}},U=["href"],Y=["src","alt"],Z=["href"],ee={class:"col-lg-12 blogs mt-3"},ae={"aria-label":"Page navigation"},te={class:"pagination justify-content-center"},se={class:"page-item-total"},oe={__name:"Media_In_The_News",setup(le){const i=D(),t=n(i.params.page?parseInt(i.params.page):1),w=n(12),_=n(0),v=n([]),m=n(i.params.id?parseInt(i.params.id):1),C=n([]),h=async()=>{try{const e=await axios.get("/api/get-in-the-news",{params:{page:t.value,per_page:w.value,category_id:m.value}});v.value=e.data.data,_.value=e.data.total,console.log(_.value)}catch(e){console.error(e)}},T=async()=>{try{const e=await axios.get("/api/get-blog-sidebar",{});C.value=e.data.other_blogs}catch(e){console.error(e)}},b=e=>`/media/in-the-news/page/${e}`,c=P(()=>Math.ceil(_.value/w.value)),x=n([]),V=()=>{t.value>1&&t.value--},B=()=>{t.value<c.value&&t.value++},S=e=>{t.value=e},j=()=>{x.value=v.value},L=e=>Number.isInteger(e),q=P(()=>{const e=[];t.value>1&&e.push("Prev");let l=Math.max(1,t.value-Math.floor(5/2)),s=Math.min(l+5-1,c.value);s-l<5-1&&(l=Math.max(1,s-5+1));for(let u=l;u<=s;u++)e.push(u);return t.value<c.value&&e.push("Next"),e});return E(()=>{h(),T()}),N(t,h),N(v,j),R(()=>{const e=i.params;i.query,e.id!==""&&m!==e.id&&(t.value=1,m.value=e.id?parseInt(e.id):1,e.page!==""&&t!==e.page&&(t.value=e.page?parseInt(e.page):1),h())}),(e,o)=>{const l=W("router-link");return r(),d("div",null,[a("main",J,[a("div",O,[a("div",X,[a("div",A,[a("div",G,[o[4]||(o[4]=a("h2",{class:"about-us-title"},"In the News",-1)),f(l,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:g(()=>o[0]||(o[0]=[a("i",{class:"icon-long-arrow-left"},null,-1),a("span",null,"Back to Media Center",-1)])),_:1}),o[5]||(o[5]=a("p",{class:"lead about-us-lead text-primary mb-3"}," Media Spotlight: Sheffield Making Waves in the News ",-1)),a("div",H,[(r(!0),d(M,null,I(x.value,s=>(r(),d("div",{class:"col-12 col-md-6 col-lg-4 mb-2 blog-item",key:s.id},[a("div",K,[a("div",Q,[a("a",{target:"_blank",class:"float-center",href:s.url},[a("img",{class:"w-100 h-100 rounded",style:{"object-fit":"cover"},src:"/storage/"+s.main_image_path,alt:s.name},null,8,Y)],8,U)]),a("a",{target:"_blank",class:"btn btn-primary ml-5 pl-4 mt-2 mb-2 float-center",style:{color:"white"},href:s.url},[p(" Read More "+k(JSON.stringify(s))+" ",1),o[1]||(o[1]=a("i",{class:"icon-long-arrow-right"},null,-1))],8,Z)])]))),128)),a("div",ee,[a("nav",ae,[a("ul",te,[a("li",{class:y(["page-item",{disabled:t.value===1}])},[f(l,{class:"page-link page-link-prev",to:b(t.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:V},{default:g(()=>o[2]||(o[2]=[a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-left"})],-1),p(" Prev ")])),_:1},8,["to"])],2),(r(!0),d(M,null,I(q.value,s=>(r(),d("li",{class:y(["page-item",{active:s===t.value}]),key:s},[L(s)?(r(),$(l,{key:0,class:"page-link",to:b(s),onClick:u=>S(s)},{default:g(()=>[p(k(s),1)]),_:2},1032,["to","onClick"])):F("",!0)],2))),128)),a("li",se," of "+k(c.value),1),a("li",{class:y(["page-item",{disabled:t.value===c.value}])},[f(l,{class:"page-link page-link-next",to:b(t.value+1),"aria-label":"Next",onClick:B},{default:g(()=>o[3]||(o[3]=[p(" Next "),a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])])])])])])])])])}}},re=z(oe,[["__scopeId","data-v-858307a2"]]);export{re as default};
