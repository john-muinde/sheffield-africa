import{a as g,v as e}from"./index-516f1143.js";import{N as y}from"./vue-easy-lightbox.esm.min-9efa2056.js";import{u as b}from"./use-meta-de5a1737.js";import"./_commonjsHelpers-23102255.js";const f={class:"main"},x={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},w={class:"container"},k={class:"breadcrumb"},D={class:"breadcrumb-item"},S={class:"breadcrumb-item"},B={class:"breadcrumb-item active","aria-current":"page"},C={class:"page-content pb-0"},T={class:"container"},L={class:"row"},M={class:"col-lg-6 mb-2 mb-lg-0"},H={class:"heading text-primary mb-1"},$=["innerHTML"],I={class:"row"},P={class:"col-sm-7 p-5"},j={class:"contact-info"},F={class:"contact-list"},R=["href"],U=["href"],q={href:"'mailto:'+project.email"},A={class:"row"},O={class:"col-lg-12 pt-3"},z={class:"entry-container max-col-3"},G={class:"entry entry-grid text-center"},J={class:"entry-media"},K=["onClick"],Q=["src","alt"],W={class:"stores mb-4 mb-lg-5"},X={class:"row"},Y={class:"entry entry-grid"},Z={class:"entry-media"},ee=["src"],te={class:"entry-body text-center pt-1"},oe={class:"entry-title"},le={class:"entry-content"},ne=["href"],se=["href"],re=["href"],_e={__name:"ProjectDetails",setup(ae){const r=g();e.ref(r);const l=e.ref([]),d=e.ref([]),a=e.ref(r.params.id?parseInt(r.params.id):1),m=async()=>{try{const n=await axios.get("/api/get-one-project",{params:{project_id:a.value}});l.value=n.data.project,d.value=n.data.other_projects,b({title:l.value.name+" | Project"})}catch(n){console.error(n)}},u=e.ref([]),N=window.location.protocol+"//"+window.location.host,V=async n=>{u.value=l.value.project_images.map(t=>N+"/storage/"+t.name),h(n)},i=e.ref(!1),_=e.ref(0),h=n=>{_.value=n,i.value=!0},E=()=>{i.value=!1},c=(n,t)=>{let s=t.replace(/ /g,"-");return s=s.replace(/-+/g,"-"),s=s.replace(/^-+|-+$/g,""),s=s.toLowerCase(),`/project/${n}/${s}`};e.onMounted(()=>{m()});const v=e.ref("");return e.ref(0),e.watch(l,()=>{l.value.project_images.length>0&&(v.value=l.value.project_images[0].name)}),e.watchEffect(()=>{const n=r.params;r.query,n.id!==""&&a.value!==n.id&&(a.value=n.id?parseInt(n.id):1,m())}),(n,t)=>{const s=e.resolveComponent("router-link");return e.openBlock(),e.createElementBlock("main",f,[e.createElementVNode("nav",x,[e.createElementVNode("div",w,[e.createElementVNode("ol",k,[e.createElementVNode("li",D,[e.createVNode(s,{to:"/"},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode(" Home ")])),_:1})]),e.createElementVNode("li",S,[e.createVNode(s,{to:"/about-us"},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode(" About Us ")])),_:1})]),e.createElementVNode("li",B,e.toDisplayString(l.value.name),1)])])]),e.createElementVNode("div",C,[e.createElementVNode("div",T,[e.createElementVNode("div",L,[e.createElementVNode("div",M,[e.createElementVNode("h2",H,e.toDisplayString(l.value.name),1),e.createElementVNode("div",{innerHTML:l.value.description},null,8,$),e.createElementVNode("div",I,[e.createElementVNode("div",P,[e.createElementVNode("div",j,[t[6]||(t[6]=e.createElementVNode("h3",null,"The Project",-1)),e.createElementVNode("ul",F,[e.createElementVNode("li",null,[t[2]||(t[2]=e.createElementVNode("i",{class:"icon-map-marker"},null,-1)),e.createTextVNode(" "+e.toDisplayString(l.value.location),1)]),e.createElementVNode("li",null,[t[3]||(t[3]=e.createElementVNode("i",{class:"icon-phone"},null,-1)),e.createElementVNode("a",{href:"tel:"+l.value.phone_number1},e.toDisplayString(l.value.phone_number1),9,R)]),e.createElementVNode("li",null,[t[4]||(t[4]=e.createElementVNode("i",{class:"icon-phone"},null,-1)),e.createElementVNode("a",{href:"tel:"+l.value.phone_number2},e.toDisplayString(l.value.phone_number2),9,U)]),e.createElementVNode("li",null,[t[5]||(t[5]=e.createElementVNode("i",{class:"icon-envelope"},null,-1)),e.createElementVNode("a",q,e.toDisplayString(l.value.email),1)])])])])])])]),e.createElementVNode("div",A,[e.createElementVNode("div",O,[e.createElementVNode("div",z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.project_images,(o,p)=>(e.openBlock(),e.createElementBlock("div",{key:p,class:"entry-item lifestyle shopping col-sm-4"},[e.createElementVNode("article",G,[e.createElementVNode("figure",J,[e.createElementVNode("a",{href:"#",onClick:ie=>V(p)},[e.createElementVNode("img",{src:"/storage/"+o.name,alt:l.value.name},null,8,Q)],8,K)])])]))),128)),e.createVNode(e.unref(y),{"esc-disabled":"",visible:i.value,imgs:u.value,index:_.value,onHide:E},null,8,["visible","imgs","index"])])])]),t[14]||(t[14]=e.createElementVNode("hr",{class:"mt-4 mb-5"},null,-1)),e.createElementVNode("div",W,[t[13]||(t[13]=e.createElementVNode("h3",{class:"header text-primary text-left mb-3"}," Other projects ",-1)),e.createElementVNode("div",X,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,o=>(e.openBlock(),e.createElementBlock("div",{key:o.id,class:"col-sm-6 col-lg-3"},[e.createElementVNode("article",Y,[e.createElementVNode("figure",Z,[e.createVNode(s,{to:c(o.id,o.name)},{default:e.withCtx(()=>[e.createElementVNode("img",{style:{"aspect-ratio":"3 / 2"},src:"/storage/"+o.main_image_path,alt:"image desc"},null,8,ee)]),_:2},1032,["to"])]),e.createElementVNode("div",te,[e.createElementVNode("h2",oe,[e.createVNode(s,{to:c(o.id,o.name)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.name),1)]),_:2},1032,["to"])]),e.createElementVNode("div",le,[e.createElementVNode("p",null,[e.createElementVNode("span",null,[t[8]||(t[8]=e.createElementVNode("i",{style:{color:"rgb(223, 31, 49)"},class:"icon-phone"},null,-1)),e.createElementVNode("b",null,[e.createElementVNode("a",{style:{color:"#777","text-decoration":"none"},onmouseover:"this.style.color='#c02434'",onmouseout:"this.style.color='#777'",class:"text-grey pl-3",href:"tel:"+o.phone_number1},e.toDisplayString(o.phone_number1),9,ne),t[7]||(t[7]=e.createTextVNode(", ")),e.createElementVNode("a",{style:{color:"#777","text-decoration":"none"},onmouseover:"this.style.color='#c02434'",onmouseout:"this.style.color='#777'",class:"text-grey",href:"tel:"+o.phone_number2},e.toDisplayString(o.phone_number2),9,se)])]),t[10]||(t[10]=e.createElementVNode("br",null,null,-1)),e.createElementVNode("span",null,[t[9]||(t[9]=e.createElementVNode("i",{style:{color:"rgb(223, 31, 49)"},class:"icon-envelope"},null,-1)),e.createElementVNode("b",null,[e.createElementVNode("a",{style:{color:"#777","text-decoration":"none"},onmouseover:"this.style.color='#c02434'",onmouseout:"this.style.color='#777'",class:"text-grey pl-3",href:"mailto:"+o.email},e.toDisplayString(o.email),9,re)])]),t[11]||(t[11]=e.createElementVNode("br",null,null,-1)),e.createTextVNode(" "+e.toDisplayString(o.location),1)]),e.createVNode(s,{to:c(o.id,o.name),class:"btn btn-outline-primary"},{default:e.withCtx(()=>t[12]||(t[12]=[e.createElementVNode("span",null,"View More",-1),e.createElementVNode("i",{class:"icon-long-arrow-right"},null,-1)])),_:2},1032,["to"])])])])]))),128))])])])])])}}};export{_e as default};
