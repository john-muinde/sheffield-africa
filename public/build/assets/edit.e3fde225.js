import{aa as N,ab as _e,ac as d,P as me,x as pe,a3 as he,y as ge,a4 as T,o as l,c as a,a2 as ve,a as e,W as fe,p,X as h,t as n,u as s,F as c,g as u,i as v,al as be,v as ye,m as k,aq as xe,d as we,ad as ke,ae as Ve}from"./app-setting.46400ad2.js";import{u as Pe}from"./products.64619e33.js";import{u as Ee}from"./categories.182b9be2.js";import{u as Ie}from"./brands.234d17af.js";/* empty css                                     */import{F as b}from"./file-upload-with-preview.esm.fbf56fa2.js";import{M as j}from"./vue3-multiselect.umd.min.7eb8bf8d.js";/* empty css                         */import{q as y}from"./vue3-quill.549fa9f2.js";import"./_commonjsHelpers.f037b798.js";const Ue={class:"container"},Se=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Products")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Edit Product")])])])])])],-1),qe={class:"container"},Ce={class:"row"},Fe={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},De={class:"statbox panel box box-shadow"},Le=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Edit Product")])])])],-1),Me={class:"panel-body"},Be=["onSubmit"],Ne={class:"row"},Te={class:"form-group col-md-8"},je=e("label",{for:"post-name"},"Product Name",-1),We={class:"text-danger mt-1"},Ke={class:"text-danger mt-1"},Ge={class:"form-group col-md-4"},Re=e("label",{for:"post-name"},"Make",-1),Xe={class:"text-danger mt-1"},Ae={class:"text-danger mt-1"},Ze={class:"form-group col-md-4"},He=e("label",{for:"post-name"},"Model Number",-1),Oe={class:"text-danger mt-1"},Qe={class:"text-danger mt-1"},ze={class:"form-group col-md-4"},$e=e("label",{for:"post-name"},"SKU",-1),Je={class:"text-danger mt-1"},Ye={class:"text-danger mt-1"},et={class:"form-group col-md-4"},tt=e("label",{for:"post-name"},"Quantity",-1),ot={class:"text-danger mt-1"},it={class:"text-danger mt-1"},st={class:"form-group col-md-4"},lt=e("label",{for:"post-name"},"Cost Price (USD KES ?)",-1),at={class:"text-danger mt-1"},nt={class:"text-danger mt-1"},rt={class:"form-group col-md-4"},dt=e("label",{for:"post-name"},"Retail Price (USD KES ?)",-1),ct={class:"text-danger mt-1"},ut={class:"text-danger mt-1"},_t={class:"form-group col-md-4"},mt=e("label",{for:"post-name"},"Weight (KGs)",-1),pt={class:"text-danger mt-1"},ht={class:"text-danger mt-1"},gt={class:"form-group"},vt=e("label",{for:"post-category",class:"form-label"},"Select Product Category",-1),ft={class:"text-danger mt-1"},bt={class:"text-danger mt-1"},yt=e("h4",null,"Dimensions",-1),xt=e("hr",{class:"bg-dark"},null,-1),wt={class:"form-group col-md-4"},kt=e("label",{for:"post-name"},"Length (mm)",-1),Vt={class:"text-danger mt-1"},Pt={class:"text-danger mt-1"},Et={class:"form-group col-md-4"},It=e("label",{for:"post-name"},"Height (mm)",-1),Ut={class:"text-danger mt-1"},St={class:"text-danger mt-1"},qt={class:"form-group col-md-4"},Ct=e("label",{for:"post-name"},"Width (mm)",-1),Ft={class:"text-danger mt-1"},Dt={class:"text-danger mt-1"},Lt={class:"form-group"},Mt=e("label",{for:"short_description"},"Short Product Description",-1),Bt={class:"form-group"},Nt=e("label",{for:"post_description"},"Product Description",-1),Tt={class:"form-group"},jt=e("label",{for:"post_description"},"Technical Specification",-1),Wt={class:"form-group"},Kt=e("label",{for:"post_description"},"Terms of Operation",-1),Gt={class:"custom-file-container","data-upload-id":"myFirstImage"},Rt=e("label",null,[k("Upload Main Product Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1),Xt={class:"custom-file-container__custom-file",for:"main_image"},At=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),Zt=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),Ht=e("div",{class:"custom-file-container__image-preview"},null,-1),Ot={class:"custom-file-container","data-upload-id":"myProductGallery"},Qt=e("label",null,[k("Product Gallery (multiple images allowed) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1),zt={class:"custom-file-container__custom-file",for:"product_gallery"},$t={type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",ref:"product_gallery",multiple:"",id:"product_gallery"},Jt=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),Yt=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),eo={class:"custom-file-container__image-preview"},to=["onClick"],oo=e("span",{class:"custom-file-container__image-multi-preview__single-image-clear__icon","data-upload-token":""},"\xD7",-1),io=[oo],so={class:"custom-file-container","data-upload-id":"myDocument"},lo=e("label",null,[k("Technical Specification Document "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1),ao=e("div",{class:"align-right"},[e("a",{href:"",class:"btn btn-info pull-right"},"View Uploaded File"),e("a",{href:"",class:"btn btn-primary pull-right"},"Delete Uploaded File")],-1),no={class:"custom-file-container__custom-file",for:"document"},ro=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),co=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),uo=e("div",{class:"custom-file-container__image-preview"},null,-1),_o={class:"form-group col-md-4"},mo=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1),po=e("option",{value:""}," Select Publishing Status ... ",-1),ho=e("option",{selected:"",value:"1"}," Published ",-1),go=e("option",{value:"0"}," Not Published ",-1),vo=[po,ho,go],fo={class:"text-danger mt-1"},bo={class:"text-danger mt-1"},yo=["disabled"],xo={class:""},wo={key:0},ko={key:1},jo={__name:"edit",setup(Vo){N("required",ke),N("min",Ve);const W={name:"required|min:3",brand:"required",short_description:"required",description:"required|min:3",is_published:"required"},{validate:K,errors:_,resetForm:Po}=_e({validationSchema:W}),{product:r,getProduct:G,updateProduct:V,validationErrors:m,isLoading:x,getProductList:Eo,productList:Io,deleteProductImage:R}=Pe(),{getCategoryList:X,categoryList:A}=Ee(),{getBrandList:Z,brandList:H}=Ie(),{value:O}=d("name",null,{initialValue:""}),{value:Q}=d("brand",null,{initialValue:r.value.brand_json}),{value:z}=d("model_number",null,{initialValue:""}),{value:$}=d("sku",null,{initialValue:""}),{value:J}=d("quantity",null,{initialValue:""}),{value:Y}=d("cost_price",null,{initialValue:""}),{value:ee}=d("retail_price",null,{initialValue:""}),{value:te}=d("weight",null,{initialValue:""}),{value:oe}=d("length",null,{initialValue:""}),{value:ie}=d("width",null,{initialValue:""}),{value:se}=d("height",null,{initialValue:""}),{value:le}=d("short_description",null,{initialValue:""}),{value:ae}=d("description",null,{initialValue:""}),{value:ne}=d("technical_specification",null,{initialValue:""}),{value:re}=d("terms_of_operation",null,{initialValue:""}),{value:de}=d("is_published",null,{initialValue:""}),o=me({name:O,brand:Q,model_number:z,sku:$,quantity:J,cost_price:Y,retail_price:ee,weight:te,categories:"",length:oe,width:ie,height:se,short_description:le,description:ae,technical_specification:ne,terms_of_operation:re,is_published:de,main_image:"",product_gallery:"",document:""}),f=pe({modules:{}}),ce=he();function ue(){K().then(w=>{if(w.valid){o.brand&&o.brand.id?o.brand=o.brand.id:o.brand=null;const g=document.getElementById("product_gallery").files;g.length>0?V(o,g):V(o,[])}})}return ge(()=>{X(),Z(),G(ce.params.id),T(()=>{if(r.value&&r.value.main_image_path){const g={images:{baseImage:"/storage/"+r.value.main_image_path,backgroundImage:""}};new b("myFirstImage",g)}else new b("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),new b("myDocument",{images:{baseImage:"/assets/images/file-preview-pdf.png",backgroundImage:""}}),new b("myProductGallery",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),T(()=>{o.id=r.value.id,o.name=r.value.name,o.brand=r.value.brand_json,o.model_number=r.value.model_number,o.sku=r.value.sku,o.quantity=r.value.quantity,o.cost_price=r.value.cost_price,o.retail_price=r.value.retail_price,o.weight=r.value.weight,o.categories=r.value.categories_json,o.length=r.value.length,o.width=r.value.width,o.height=r.value.height,o.short_description=r.value.short_description,o.description=r.value.description,o.technical_specification=r.value.technical_specification,o.terms_of_operation=r.value.terms_of_operation,o.is_published=r.value.is_published,o.product_images=r.value.product_images,console.log(r.value)}),(w,i)=>{var g,P,E,I,U,S,q,C,F,D,L,M,B;return l(),a("div",Ue,[(l(),ve(xe,{to:"#breadcrumb"},[Se])),e("div",qe,[e("div",Ce,[e("div",Fe,[e("div",De,[Le,e("div",Me,[e("form",{onSubmit:fe(ue,["prevent"])},[e("div",Ne,[e("div",Te,[je,p(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>o.name=t),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Product Name ..."},null,512),[[h,o.name]]),e("div",We,n(s(_).name),1),e("div",Ke,[(l(!0),a(c,null,u((g=s(m))==null?void 0:g.name,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",Ge,[Re,v(s(j),{modelValue:o.brand,"onUpdate:modelValue":i[1]||(i[1]=t=>o.brand=t),options:s(H),reduce:t=>t.id,searchable:!0,"preselect-first":!0,"track-by":"name",label:"name",placeholder:"Choose Brand ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",Xe,n(s(_).brand),1),e("div",Ae,[(l(!0),a(c,null,u((P=s(m))==null?void 0:P.brand,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",Ze,[He,p(e("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>o.model_number=t),id:"post-brand",type:"text",class:"form-control",placeholder:"Enter Model Number ..."},null,512),[[h,o.model_number]]),e("div",Oe,n(s(_).model_number),1),e("div",Qe,[(l(!0),a(c,null,u((E=s(m))==null?void 0:E.model_number,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",ze,[$e,p(e("input",{"onUpdate:modelValue":i[3]||(i[3]=t=>o.sku=t),id:"post-sku",type:"text",class:"form-control",placeholder:"Enter SKU ..."},null,512),[[h,o.sku]]),e("div",Je,n(s(_).sku),1),e("div",Ye,[(l(!0),a(c,null,u((I=s(m))==null?void 0:I.sku,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",et,[tt,p(e("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>o.quantity=t),id:"post-quantity",type:"text",class:"form-control",placeholder:"Enter Quantity ..."},null,512),[[h,o.quantity]]),e("div",ot,n(s(_).quantity),1),e("div",it,[(l(!0),a(c,null,u((U=s(m))==null?void 0:U.quantity,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",st,[lt,p(e("input",{"onUpdate:modelValue":i[5]||(i[5]=t=>o.cost_price=t),id:"post-cost_price",type:"text",class:"form-control",placeholder:"Enter Cost Price ..."},null,512),[[h,o.cost_price]]),e("div",at,n(s(_).cost_price),1),e("div",nt,[(l(!0),a(c,null,u((S=s(m))==null?void 0:S.cost_price,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",rt,[dt,p(e("input",{"onUpdate:modelValue":i[6]||(i[6]=t=>o.retail_price=t),id:"post-retail_price",type:"text",class:"form-control",placeholder:"Enter Retail Price ..."},null,512),[[h,o.retail_price]]),e("div",ct,n(s(_).retail_price),1),e("div",ut,[(l(!0),a(c,null,u((q=s(m))==null?void 0:q.retail_price,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",_t,[mt,p(e("input",{"onUpdate:modelValue":i[7]||(i[7]=t=>o.weight=t),id:"post-weight",type:"text",class:"form-control",placeholder:"Enter Weight ..."},null,512),[[h,o.weight]]),e("div",pt,n(s(_).weight),1),e("div",ht,[(l(!0),a(c,null,u((C=s(m))==null?void 0:C.weight,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",gt,[vt,v(s(j),{modelValue:o.categories,"onUpdate:modelValue":i[8]||(i[8]=t=>o.categories=t),options:s(A),reduce:t=>t.id,multiple:!0,taggable:!0,searchable:!0,"preselect-first":!0,"track-by":"id",label:"parent_name_with_dashes",placeholder:"Choose Product Category ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",ft,n(s(_).categories),1),e("div",bt,[(l(!0),a(c,null,u((F=s(m))==null?void 0:F.categories,t=>(l(),a("div",{key:t},n(t),1))),128))])]),yt,xt,e("div",wt,[kt,p(e("input",{"onUpdate:modelValue":i[9]||(i[9]=t=>o.length=t),id:"post-length",type:"text",class:"form-control",placeholder:"Enter Length (mm) ..."},null,512),[[h,o.length]]),e("div",Vt,n(s(_).length),1),e("div",Pt,[(l(!0),a(c,null,u((D=s(m))==null?void 0:D.length,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",Et,[It,p(e("input",{"onUpdate:modelValue":i[10]||(i[10]=t=>o.height=t),id:"post-height",type:"text",class:"form-control",placeholder:"Enter Height (mm) ..."},null,512),[[h,o.height]]),e("div",Ut,n(s(_).height),1),e("div",St,[(l(!0),a(c,null,u((L=s(m))==null?void 0:L.height,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",qt,[Ct,p(e("input",{"onUpdate:modelValue":i[11]||(i[11]=t=>o.width=t),id:"post-width",type:"text",class:"form-control",placeholder:"Enter Width (mm) ..."},null,512),[[h,o.width]]),e("div",Ft,n(s(_).width),1),e("div",Dt,[(l(!0),a(c,null,u((M=s(m))==null?void 0:M.width,t=>(l(),a("div",{key:t},n(t),1))),128))])]),e("div",Lt,[Mt,v(s(y),{value:o.short_description,"onUpdate:value":i[12]||(i[12]=t=>o.short_description=t),id:"short_description",options:f.value,placeholder:"Enter Short Description ..."},null,8,["value","options"])]),e("div",Bt,[Nt,v(s(y),{value:o.description,"onUpdate:value":i[13]||(i[13]=t=>o.description=t),options:f.value,placeholder:"Enter Description ..."},null,8,["value","options"])]),e("div",Tt,[jt,v(s(y),{value:o.technical_specification,"onUpdate:value":i[14]||(i[14]=t=>o.technical_specification=t),options:f.value,placeholder:"Enter Technical Specification ..."},null,8,["value","options"])]),e("div",Wt,[Kt,v(s(y),{value:o.terms_of_operation,"onUpdate:value":i[15]||(i[15]=t=>o.terms_of_operation=t),options:f.value,placeholder:"Enter Terms of Operation ..."},null,8,["value","options"])]),e("div",Gt,[Rt,e("label",Xt,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:i[16]||(i[16]=t=>o.main_image=t.target.files[0]),id:"main_image"},null,32),At,Zt]),Ht]),e("div",Ot,[Qt,e("label",zt,[e("input",$t,null,512),Jt,Yt]),e("div",eo,[(l(!0),a(c,null,u(o.product_images,t=>(l(),a("div",{key:t.id,class:"custom-file-container__image-multi-preview",style:we("background-image: url(/storage/"+t.name+")")},[e("span",{class:"custom-file-container__image-multi-preview__single-image-clear",onClick:Uo=>s(R)(t.id)},io,8,to)],4))),128))])]),e("div",so,[lo,ao,e("label",no,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:".pdf,.doc,.docx",onChange:i[17]||(i[17]=t=>o.document=t.target.files[0]),id:"document"},null,32),ro,co]),uo]),e("div",_o,[mo,e("div",null,[p(e("select",{"onUpdate:modelValue":i[18]||(i[18]=t=>o.is_published=t),id:"is_published",class:"form-select"},vo,512),[[be,o.is_published]])]),e("div",fo,n(s(_).is_published),1),e("div",bo,[(l(!0),a(c,null,u((B=s(m))==null?void 0:B.is_published,t=>(l(),a("div",{key:t},n(t),1))),128))])])]),e("button",{disabled:s(x),class:"btn btn-primary mt-3"},[p(e("div",xo,null,512),[[ye,s(x)]]),s(x)?(l(),a("span",wo,"Processing...")):(l(),a("span",ko,"Update"))],8,yo)],40,Be)])])])])])])}}};export{jo as default};
