import{bn as q,z as d,h as U,w as z,bo as u,bp as p,bq as e,X as C,bv as y,S as I,by as M,bt as b,B as R,c9 as G,bw as V,c7 as j,ca as J,o as O,W,bx as X,C as H,j as x,bC as B,J as D,cb as K}from"./app-setting.c4688b13.js";import"./_commonjsHelpers.f037b798.js";const Q={key:0,class:"filter-container"},Y={class:"filter-heading"},Z={class:"filter-options-container"},ee=["value"],te={class:"filter-content"},se={class:"checkbox-wrapper"},ae={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"checkmark"},le={class:"filter-label"},re={class:"filter-count"},ne={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0},filters:{type:Array,required:!1,default:[]},selectedFilters:{type:Array,required:!1,default:[]}},emits:["update:displayedProducts"],setup(P,{emit:_}){const $=_,s=P,c=d(s.selectedFilters&&Array.isArray(s.selectedFilters)?s.selectedFilters:[]),v=d(s.items),g=U(()=>{var n,i,o;return s.filters.length?s.filters:!((n=s.items)!=null&&n.length)&&!((i=s.filters)!=null&&i.length)&&!s.filterColumn?[]:!((o=s.items)!=null&&o.length)||!s.filterColumn?[]:[...new Set(s.items.map(m=>m[s.filterColumn]).filter(Boolean))].sort()}),h=n=>s.items.filter(i=>i[s.filterColumn]===n).length,k=n=>n.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),w=()=>{c.value.length===0?v.value=s.items:v.value=s.items.filter(n=>c.value.includes(n[s.filterColumn])),$("update:displayedProducts",{filteredData:v.value,selectedFilters:c.value})};return z(()=>s.items,()=>{c.value=[],v.value=s.items},{deep:!0}),(n,i)=>g.value.length?(u(),p("div",Q,[e("h4",Y,[i[1]||(i[1]=e("span",{class:"filter-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])],-1)),C(" "+y(k(P.filterColumn)),1)]),e("div",Z,[(u(!0),p(I,null,M(g.value,o=>(u(),p("label",{key:o,class:b(["filter-card",{"filter-card-selected":c.value.includes(o)}])},[R(e("input",{type:"checkbox",value:o,"onUpdate:modelValue":i[0]||(i[0]=m=>c.value=m),onChange:w,class:"filter-checkbox"},null,40,ee),[[G,c.value]]),e("div",te,[e("div",se,[e("div",{class:b(["custom-checkbox",{checked:c.value.includes(o)}])},[c.value.includes(o)?(u(),p("svg",ae,i[2]||(i[2]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):V("",!0)],2),e("span",le,y(o),1)]),e("span",re,y(h(o)),1)])],2))),128))])])):V("",!0)}},ie=q(ne,[["__scopeId","data-v-8883c6d4"]]);const oe={class:"main"},ce={class:"page-content"},de={class:"container"},ue={class:"row"},pe={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},_e={class:"row mt-2"},ge={class:"entry entry-mask"},ve={class:"entry-media entry-gallery"},me=["src"],fe={class:"entry-body"},ye={class:"entry-title"},he={class:"entry-cats mt-1"},be={style:{"background-color":"#c02434",padding:"5px"}},ke={class:"col-lg-12 mt-3"},we={"aria-label":"Page navigation"},xe={class:"pagination justify-content-center"},Ce=["onClick"],Pe={__name:"Media_Gallery",setup(P){const _=j(),$=J(),s=d(_.params.page?parseInt(_.params.page):1),c=d(12),v=d(0),g=d([]),h=d(_.params.id?parseInt(_.params.id):1),k=d([]),w=d([]),n=d({}),i=d(["CSR","EVENT","PROJECT"]),o=async(l=null)=>{typeof l=="string"&&l.includes("http")&&(l=l.split("/api/").pop(),console.log(l));try{const a=(await K.get(l||"/api/get-media-center-galleries",{params:{page:s.value,per_page:c.value,category_id:h.value,gallery_type:w.value}})).data;g.value=a.data,v.value=a.total,n.value={next_page_url:a.next_page_url,prev_page_url:a.prev_page_url,links:a.links},console.log(n.value),N(g.value)}catch(t){console.error(t)}},m=(l,t)=>{let a=t.replace(/ /g,"-").replace(/\//g,"-");return a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),a=a.toLowerCase(),`/media/gallery/${l}/${a}`},F=l=>{if(l){const a=new URLSearchParams(l.split("?")[1]).get("page");a&&(s.value=parseInt(a),$.push(`/media/gallery/page/${s.value}`))}},N=l=>{k.value=l},T=({filteredData:l,selectedFilters:t})=>{N(l),t.value=t};return O(()=>{o()}),z(g,N),W(()=>{const l=_.params,t=l.id?parseInt(l.id):1,a=l.page?parseInt(l.page):1;(h.value!==t||s.value!==a)&&(h.value=t,s.value=a,o())}),(l,t)=>{var A,L,S;const a=X("router-link"),E=H("lazy");return u(),p("div",null,[e("main",oe,[e("div",ce,[e("div",de,[e("div",ue,[e("div",pe,[t[6]||(t[6]=e("h2",{class:"about-us-title"},"Gallery",-1)),x(a,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:B(()=>t[2]||(t[2]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),t[7]||(t[7]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),x(ie,{items:g.value,"filter-column":"gallery_type","onUpdate:displayedProducts":T,filters:i.value,"selected-filters":w.value},null,8,["items","filters","selected-filters"]),e("div",_e,[(u(!0),p(I,null,M(k.value,r=>(u(),p("div",{class:"entry-item col-sm-6 col-lg-4",key:r.id},[e("article",ge,[e("figure",ve,[x(a,{to:m(r.id,r.name)},{default:B(()=>[R(e("img",{src:"/storage/"+r.main_image_path,alt:"image desc"},null,8,me),[[E,"/storage/"+r.main_image_path,"src"]])]),_:2},1032,["to"])]),e("div",fe,[t[3]||(t[3]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",ye,[x(a,{to:m(r.id,r.name)},{default:B(()=>[C(y(r.name),1)]),_:2},1032,["to"])]),e("div",he,[e("b",be,y(r.gallery_type),1)])])])]))),128)),e("div",ke,[e("nav",we,[e("ul",xe,[e("li",{class:b(["page-item",{disabled:!((A=n.value)!=null&&A.prev_page_url)}])},[e("a",{class:"page-link page-link-prev",onClick:t[0]||(t[0]=D(r=>{var f;return F((f=n.value)==null?void 0:f.prev_page_url)},["prevent"])),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true"},t[4]||(t[4]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),C(" Prev ")]))],2),(u(!0),p(I,null,M((L=n.value)==null?void 0:L.links,(r,f)=>(u(),p("li",{class:b(["page-item",{active:r.active}]),key:r.label},[r.url&&Number.isInteger(Number(r.label))?(u(),p("a",{key:0,class:"page-link",onClick:D($e=>F(r.url),["prevent"])},y(r.label),9,Ce)):V("",!0)],2))),128)),e("li",{class:b(["page-item",{disabled:!((S=n.value)!=null&&S.next_page_url)}])},[e("a",{class:"page-link page-link-next",onClick:t[1]||(t[1]=D(r=>{var f;return F((f=n.value)==null?void 0:f.next_page_url)},["prevent"])),"aria-label":"Next"},t[5]||(t[5]=[C(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)]))],2)])])])])])])])])])])}}},Be=q(Pe,[["__scopeId","data-v-af93abbd"]]);export{Be as default};
