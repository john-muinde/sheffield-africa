import{bn as T,z as g,h as B,w as L,bo as u,bp as m,bq as e,X as x,bv as _,S as N,by as D,bt as P,B as F,c9 as U,bw as I,c7 as j,o as E,W as R,bx as J,C as O,j as h,bC as y,bT as W}from"./app-setting.e7c0c170.js";import"./_commonjsHelpers.f037b798.js";const X={key:0,class:"filter-container"},H={class:"filter-heading"},K={class:"filter-options-container"},Q=["value"],Y={class:"filter-content"},Z={class:"checkbox-wrapper"},ee={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"checkmark"},te={class:"filter-label"},ae={class:"filter-count"},se={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0}},emits:["update:displayedProducts"],setup(C,{emit:v}){const a=v,n=C,c=g([]),p=g(n.items),f=B(()=>{var d;return!((d=n.items)!=null&&d.length)||!n.filterColumn?[]:[...new Set(n.items.map(o=>o[n.filterColumn]).filter(Boolean))].sort()}),w=d=>n.items.filter(o=>o[n.filterColumn]===d).length,$=d=>d.split("_").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),b=()=>{c.value.length===0?p.value=n.items:p.value=n.items.filter(d=>c.value.includes(d[n.filterColumn])),a("update:displayedProducts",{filteredData:p.value,selectedFilters:c.value})};return L(()=>n.items,()=>{c.value=[],p.value=n.items},{deep:!0}),(d,o)=>f.value.length?(u(),m("div",X,[e("h4",H,[o[1]||(o[1]=e("span",{class:"filter-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])],-1)),x(" "+_($(C.filterColumn)),1)]),e("div",K,[(u(!0),m(N,null,D(f.value,r=>(u(),m("label",{key:r,class:P(["filter-card",{"filter-card-selected":c.value.includes(r)}])},[F(e("input",{type:"checkbox",value:r,"onUpdate:modelValue":o[0]||(o[0]=M=>c.value=M),onChange:b,class:"filter-checkbox"},null,40,Q),[[U,c.value]]),e("div",Y,[e("div",Z,[e("div",{class:P(["custom-checkbox",{checked:c.value.includes(r)}])},[c.value.includes(r)?(u(),m("svg",ee,o[2]||(o[2]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):I("",!0)],2),e("span",te,_(r),1)]),e("span",ae,_(w(r)),1)])],2))),128))])])):I("",!0)}},le=T(se,[["__scopeId","data-v-0c7ae1f9"]]);const ie={class:"main"},oe={class:"page-content"},ne={class:"container"},re={class:"row"},ce={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},de={class:"row"},ue={class:"entry entry-mask"},pe={class:"entry-media entry-gallery"},ge=["src"],me={class:"entry-body"},ve={class:"entry-title"},_e={class:"entry-cats mt-1"},fe={style:{"background-color":"#c02434",padding:"5px"}},he={class:"col-lg-12 mt-3"},ye={"aria-label":"Page navigation"},be={class:"pagination justify-content-center"},ke={class:"page-item-total"},xe={__name:"Media_Gallery",setup(C){const v=j(),a=g(v.params.page?parseInt(v.params.page):1),n=g(12),c=g(0),p=g([]),f=g(v.params.id?parseInt(v.params.id):1),w=g([]),$=g([]),b=async()=>{try{const t=await axios.get("/api/get-media-center-galleries",{params:{page:a.value,per_page:n.value,category_id:f.value,gallery_type:$.value}});p.value=t.data.data,c.value=t.data.total,V(p.value)}catch(t){console.error(t)}},d=(t,i)=>{let l=i.replace(/ /g,"-").replace(/\//g,"-");return l=l.replace(/-+/g,"-"),l=l.replace(/^-+|-+$/g,""),l=l.toLowerCase(),`/media/gallery/${t}/${l}`},o=t=>`/media/gallery/page/${t}`,r=B(()=>Math.ceil(c.value/n.value)),M=()=>{a.value>1&&a.value--},z=()=>{a.value<r.value&&a.value++},q=t=>{a.value=t},V=t=>{w.value=t},S=({filteredData:t,selectedFilters:i})=>{V(t),i.value=i},A=t=>Number.isInteger(t),G=B(()=>{const t=[];a.value>1&&t.push("Prev");let l=Math.max(1,a.value-Math.floor(5/2)),k=Math.min(l+5-1,r.value);k-l<5-1&&(l=Math.max(1,k-5+1));for(let s=l;s<=k;s++)t.push(s);return a.value<r.value&&t.push("Next"),t});return E(()=>{b()}),L(a,b),L(p,V),R(()=>{const t=v.params;v.query,t.id!==""&&f!==t.id&&(a.value=1,f.value=t.id?parseInt(t.id):1,t.page!==""&&a!==t.page&&(a.value=t.page?parseInt(t.page):1),b())}),(t,i)=>{const l=J("router-link"),k=O("lazy");return u(),m("div",null,[e("main",ie,[e("div",oe,[e("div",ne,[e("div",re,[e("div",ce,[i[4]||(i[4]=e("h2",{class:"about-us-title"},"Gallery",-1)),h(l,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:y(()=>i[0]||(i[0]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),i[5]||(i[5]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),h(le,{items:p.value,"filter-column":"gallery_type","onUpdate:displayedProducts":S},null,8,["items"]),e("div",de,[(u(!0),m(N,null,D(w.value,s=>(u(),m("div",{class:"entry-item col-sm-6 col-lg-4",key:s.id},[e("article",ue,[e("figure",pe,[h(l,{to:d(s.id,s.name)},{default:y(()=>[F(e("img",{src:"/storage/"+s.main_image_path,alt:"image desc"},null,8,ge),[[k,"/storage/"+s.main_image_path,"src"]])]),_:2},1032,["to"])]),e("div",me,[i[1]||(i[1]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",ve,[h(l,{to:d(s.id,s.name)},{default:y(()=>[x(_(s.name),1)]),_:2},1032,["to"])]),e("div",_e,[e("b",fe,_(s.gallery_type),1)])])])]))),128)),e("div",he,[e("nav",ye,[e("ul",be,[e("li",{class:P(["page-item",{disabled:a.value===1}])},[h(l,{class:"page-link page-link-prev",to:o(a.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:M},{default:y(()=>i[2]||(i[2]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),x(" Prev ")])),_:1},8,["to"])],2),(u(!0),m(N,null,D(G.value,s=>(u(),m("li",{class:P(["page-item",{active:s===a.value}]),key:s},[A(s)?(u(),W(l,{key:0,class:"page-link",to:o(s),onClick:Pe=>q(s)},{default:y(()=>[x(_(s),1)]),_:2},1032,["to","onClick"])):I("",!0)],2))),128)),e("li",ke,"of "+_(r.value),1),e("li",{class:P(["page-item",{disabled:a.value===r.value}])},[h(l,{class:"page-link page-link-next",to:o(a.value+1),"aria-label":"Next",onClick:z},{default:y(()=>i[3]||(i[3]=[x(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])])])])])])])])])}}},$e=T(xe,[["__scopeId","data-v-b184e5af"]]);export{$e as default};
