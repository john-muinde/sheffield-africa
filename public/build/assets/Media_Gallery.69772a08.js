import{bn as M,z as d,h as z,w as V,bo as u,bp as p,bq as e,X as L,bv as g,S as D,by as F,bt as N,B as I,cb as A,bw as C,c8 as R,cc as T,o as E,W as U,bx as G,C as j,j as w,bC as $,ca as J,J as O}from"./app-setting.867546d3.js";import"./_commonjsHelpers.f037b798.js";const W={key:0,class:"filter-container"},X={class:"filter-heading"},H={class:"filter-options-container"},K=["value"],Q={class:"filter-content"},Y={class:"checkbox-wrapper"},Z={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"checkmark"},ee={class:"filter-label"},te={key:0,class:"filter-count"},se={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0},filters:{type:Array,required:!1,default:[]},selectedFilters:{type:Array,required:!1,default:[]},showNumbers:{type:Boolean,default:!1}},emits:["update:displayedProducts"],setup(x,{emit:m}){const y=m,t=x,c=d(t.selectedFilters),v=d(t.showNumbers),_=d(t.items),h=z(()=>{var n,r,o;return t.filters.length?t.filters:!((n=t.items)!=null&&n.length)&&!((r=t.filters)!=null&&r.length)&&!t.filterColumn?[]:!((o=t.items)!=null&&o.length)||!t.filterColumn?[]:[...new Set(t.items.map(f=>f[t.filterColumn]).filter(Boolean))].sort()}),b=n=>t.items.filter(r=>r[t.filterColumn]===n).length,k=n=>n.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),P=()=>{c.value.length===0?_.value=t.items:_.value=t.items.filter(n=>c.value.includes(n[t.filterColumn])),y("update:displayedProducts",{filteredData:_.value,selectedFilters:c.value})};return V(()=>t.items,n=>{if(_.value=n,c.value.length>0){const r=n.filter(o=>c.value.includes(o[t.filterColumn]));y("update:displayedProducts",{filteredData:r,selectedFilters:c.value})}else y("update:displayedProducts",{filteredData:n,selectedFilters:[]})},{deep:!0}),(n,r)=>h.value.length?(u(),p("div",W,[e("h4",X,[r[1]||(r[1]=e("span",{class:"filter-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])],-1)),L(" "+g(k(x.filterColumn)),1)]),e("div",H,[(u(!0),p(D,null,F(h.value,o=>(u(),p("label",{key:o,class:N(["filter-card",{"filter-card-selected":c.value.includes(o)}])},[I(e("input",{type:"checkbox",value:o,"onUpdate:modelValue":r[0]||(r[0]=f=>c.value=f),onChange:P,class:"filter-checkbox"},null,40,K),[[A,c.value]]),e("div",Q,[e("div",Y,[e("div",{class:N(["custom-checkbox",{checked:c.value.includes(o)}])},[c.value.includes(o)?(u(),p("svg",Z,r[2]||(r[2]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):C("",!0)],2),e("span",ee,g(o),1)]),v.value?(u(),p("span",te,g(b(o)),1)):C("",!0)])],2))),128))])])):C("",!0)}},ae=M(se,[["__scopeId","data-v-ff56c10e"]]);const le={class:"main"},re={class:"page-content"},ne={class:"container"},ie={class:"row"},oe={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},ce={class:"row mt-2"},de={class:"entry entry-mask"},ue={class:"entry-media entry-gallery"},pe=["src"],_e={class:"entry-body"},me={class:"entry-title"},fe={class:"entry-cats mt-1"},ve={style:{"background-color":"#c02434",padding:"5px"}},ge={class:"col-lg-12 mt-3"},ye={"aria-label":"Page navigation"},he={class:"pagination justify-content-center"},be=["onClick"],ke={__name:"Media_Gallery",setup(x){const m=R(),y=T(),t=d(m.params.page?parseInt(m.params.page):1);d(12);const c=d(0),v=d([]),_=d(m.params.id?parseInt(m.params.id):1),h=d([]),b=d([]),k=d({}),P=d(["CSR","EVENT","PROJECT"]),n=async(a=null)=>{typeof a=="string"&&a.includes("http")&&(a=a.split("/api/").pop());try{const s=(await J.get(a||"/api/get-media-center-galleries",{params:{page:t.value,category_id:_.value,gallery_type:b.value}})).data;v.value=s.data,c.value=s.total,k.value={next_page_url:s.next_page_url,prev_page_url:s.prev_page_url,links:s.links},f(v.value)}catch(l){console.error(l)}},r=(a,l)=>{let s=l.replace(/ /g,"-").replace(/\//g,"-");return s=s.replace(/-+/g,"-"),s=s.replace(/^-+|-+$/g,""),s=s.toLowerCase(),`/media/gallery/${a}/${s}`},o=a=>{if(a){const s=new URLSearchParams(a.split("?")[1]).get("page");s&&(t.value=parseInt(s),y.push(`/media/gallery/page/${t.value}`))}},f=a=>{h.value=a},S=({filteredData:a,selectedFilters:l})=>{f(a),l.value=l};return E(()=>{n()}),V(v,f),U(()=>{const a=m.params,l=a.id?parseInt(a.id):1,s=a.page?parseInt(a.page):1;(_.value!==l||t.value!==s)&&(_.value=l,t.value=s,n())}),(a,l)=>{var B;const s=G("router-link"),q=j("lazy");return u(),p("div",null,[e("main",le,[e("div",re,[e("div",ne,[e("div",ie,[e("div",oe,[l[2]||(l[2]=e("h2",{class:"about-us-title"},"Gallery",-1)),w(s,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:$(()=>l[0]||(l[0]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),l[3]||(l[3]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),w(ae,{items:v.value,"filter-column":"gallery_type","onUpdate:displayedProducts":S,filters:P.value,"selected-filters":b.value},null,8,["items","filters","selected-filters"]),e("div",ce,[(u(!0),p(D,null,F(h.value,i=>(u(),p("div",{class:"entry-item col-sm-6 col-lg-4",key:i.id},[e("article",de,[e("figure",ue,[w(s,{to:r(i.id,i.name)},{default:$(()=>[I(e("img",{src:"/storage/"+i.main_image_path,alt:"image desc"},null,8,pe),[[q,"/storage/"+i.main_image_path,"src"]])]),_:2},1032,["to"])]),e("div",_e,[l[1]||(l[1]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",me,[w(s,{to:r(i.id,i.name)},{default:$(()=>[L(g(i.name),1)]),_:2},1032,["to"])]),e("div",fe,[e("b",ve,g(i.gallery_type),1)])])])]))),128)),e("div",ge,[e("nav",ye,[e("ul",he,[(u(!0),p(D,null,F((B=k.value)==null?void 0:B.links,(i,we)=>(u(),p("li",{class:N(["page-item",{active:i.active}]),key:i.label},[i.url&&Number.isInteger(Number(i.label))?(u(),p("a",{key:0,class:"page-link",onClick:O(Ce=>o(i.url),["prevent"])},g(i.label),9,be)):C("",!0)],2))),128))])])])])])])])])])])}}},$e=M(ke,[["__scopeId","data-v-30ece21f"]]);export{$e as default};
