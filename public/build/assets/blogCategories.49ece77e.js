import{z as n,cc as h,cv as r}from"./app-setting.ff504be7.js";import{$ as m}from"./Modal.4f20363d.js";function T(){const u=n([]),g=n([]),p=n({name:"",is_published:"",description:""}),i=h(),o=n({}),s=n(!1),d=async(e=1,a="",l="",t="",y="created_at",f="desc")=>{try{const c=await r("get",`/api/blogCategories?page=${e}&search_id=${a}&search_title=${l}&search_global=${t}&order_column=${y}&order_direction=${f}`);u.value=c}catch(c){o.value=c}};return{blogCategoryList:g,blogCategories:u,blogCategory:p,getBlogCategories:d,getBlogCategoryList:async()=>{try{const e=await r("get","/api/blogCategory-list");g.value=e}catch(e){o.value=e}},getBlogCategory:async e=>{try{const a=await r("get",`/api/blogCategories/${e}`);p.value=a}catch(a){o.value=a}},storeBlogCategory:async e=>{if(s.value)return;s.value=!0,o.value={};let a=new FormData;for(let t in e)e.hasOwnProperty(t)&&a.append(t,e[t]);const l={headers:{"content-type":"multipart/form-data"}};try{await r("post","/api/blogCategories",a,l),i.push({name:"blogCategories.create"}),e.name=null,e.description=null,e.main_image=null,e.is_published=null,showToast("Blog Category saved successfully","success")}catch(t){o.value=t}finally{s.value=!1}},updateBlogCategory:async e=>{if(s.value)return;s.value=!0,o.value={};let a=new FormData;for(let t in e)e.hasOwnProperty(t)&&a.append(t,e[t]);const l={headers:{"content-type":"multipart/form-data"}};try{await r("put",`/api/blogCategories/${e.id}`,a,l),i.push({name:"blogCategories.index"}),showToast("Blog Category updated successfully","success")}catch(t){o.value=t}finally{s.value=!1}},deleteBlogCategory:async e=>{m.confirm({title:"Are you sure?",content:"You won't be able to revert this action!",okText:"Yes, delete it!",okType:"danger",cancelText:"No, cancel",onOk(){r("delete",`/api/blogCategories/${e}`).then(()=>{d(),i.push({name:"blogCategories.index"}),showToast("Blog Category deleted successfully","success")})},onCancel(){console.log("Cancel")}})},validationErrors:o,isLoading:s}}export{T as u};
