import{bn as z,c7 as D,z as o,h as w,o as E,w as y,W as R,bx as W,bo as r,bp as d,bq as a,j as f,bC as g,S as N,by as M,bt as k,bv as I,X as p,bT as $,bw as F}from"./app-setting.f00f088d.js";import"./_commonjsHelpers.f037b798.js";const X={class:"main"},A={class:"page-content"},G={class:"container"},H={class:"row"},J={class:"col-lg-10 offset-lg-1 in-the-news-section"},K={class:"row justify-content-left"},O={class:"p-6 border rounded"},Q={class:"position-relative mb-2",style:{height:"216px"}},U=["href"],Y=["src","alt"],Z=["href"],ee={class:"col-lg-12 blogs mt-3"},ae={"aria-label":"Page navigation"},te={class:"pagination justify-content-center"},se={class:"page-item-total"},oe={__name:"Media_In_The_News",setup(le){const i=D();o(i);const t=o(i.params.page?parseInt(i.params.page):1),x=o(12),_=o(0),v=o([]);o(0);const m=o(i.params.id?parseInt(i.params.id):1);o([]);const C=o([]);o([]),o([]),o([]),o([]),o("");const b=async()=>{try{const e=await axios.get("/api/get-in-the-news",{params:{page:t.value,per_page:x.value,category_id:m.value}});v.value=e.data.data,_.value=e.data.total,console.log(_.value)}catch(e){console.error(e)}},T=async()=>{try{const e=await axios.get("/api/get-blog-sidebar",{});C.value=e.data.other_blogs}catch(e){console.error(e)}},h=e=>`/media/in-the-news/page/${e}`,c=w(()=>Math.ceil(_.value/x.value)),P=o([]),V=()=>{t.value>1&&t.value--},B=()=>{t.value<c.value&&t.value++},S=e=>{t.value=e},j=()=>{P.value=v.value},L=e=>Number.isInteger(e),q=w(()=>{const e=[];t.value>1&&e.push("Prev");let n=Math.max(1,t.value-Math.floor(5/2)),s=Math.min(n+5-1,c.value);s-n<5-1&&(n=Math.max(1,s-5+1));for(let u=n;u<=s;u++)e.push(u);return t.value<c.value&&e.push("Next"),e});return E(()=>{b(),T()}),y(t,b),y(v,j),R(()=>{const e=i.params;i.query,e.id!==""&&m!==e.id&&(t.value=1,m.value=e.id?parseInt(e.id):1,e.page!==""&&t!==e.page&&(t.value=e.page?parseInt(e.page):1),b())}),(e,l)=>{const n=W("router-link");return r(),d("div",null,[a("main",X,[a("div",A,[a("div",G,[a("div",H,[a("div",J,[l[4]||(l[4]=a("h2",{class:"about-us-title"},"In the News",-1)),f(n,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:g(()=>l[0]||(l[0]=[a("i",{class:"icon-long-arrow-left"},null,-1),a("span",null,"Back to Media Center",-1)])),_:1}),l[5]||(l[5]=a("p",{class:"lead about-us-lead text-primary mb-3"},"Media Spotlight: Sheffield Making Waves in the News",-1)),a("div",K,[(r(!0),d(N,null,M(P.value,s=>(r(),d("div",{class:"col-12 col-md-6 col-lg-4 mb-2 blog-item",key:s.id},[a("div",O,[a("div",Q,[a("a",{target:"_blank",class:"float-center",href:s.url},[a("img",{class:"w-100 h-100 rounded",style:{"object-fit":"cover"},src:"/storage/"+s.main_image_path,alt:s.name},null,8,Y)],8,U)]),a("a",{target:"_blank",class:"btn btn-primary ml-5 pl-4 mt-2 mb-2 float-center",href:s.url},l[1]||(l[1]=[p(" Read More "),a("i",{class:"icon-long-arrow-right"},null,-1)]),8,Z)])]))),128)),a("div",ee,[a("nav",ae,[a("ul",te,[a("li",{class:k(["page-item",{disabled:t.value===1}])},[f(n,{class:"page-link page-link-prev",to:h(t.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:V},{default:g(()=>l[2]||(l[2]=[a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-left"})],-1),p(" Prev ")])),_:1},8,["to"])],2),(r(!0),d(N,null,M(q.value,s=>(r(),d("li",{class:k(["page-item",{active:s===t.value}]),key:s},[L(s)?(r(),$(n,{key:0,class:"page-link",to:h(s),onClick:u=>S(s)},{default:g(()=>[p(I(s),1)]),_:2},1032,["to","onClick"])):F("",!0)],2))),128)),a("li",se,"of "+I(c.value),1),a("li",{class:k(["page-item",{disabled:t.value===c.value}])},[f(n,{class:"page-link page-link-next",to:h(t.value+1),"aria-label":"Next",onClick:B},{default:g(()=>l[3]||(l[3]=[p(" Next "),a("span",{"aria-hidden":"true"},[a("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])])])])])])])])])}}},re=z(oe,[["__scopeId","data-v-7e9bf884"]]);export{re as default};
