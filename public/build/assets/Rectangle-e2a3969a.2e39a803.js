import{y as i,c as S}from"./tools-b40e92cf.4881bf31.js";import{d as h,M as s,w as v,P as f}from"./index.fb9dc0c3.js";const y=h({name:"GmapsRectangle",props:{bounds:{type:Object,default:void 0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,default:void 0},visible:{type:Boolean,default:!0}},emits:{bounds_changed:t=>!0,click:t=>!0,contextmenu:t=>!0,dblclick:t=>!0,drag:t=>!0,dragend:t=>!0,dragstart:t=>!0,mounted:t=>!0,mousedown:t=>!0,mousemove:t=>!0,mouseout:t=>!0,mouseover:t=>!0,mouseup:t=>!0,rightclick:t=>!0,unmounted:t=>!0},setup(t,{emit:a}){const g=s("$getAPI"),m=s("$getMap"),b=s("$getThrottle"),L=s("$handleError"),p=l=>L(l,"Rectangle"),c=[];let n=null;const O=l=>{const d=google.maps.event,u=b();c.push(d.addListener(l,"bounds_changed",i(()=>{var o;return a("bounds_changed",((o=l.getBounds())==null?void 0:o.toJSON())||null)},u)),d.addListener(l,"drag",i(o=>{var e;return a("drag",((e=o.latLng)==null?void 0:e.toJSON())||null)},u)),d.addListener(l,"mousemove",i(o=>{var e;return a("mousemove",((e=o.latLng)==null?void 0:e.toJSON())||null)},u)),d.addListener(l,"mouseover",i(o=>{var e;return a("mouseover",((e=o.latLng)==null?void 0:e.toJSON())||null)},u)),d.addListener(l,"click",o=>{var e;return a("click",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"contextmenu",o=>{var e;return a("contextmenu",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dblclick",o=>{var e;return a("dblclick",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dragend",o=>{var e;return a("dragend",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dragstart",o=>{var e;return a("dragstart",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mousedown",o=>{var e;return a("mousedown",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mouseout",o=>{var e;return a("mouseout",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mouseup",o=>{var e;return a("mouseup",((e=o.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"rightclick",o=>{var e;return a("rightclick",((e=o.latLng)==null?void 0:e.toJSON())||null)}))},J=m(),N=g(),r={map:J,...t.options};return t.bounds&&(r.bounds=t.bounds),t.draggable&&(r.draggable=t.draggable),t.editable&&(r.editable=t.editable),t.visible&&(r.visible=t.visible),n=new N.Rectangle(r),n?(O(n),a("mounted",n)):p(new Error("There was a problem creating the shape.")),v(()=>t.bounds,l=>{var d;return l===void 0||S(l,(d=n==null?void 0:n.getBounds())==null?void 0:d.toJSON())?null:n==null?void 0:n.setBounds(l)},{deep:!0}),v(()=>t.draggable,l=>l===void 0||l==(n==null?void 0:n.getDraggable())?null:n==null?void 0:n.setDraggable(l)),v(()=>t.editable,l=>l===void 0||l==(n==null?void 0:n.getEditable())?null:n==null?void 0:n.setEditable(l)),v(()=>t.visible,l=>l===void 0||l==(n==null?void 0:n.getVisible())?null:n==null?void 0:n.setVisible(l)),f(()=>{n&&a("unmounted",n),c.forEach(l=>l.remove()),n&&n.setMap(null),n&&g().event.clearInstanceListeners(n)}),()=>{}}});export{y as default};
