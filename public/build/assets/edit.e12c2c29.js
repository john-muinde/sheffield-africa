import{aa as y,ab as C,ac as d,P as L,x as D,a3 as j,y as R,a4 as x,o as i,c as l,a2 as W,a as e,W as X,p as u,X as A,t as c,u as n,F as h,g as b,ao as w,i as Z,m as P,e as z,v as G,at as H,ad as J,ae as K}from"./app-setting.08d4c509.js";import{u as O}from"./publications.1f6fafb9.js";/* empty css                                     */import{F}from"./file-upload-with-preview.esm.fbf56fa2.js";import"./vue3-multiselect.umd.min.0791a17f.js";/* empty css                         */import{q as Q}from"./vue3-quill.2d7baed8.js";import"./_commonjsHelpers.f037b798.js";const Y={class:"container"},$=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Publications")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Edit Publication")])])])])])],-1),ee={class:"container"},te={class:"row"},se={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},ae={class:"statbox panel box box-shadow"},ie=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Edit Publication")])])])],-1),oe={class:"panel-body"},le=["onSubmit"],ne={class:"row"},ce={class:"form-group col-md-12"},de=e("label",{for:"post-name"},"Title",-1),re={class:"text-danger mt-1"},ue={class:"text-danger mt-1"},me={class:"form-group"},_e=e("label",{for:"post-category",class:"form-label"},"Type",-1),pe=e("option",{value:""},"Select Type",-1),ve=e("option",{value:"Brochures"},"Brochures",-1),he=e("option",{value:"Newsletter"},"Newsletter",-1),be=[pe,ve,he],ge={class:"text-danger mt-1"},fe={class:"text-danger mt-1"},ye={class:"form-group"},xe=e("label",{for:"post-content"}," Description",-1),we={class:"custom-file-container","data-upload-id":"myFirstImage"},Pe=e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x",-1),Fe=["href"],Ie={class:"custom-file-container__custom-file",for:"main_image"},Ve=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1),Se=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1),Ee=e("div",{class:"custom-file-container__image-preview"},null,-1),ke={class:"form-group col-md-4"},Ue=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1),qe=e("option",{value:""}," Select Publishing Status ... ",-1),Be=e("option",{selected:"",value:"1"}," Published ",-1),Ne=e("option",{value:"0"}," Not Published ",-1),Te=[qe,Be,Ne],Me={class:"text-danger mt-1"},Ce={class:"text-danger mt-1"},Le=["disabled"],De={class:""},je={key:0},Re={key:1},$e={__name:"edit",setup(We){y("required",J),y("min",K);const I={name:"required|min:3",type:"required",is_published:"required"},{validate:V,errors:m,resetForm:Xe}=C({validationSchema:I}),{publication:o,getPublication:S,updatePublication:E,validationErrors:_,isLoading:p,getPublicationList:Ae,blogList:Ze}=O(),{value:k}=d("name",null,{initialValue:""}),{value:U}=d("type",null,{initialValue:""}),{value:q}=d("content",null,{initialValue:""});d("main_image",null,{initialValue:""});const{value:B}=d("is_published",null,{initialValue:""}),t=L({name:k,type:U,content:q,is_published:B,main_image:""}),N=D({modules:{}}),T=j();function M(){V().then(v=>{v.valid&&E(t,[])})}return R(()=>{S(T.params.id),x(()=>{if(o.value&&o.value.main_image_path){const r={images:{baseImage:"/storage/"+o.value.main_image_path,backgroundImage:""}};new F("myFirstImage",r)}else new F("myFirstImage",{images:{baseImage:"/assets/images/file-preview-pdf.png",backgroundImage:""}})})}),x(()=>{t.id=o.value.id,t.name=o.value.name,t.content=o.value.content,t.type=o.value.type,t.is_published=o.value.is_published,t.main_image=o.value.publication_file,console.log(o.value)}),(v,a)=>{var r,g,f;return i(),l("div",Y,[(i(),W(H,{to:"#breadcrumb"},[$])),e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[ie,e("div",oe,[e("form",{onSubmit:X(M,["prevent"])},[e("div",ne,[e("div",ce,[de,u(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>t.name=s),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Title ..."},null,512),[[A,t.name]]),e("div",re,c(n(m).name),1),e("div",ue,[(i(!0),l(h,null,b((r=n(_))==null?void 0:r.name,s=>(i(),l("div",null,c(s),1))),256))])]),e("div",me,[_e,u(e("select",{class:"form-select form-control",name:"type",id:"type","onUpdate:modelValue":a[1]||(a[1]=s=>t.type=s)},be,512),[[w,t.type]]),e("div",ge,c(n(m).type),1),e("div",fe,[(i(!0),l(h,null,b((g=n(_))==null?void 0:g.type,s=>(i(),l("div",null,c(s),1))),256))])]),e("div",ye,[xe,Z(n(Q),{value:t.content,"onUpdate:value":a[2]||(a[2]=s=>t.content=s),options:N.value,placeholder:"Enter Blog Content ..."},null,8,["value","options"])]),e("div",we,[e("label",null,[P("Upload File (Must be pdf) "),Pe,P(" \xA0\xA0\xA0\xA0 "),t.main_image?(i(),l("a",{key:0,class:"btn btn-primary",href:"/storage/"+t.main_image,target:"_blank"},"View Uploaded File",8,Fe)):z("",!0)]),e("label",Ie,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"application/pdf",onChange:a[3]||(a[3]=s=>t.main_image=s.target.files[0]),id:"main_image"},null,32),Ve,Se]),Ee]),e("div",ke,[Ue,e("div",null,[u(e("select",{"onUpdate:modelValue":a[4]||(a[4]=s=>t.is_published=s),id:"is_published",class:"form-select"},Te,512),[[w,t.is_published]])]),e("div",Me,c(n(m).is_published),1),e("div",Ce,[(i(!0),l(h,null,b((f=n(_))==null?void 0:f.is_published,s=>(i(),l("div",null,c(s),1))),256))])])]),e("button",{disabled:n(p),class:"btn btn-primary mt-3"},[u(e("div",De,null,512),[[G,n(p)]]),n(p)?(i(),l("span",je,"Processing...")):(i(),l("span",Re,"Save"))],8,Le)],40,le)])])])])])])}}};export{$e as default};
