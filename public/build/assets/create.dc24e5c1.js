import{cf as V,cg as Y,ch as u,r as z,z as D,o as R,bo as i,bp as o,bT as X,bq as e,aB as A,J as Z,B as d,c2 as f,bv as n,a2 as a,S as p,by as c,j as J,X as I,co as U,bw as g,I as W,ci as $,cj as G}from"./app-setting.b1b0c9b8.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as S}from"./file-upload-with-preview.esm.fbf56fa2.js";import{q as H}from"./vue3-quill.3b7567cb.js";import{u as K}from"./news.9411ed28.js";import"./_commonjsHelpers.f037b798.js";const O={class:"container"},Q={class:"container"},ee={class:"row"},te={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},le={class:"statbox panel box box-shadow"},se={class:"panel-body"},ie={class:"row"},oe={class:"form-group col-md-12"},ae={class:"text-danger mt-1"},ne={class:"text-danger mt-1"},re={class:"form-group"},ue={class:"custom-file-container","data-upload-id":"mySecondImage"},de={class:"custom-file-container__custom-file",for:"main_image"},me={class:"form-group"},pe={class:"text-danger mt-1"},ce={class:"text-danger mt-1"},ve={key:0,class:"custom-file-container","data-upload-id":"myFirstImage",ref:"uploadContainer"},_e={class:"custom-file-container__custom-file",for:"file_path"},fe={key:1,class:"form-group col-md-12"},ge={class:"text-danger mt-1"},be={class:"text-danger mt-1"},ye={key:2,class:"form-group col-md-12"},we={class:"text-danger mt-1"},he={class:"text-danger mt-1"},xe={class:"form-group col-md-12"},Ve={class:"text-danger mt-1"},Ie={class:"text-danger mt-1"},Ue=["disabled"],Se={class:""},Pe={key:0},Fe={key:1},ze={__name:"create",setup(ke){V("required",$),V("min",G);const P={name:"required|min:3",type:"required",is_published:"required"},{validate:F,errors:r}=Y({validationSchema:P}),{value:k}=u("name",null,{initialValue:""}),{value:C}=u("type",null,{initialValue:""}),{value:E}=u("content",null,{initialValue:""});u("main_image",null,{initialValue:""}),u("url",null,{initialValue:""}),u("file_path",null,{initialValue:""});const{value:N}=u("is_published",null,{initialValue:""}),{storeNews:L,validationErrors:m,isLoading:_,getPublictionList:Ce,newsList:Ee}=K(),s=z({name:k,type:C,content:E,is_published:N,main_image:"",file_path:"",url:""}),T=()=>{s.type==="Image"&&(console.log("test"),new S("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}}))},q=()=>{/^(https?:\/\/)?(www\.)?youtube\.com\/watch\?v=/i.test(s.video_url)?r.value.video_url=null:r.value.video_url="Please enter a valid YouTube Video URL in the format https://www.youtube.com/watch?v="},M=()=>{/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/i.test(s.url)?r.value.url=null:r.value.url="Please enter a URL in the format https://www.example.com"},j=D({modules:{}});function B(){console.log(s),F().then(v=>{v.valid&&L(s)})}return R(()=>{new S("mySecondImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),(v,t)=>{var b,y,w,h,x;return i(),o("div",O,[(i(),X(A,{to:"#breadcrumb"},[t[8]||(t[8]=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"News")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Create News")])])])])])],-1))])),e("div",Q,[e("div",ee,[e("div",te,[e("div",le,[t[25]||(t[25]=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Create News")])])])],-1)),e("div",se,[e("form",{onSubmit:Z(B,["prevent"])},[e("div",ie,[e("div",oe,[t[9]||(t[9]=e("label",{for:"post-name"},"Title",-1)),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.name=l),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Title ..."},null,512),[[f,s.name]]),e("div",ae,n(a(r).name),1),e("div",ne,[(i(!0),o(p,null,c((b=a(m))==null?void 0:b.name,l=>(i(),o("div",null,n(l),1))),256))])]),e("div",re,[t[10]||(t[10]=e("label",{for:"post-content"}," Description",-1)),J(a(H),{value:s.description,"onUpdate:value":t[1]||(t[1]=l=>s.description=l),options:j.value,placeholder:"Enter News Content ..."},null,8,["value","options"])]),e("div",ue,[t[13]||(t[13]=e("label",null,[I("Brand Logo (Must be image) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1)),e("label",de,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/jpeg, image/png",onChange:t[2]||(t[2]=l=>s.main_image=l.target.files[0]),id:"main_image"},null,32),t[11]||(t[11]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[12]||(t[12]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[14]||(t[14]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",me,[t[16]||(t[16]=e("label",{for:"post-category",class:"form-label"},"Type",-1)),d(e("select",{class:"form-select form-control",name:"type",id:"type","onUpdate:modelValue":t[3]||(t[3]=l=>s.type=l),onChange:T},t[15]||(t[15]=[e("option",{value:""}," Select Type ",-1),e("option",{value:"Image"},"Image",-1),e("option",{value:"Video"},"Video",-1)]),544),[[U,s.type]]),e("div",pe,n(a(r).type),1),e("div",ce,[(i(!0),o(p,null,c((y=a(m))==null?void 0:y.type,l=>(i(),o("div",null,n(l),1))),256))])]),s.type=="Image"?(i(),o("div",ve,[t[19]||(t[19]=e("label",null,[I("Upload Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear File"},"x")],-1)),e("label",_e,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/png, image/jpeg",onChange:t[4]||(t[4]=l=>s.file_path=l.target.files[0]),id:"file_path"},null,32),t[17]||(t[17]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[18]||(t[18]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[20]||(t[20]=e("div",{class:"custom-file-container__image-preview"},null,-1))],512)):g("",!0),s.type=="Image"?(i(),o("div",fe,[t[21]||(t[21]=e("label",{for:"post-name"},"Link Url",-1)),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s.url=l),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Media Url ...",onInput:M},null,544),[[f,s.url]]),e("div",ge,n(a(r).url),1),e("div",be,[(i(!0),o(p,null,c((w=a(m))==null?void 0:w.url,l=>(i(),o("div",null,n(l),1))),256))])])):g("",!0),s.type=="Video"?(i(),o("div",ye,[t[22]||(t[22]=e("label",{for:"post-name"},"Youtube Video Url",-1)),d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>s.file_path=l),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Youtube Video Url ...",onInput:q},null,544),[[f,s.file_path]]),e("div",we,n(a(r).video_url),1),e("div",he,[(i(!0),o(p,null,c((h=a(m))==null?void 0:h.video_url,l=>(i(),o("div",null,n(l),1))),256))])])):g("",!0),e("div",xe,[t[24]||(t[24]=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e("div",null,[d(e("select",{"onUpdate:modelValue":t[7]||(t[7]=l=>s.is_published=l),id:"is_published",class:"form-select"},t[23]||(t[23]=[e("option",{value:""}," Select Publishing Status ... ",-1),e("option",{selected:"",value:"1"}," Published ",-1),e("option",{value:"0"}," Not Published ",-1)]),512),[[U,s.is_published]])]),e("div",Ve,n(a(r).is_published),1),e("div",Ie,[(i(!0),o(p,null,c((x=a(m))==null?void 0:x.is_published,l=>(i(),o("div",null,n(l),1))),256))])])]),e("button",{disabled:a(_),class:"btn btn-primary mt-3"},[d(e("div",Se,null,512),[[W,a(_)]]),a(_)?(i(),o("span",Pe,"Processing...")):(i(),o("span",Fe,"Save"))],8,Ue)],32)])])])])])])}}};export{ze as default};
