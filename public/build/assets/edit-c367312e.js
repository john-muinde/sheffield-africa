import{v as e,a as w}from"./index-cf71ea16.js";import"./use-meta-abe0c1f5.js";import{u as C}from"./categories-87739131.js";import{d as v,u as S,a as s}from"./vee-validate-970b2571.js";import{r as F,m as L}from"./rules-2d323bf3.js";import"./_commonjsHelpers-23102255.js";import"./index-ab53d71b.js";const q={class:"container"},M={class:"container"},P={class:"row"},U={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},T={class:"statbox panel box box-shadow"},j={class:"panel-body"},O={class:"form-group"},R={class:"text-danger mt-1"},z={class:"text-danger mt-1"},A={class:"form-group"},G={class:"text-danger mt-1"},H={class:"text-danger mt-1"},I={class:"form-group"},J={class:"text-danger mt-1"},K={class:"text-danger mt-1"},Q={class:"form-group"},W={class:"text-danger mt-1"},X={class:"text-danger mt-1"},Y=["disabled"],Z={class:""},$={key:0},ee={key:1},ce={__name:"edit",setup(te){v("required",F),v("min",L);const E={name:"required|min:3",description:"required|min:3",is_published:"required"},{validate:V,errors:r,resetForm:le}=S({validationSchema:E}),{category:n,getCategory:b,updateCategory:g,validationErrors:a,isLoading:i,getCategoryList:N,categoryList:f}=C(),{value:h}=s("name",null,{initialValue:""}),{value:y}=s("parent_id",null,{initialValue:n.value.parent_parent_name_with_dashes}),{value:k}=s("description",null,{initialValue:""}),{value:B}=s("is_published",null,{initialValue:""}),l=e.reactive({name:h,parent_id:y,description:k,is_published:B}),d=w();function x(){V().then(c=>{c.valid&&(l.parent_id&&l.parent_id.id?l.parent_id=l.parent_id.id:l.parent_id=null,g(l))})}return e.onMounted(()=>{N(d.params.id),b(d.params.id)}),e.watchEffect(()=>{l.id=n.value.id,l.name=n.value.name,l.description=n.value.description,l.is_published=n.value.is_published,l.parent_id=n.value.parent_json}),(c,t)=>{var m,u,p,_;const D=e.resolveComponent("multiselect");return e.openBlock(),e.createElementBlock("div",q,[(e.openBlock(),e.createBlock(e.Teleport,{to:"#breadcrumb"},[t[4]||(t[4]=e.createElementVNode("ul",{class:"navbar-nav flex-row"},[e.createElementVNode("li",null,[e.createElementVNode("div",{class:"page-header"},[e.createElementVNode("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e.createElementVNode("ol",{class:"breadcrumb"},[e.createElementVNode("li",{class:"breadcrumb-item"},[e.createElementVNode("a",{href:"javascript:;"},"Catgeories")]),e.createElementVNode("li",{class:"breadcrumb-item active","aria-current":"page"},[e.createElementVNode("span",null,"Edit Category")])])])])])],-1))])),e.createElementVNode("div",M,[e.createElementVNode("div",P,[e.createElementVNode("div",U,[e.createElementVNode("div",T,[t[10]||(t[10]=e.createElementVNode("div",{class:"panel-heading pb-0"},[e.createElementVNode("div",{class:"row"},[e.createElementVNode("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e.createElementVNode("h3",null,[e.createElementVNode("b",null,"Edit Category")])])])],-1)),e.createElementVNode("div",j,[e.createElementVNode("form",{onSubmit:e.withModifiers(x,["prevent"])},[e.createElementVNode("div",O,[t[5]||(t[5]=e.createElementVNode("label",{for:"post-name"},"Category Name",-1)),e.withDirectives(e.createElementVNode("input",{id:"post-name","onUpdate:modelValue":t[0]||(t[0]=o=>l.name=o),type:"text",class:"form-control",placeholder:"Enter Category Name ..."},null,512),[[e.vModelText,l.name]]),e.createElementVNode("div",R,e.toDisplayString(e.unref(r).name),1),e.createElementVNode("div",z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((m=e.unref(a))==null?void 0:m.name,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])]),e.createElementVNode("div",A,[t[6]||(t[6]=e.createElementVNode("label",{for:"post-category",class:"form-label"},"Category (Optional)",-1)),e.createVNode(D,{modelValue:l.parent_id,"onUpdate:modelValue":t[1]||(t[1]=o=>l.parent_id=o),options:e.unref(f),reduce:o=>o.id,searchable:!0,"preselect-first":!0,"track-by":"id",label:"parent_name_with_dashes",placeholder:"Choose Parent Category (Optional) ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e.createElementVNode("div",G,e.toDisplayString(e.unref(r).parent_id),1),e.createElementVNode("div",H,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((u=e.unref(a))==null?void 0:u.parent_id,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])]),e.createElementVNode("div",I,[t[7]||(t[7]=e.createElementVNode("label",{for:"post_description"},"Description",-1)),e.withDirectives(e.createElementVNode("textarea",{id:"post_description","onUpdate:modelValue":t[2]||(t[2]=o=>l.description=o),class:"form-control",placeholder:"Enter Description ..."},null,512),[[e.vModelText,l.description]]),e.createElementVNode("div",J,e.toDisplayString(e.unref(r).description),1),e.createElementVNode("div",K,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((p=e.unref(a))==null?void 0:p.description,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])]),e.createElementVNode("div",Q,[t[9]||(t[9]=e.createElementVNode("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e.createElementVNode("div",null,[e.withDirectives(e.createElementVNode("select",{id:"is_published","onUpdate:modelValue":t[3]||(t[3]=o=>l.is_published=o),class:"form-select"},t[8]||(t[8]=[e.createElementVNode("option",{selected:"",value:"1"}," Published ",-1),e.createElementVNode("option",{value:"0"}," Not Published ",-1)]),512),[[e.vModelSelect,l.is_published]])]),e.createElementVNode("div",W,e.toDisplayString(e.unref(r).is_published),1),e.createElementVNode("div",X,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((_=e.unref(a))==null?void 0:_.is_published,o=>(e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(o),1))),256))])]),e.createElementVNode("button",{disabled:e.unref(i),class:"btn btn-primary mt-3"},[e.withDirectives(e.createElementVNode("div",Z,null,512),[[e.vShow,e.unref(i)]]),e.unref(i)?(e.openBlock(),e.createElementBlock("span",$,"Processing...")):(e.openBlock(),e.createElementBlock("span",ee,"Update"))],8,Y)],32)])])])])])])}}};export{ce as default};
