import{ad as y,ae as M,af as g,U as D,q as P,s as U,o as i,c as a,P as N,a as e,ar as j,Q as G,m as _,Y as T,t as u,Z as s,F as b,g as v,h,l as B,am as Z,v as A,ag as X,ah as O}from"./app-setting.fcc8ce06.js";/* empty css                     *//* empty css                        *//* empty css                                     */import{F as x}from"./file-upload-with-preview.esm.fbf56fa2.js";import{s as Q}from"./vue-multiselect.esm.9565728d.js";import{q as R}from"./vue3-quill.c46b1ced.js";import{u as W}from"./blogs.1fe8e853.js";import{u as Y}from"./blogCategories.9d3a2e7e.js";import"./_commonjsHelpers.f037b798.js";import"./Modal.e511066c.js";const z={class:"container"},H={class:"container"},J={class:"row"},K={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},$={class:"statbox panel box box-shadow"},ee={class:"panel-body"},le={class:"row"},te={class:"form-group col-md-12"},se={class:"text-danger mt-1"},oe={class:"text-danger mt-1"},ie={class:"form-group"},ae={class:"text-danger mt-1"},ne={class:"text-danger mt-1"},re={class:"form-group"},de={class:"custom-file-container","data-upload-id":"myFirstImage"},ue={class:"custom-file-container__custom-file",for:"main_image"},me={class:"custom-file-container","data-upload-id":"myBlogGallery"},ce={class:"custom-file-container__custom-file",for:"blog_gallery"},pe={type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",ref:"blog_gallery",multiple:"",id:"blog_gallery"},ge={class:"form-group col-md-4"},_e={class:"text-danger mt-1"},be={class:"text-danger mt-1"},ve=["disabled"],fe={class:""},ye={key:0},he={key:1},Pe={__name:"create",setup(Be){y("required",X),y("min",O);const w={name:"required|min:3",content:"required",is_published:"required"},{validate:I,errors:m}=M({validationSchema:w}),{value:E}=g("name",null,{initialValue:""}),{value:C}=g("content",null,{initialValue:""}),{value:S}=g("is_published",null,{initialValue:""}),{storeBlog:q,validationErrors:c,isLoading:p,getBlogList:xe,blogList:we}=W(),{getBlogCategoryList:F,blogCategoryList:V}=Y(),o=D({name:E,categories:"",content:C,is_published:S,main_image:"",blog_gallery:"",document:""}),L=P({modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"]],clipboard:{matchers:[["img",()=>!1]]}}});function k(){I().then(r=>{if(r.valid){const n=document.getElementById("blog_gallery").files;q(o,n)}})}return U(()=>{F(),new x("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}}),new x("myBlogGallery",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}});const r=document.querySelector(".ql-editor");r&&(r.addEventListener("drop",l=>{l.preventDefault()}),r.addEventListener("paste",l=>{if(l.clipboardData&&l.clipboardData.items){const n=l.clipboardData.items;for(let d=0;d<n.length;d++)if(n[d].type.indexOf("image")!==-1){l.preventDefault();return}}}))}),(r,l)=>{var n,d,f;return i(),a("div",z,[(i(),N(j,{to:"#breadcrumb"},[l[5]||(l[5]=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Blogs")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Create Blog")])])])])])],-1))])),e("div",H,[e("div",J,[e("div",K,[e("div",$,[l[19]||(l[19]=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Create Blog")])])])],-1)),e("div",ee,[e("form",{onSubmit:G(k,["prevent"])},[e("div",le,[e("div",te,[l[6]||(l[6]=e("label",{for:"post-name"},"Blog Name",-1)),_(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>o.name=t),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Blog Name ..."},null,512),[[T,o.name]]),e("div",se,u(s(m).name),1),e("div",oe,[(i(!0),a(b,null,v((n=s(c))==null?void 0:n.name,t=>(i(),a("div",null,u(t),1))),256))])]),e("div",ie,[l[7]||(l[7]=e("label",{for:"post-category",class:"form-label"},"Select Blog Category",-1)),h(s(Q),{modelValue:o.categories,"onUpdate:modelValue":l[1]||(l[1]=t=>o.categories=t),options:s(V),reduce:t=>t.id,multiple:!0,taggable:!0,searchable:!0,"preselect-first":!0,"track-by":"id",label:"name",placeholder:"Choose Blog Category ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",ae,u(s(m).categories),1),e("div",ne,[(i(!0),a(b,null,v((d=s(c))==null?void 0:d.categories,t=>(i(),a("div",null,u(t),1))),256))])]),e("div",re,[l[8]||(l[8]=e("label",{for:"post-content"},"Blog Content",-1)),h(s(R),{value:o.content,"onUpdate:value":l[2]||(l[2]=t=>o.content=t),options:L.value,placeholder:"Enter Blog Content ..."},null,8,["value","options"])]),e("div",de,[l[11]||(l[11]=e("label",null,[B("Upload Main Blog Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",ue,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:l[3]||(l[3]=t=>o.main_image=t.target.files[0]),id:"main_image"},null,32),l[9]||(l[9]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),l[10]||(l[10]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),l[12]||(l[12]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",me,[l[15]||(l[15]=e("label",null,[B("Blog Gallery (multiple images allowed) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",ce,[e("input",pe,null,512),l[13]||(l[13]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),l[14]||(l[14]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),l[16]||(l[16]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",ge,[l[18]||(l[18]=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e("div",null,[_(e("select",{"onUpdate:modelValue":l[4]||(l[4]=t=>o.is_published=t),id:"is_published",class:"form-select"},l[17]||(l[17]=[e("option",{value:""}," Select Publishing Status ... ",-1),e("option",{selected:"",value:"1"}," Published ",-1),e("option",{value:"0"}," Not Published ",-1)]),512),[[Z,o.is_published]])]),e("div",_e,u(s(m).is_published),1),e("div",be,[(i(!0),a(b,null,v((f=s(c))==null?void 0:f.is_published,t=>(i(),a("div",null,u(t),1))),256))])])]),e("button",{disabled:s(p),class:"btn btn-primary mt-3"},[_(e("div",fe,null,512),[[A,s(p)]]),s(p)?(i(),a("span",ye,"Processing...")):(i(),a("span",he,"Save"))],8,ve)],32)])])])])])])}}};export{Pe as default};
