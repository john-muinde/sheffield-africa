import{bn as M,c8 as E,cd as L,z as o,o as R,w as S,W as T,bx as V,C as $,bo as n,bp as r,bq as a,j as _,bC as m,S as k,by as w,ce as z,B as G,X as J,bv as g,bt as U,J as j,bw as F}from"./app-setting.bb893eb3.js";import{D as O}from"./DynamicFilters.1776855d.js";import"./_commonjsHelpers.f037b798.js";const q={class:"main"},W={class:"page-content"},X={class:"container"},A={class:"row"},H={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},K={class:"row mt-2"},Q={class:"entry entry-mask"},Y={class:"entry-media entry-gallery"},Z=["src"],ee={class:"entry-body"},ae={class:"entry-title"},te={class:"entry-cats mt-1"},se={style:{"background-color":"#c02434",padding:"5px"}},le={class:"col-lg-12 mt-3"},oe={"aria-label":"Page navigation"},ne={class:"pagination justify-content-center"},re=["onClick"],ie={__name:"Media_Gallery",setup(ce){const i=E(),P=L(),c=o(i.params.page?parseInt(i.params.page):1);o(12);const x=o(0),d=o([]),u=o(i.params.id?parseInt(i.params.id):1),y=o([]),C=o([]),v=o({}),I=o(["CSR","EVENT","PROJECT"]),h=async(t=null)=>{typeof t=="string"&&t.includes("http")&&(t=t.split("/api/").pop());try{const e=(await z.get(t||"/api/get-media-center-galleries",{params:{page:c.value,category_id:u.value,gallery_type:C.value}})).data;d.value=e.data,x.value=e.total,v.value={next_page_url:e.next_page_url,prev_page_url:e.prev_page_url,links:e.links},p(d.value)}catch(s){console.error(s)}},f=(t,s)=>{let e=s.replace(/ /g,"-").replace(/\//g,"-");return e=e.replace(/-+/g,"-"),e=e.replace(/^-+|-+$/g,""),e=e.toLowerCase(),`/media/gallery/${t}/${e}`},N=t=>{if(t){const e=new URLSearchParams(t.split("?")[1]).get("page");e&&(c.value=parseInt(e),P.push(`/media/gallery/page/${c.value}`))}},p=t=>{y.value=t},D=({filteredData:t,selectedFilters:s})=>{p(t),s.value=s};return R(()=>{h()}),S(d,p),T(()=>{const t=i.params,s=t.id?parseInt(t.id):1,e=t.page?parseInt(t.page):1;(u.value!==s||c.value!==e)&&(u.value=s,c.value=e,h())}),(t,s)=>{var b;const e=V("router-link"),B=$("lazy");return n(),r("div",null,[a("main",q,[a("div",W,[a("div",X,[a("div",A,[a("div",H,[s[2]||(s[2]=a("h2",{class:"about-us-title"},"Gallery",-1)),_(e,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:m(()=>s[0]||(s[0]=[a("i",{class:"icon-long-arrow-left"},null,-1),a("span",null,"Back to Media Center",-1)])),_:1}),s[3]||(s[3]=a("p",{class:"lead about-us-lead text-primary mb-3"},"Journey Through the Lens: Our Story in Pictures",-1)),_(O,{items:d.value,"filter-column":"gallery_type","onUpdate:displayedProducts":D,filters:I.value},null,8,["items","filters"]),a("div",K,[(n(!0),r(k,null,w(y.value,l=>(n(),r("div",{class:"entry-item col-sm-6 col-lg-4",key:l.id},[a("article",Q,[a("figure",Y,[_(e,{to:f(l.id,l.name)},{default:m(()=>[G(a("img",{src:"/storage/"+l.main_image_path,alt:"image desc"},null,8,Z),[[B,"/storage/"+l.main_image_path,"src"]])]),_:2},1032,["to"])]),a("div",ee,[s[1]||(s[1]=a("div",{class:"entry-meta"},[a("span",{class:"meta-separator"},"|")],-1)),a("h2",ae,[_(e,{to:f(l.id,l.name)},{default:m(()=>[J(g(l.name),1)]),_:2},1032,["to"])]),a("div",te,[a("b",se,g(l.gallery_type),1)])])])]))),128)),a("div",le,[a("nav",oe,[a("ul",ne,[(n(!0),r(k,null,w((b=v.value)==null?void 0:b.links,(l,de)=>(n(),r("li",{class:U(["page-item",{active:l.active}]),key:l.label},[l.url&&Number.isInteger(Number(l.label))?(n(),r("a",{key:0,class:"page-link",onClick:j(_e=>N(l.url),["prevent"])},g(l.label),9,re)):F("",!0)],2))),128))])])])])])])])])])])}}},ge=M(ie,[["__scopeId","data-v-a7189194"]]);export{ge as default};
