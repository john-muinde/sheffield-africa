import{x as d,a7 as v,a8 as w,ah as r}from"./app-setting.fefad6ec.js";function I(){const g=d([]),m=d([]),h=d({name:"",parent_id:"",description:"",is_published:""}),p=v(),l=d({}),a=d(!1),n=w("$swal"),f=async(e=1,s="",o="",c="",u="",t="created_at",i="desc")=>{r.get("/api/solutions?page="+e+"&search_id="+s+"&search_title="+o+"&search_parent_id="+c+"&search_global="+u+"&order_column="+t+"&order_direction="+i).then(y=>{g.value=y.data})};return{solutionList:m,solutions:g,solution:h,getSolutions:f,getSolutionList:async()=>{r.get("/api/solution-list").then(e=>{m.value=e.data.data})},getSolution:async e=>{r.get("/api/solutions/"+e).then(s=>{h.value=s.data.data})},storeSolution:async(e,s)=>{if(a.value)return;console.log(e),a.value=!0,l.value={};let o=new FormData;const c=e.categories.map(t=>t.id);o.append("categories",c);for(let t in e)e.hasOwnProperty(t)&&e.hasOwnProperty(t)&&t!=="categories"&&o.append(t,e[t]);const u={headers:{"content-type":"multipart/form-data"}};r.post("/api/solutions",o,u).then(t=>{p.push({name:"solutions.create"}),e.name=null,e.solution_category=null,e.description=null,e.is_published=null,e.main_image=null,n({icon:"success",title:"Solution saved successfully"})}).catch(t=>{var i;(i=t.response)!=null&&i.data&&(l.value=t.response.data.errors)}).finally(()=>a.value=!1)},updateSolution:async(e,s)=>{if(a.value)return;a.value=!0,l.value={};let o=new FormData;const c=e.categories.map(t=>t.id);o.append("categories",c);for(let t in e)e.hasOwnProperty(t)&&e.hasOwnProperty(t)&&t!=="categories"&&o.append(t,e[t]);const u={headers:{"Content-Type":"multipart/form-data"}};o.append("_method","put"),console.log(o),await r.post("/api/solutions/"+e.id,o,u).then(t=>{p.push({name:"solutions.index"}),n({icon:"success",title:"Solution updated successfully"})}).catch(t=>{var i;(i=t.response)!=null&&i.data&&(l.value=t.response.data.errors)}).finally(()=>a.value=!1)},deleteSolution:async e=>{n({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(s=>{s.isConfirmed&&r.delete("/api/solutions/"+e).then(o=>{f(),p.push({name:"solutions.index"}),n({icon:"success",title:"Solution deleted successfully"})}).catch(o=>{n({icon:"error",title:"Something went wrong"})})})},deleteSolutionImage:async e=>{n({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(s=>{s.isConfirmed&&r.delete("/api/solution-images/"+e).then(o=>{f(),p.go(0),n({icon:"success",title:"Image deleted successfully"})}).catch(o=>{n({icon:"error",title:"Something went wrong"})})})},validationErrors:l,isLoading:a}}export{I as u};
