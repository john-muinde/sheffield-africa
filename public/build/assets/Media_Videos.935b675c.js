import{bn as w,z as i,o as x,bx as V,bo as d,bp as r,bq as e,j as B,bC as C,bw as E,S as M,by as S,ca as N,y as P,bv as y}from"./app-setting.d19a6685.js";import"./_commonjsHelpers.f037b798.js";const q={class:"main"},L={class:"page-content"},U={class:"container"},$={class:"row"},F={class:"col-lg-10 offset-lg-1 media-video"},I={class:"row"},T={class:"col-lg-9 video-content-container"},j={class:"video-player"},z=["src"],A={class:"col-lg-3 video-player-list"},D={class:"widget widget-cats"},R={class:"ul-pdf-view-videos"},Y={class:"play-button"},G=["for","onClick"],H=["id"],J={__name:"Media_Videos",setup(K){const n=i([]),s=i(null),u=i(!1),_=i(""),b=async()=>{try{const t=await N.get("/api/get-media-center-videos");n.value=t.data.videos,m()}catch(t){console.error(t)}},f=t=>t?t.type==="Upload"?`/storage/${t.file_path}`:`https://www.youtube.com/embed/${t.video_url.split("/").pop()}`:"",m=()=>{P(()=>{if(n.value.length>0&&s.value){const t=f(n.value[0]);s.value.src=t,s.value.muted=!0,s.value.play(),t.includes("youtube.com")?(u.value=!0,_.value=t+"?autoplay=1"):u.value=!1}})};x(()=>{b()});const h=window.location.origin,k=t=>s.value.src!==t||s.value.paused,g=(t,o,p=!0)=>{document.querySelectorAll(".play-button").forEach(l=>{const v=l.querySelector(".checkbox-play");v&&(v.checked=!1)});let c=p?h+t:t;if(s.value.src===c)if(k(c)){s.value.play();const l=document.getElementById(o);l&&(l.checked=!1)}else{s.value.pause();const l=document.getElementById(o);l&&(l.checked=!0)}else{s.value.src=c,s.value.play();const l=document.getElementById(o);l&&(l.checked=!1)}};return(t,o)=>{const p=V("router-link");return d(),r("div",null,[e("main",q,[e("div",L,[e("div",U,[e("div",$,[e("div",F,[o[3]||(o[3]=e("h2",{class:"about-us-title"},"Videos",-1)),B(p,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:C(()=>o[0]||(o[0]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),o[4]||(o[4]=e("p",{class:"lead about-us-lead text-primary mb-3"},"Explore our videos",-1)),e("div",I,[e("div",T,[e("div",j,[e("video",{controls:"",ref_key:"videoPlayer",ref:s,loop:"",muted:""},null,512),u.value?(d(),r("iframe",{key:0,src:_.value,frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,z)):E("",!0)])]),e("aside",A,[e("div",D,[o[2]||(o[2]=e("h3",{class:"widget-title"},[e("b",null,"Video List")],-1)),e("ul",R,[(d(!0),r(M,null,S(n.value,a=>(d(),r("li",{key:a.id},[e("div",Y,[e("label",{for:"checkbox"+a.id,class:"label-play",onClick:c=>g(f(a),"checkbox"+a.id,a.type=="Upload"),ref_for:!0,ref:"videoCheckBox"},o[1]||(o[1]=[e("div",{class:"play_pause_icon play"},null,-1)]),8,G),e("input",{class:"checkbox-play",type:"checkbox",id:"checkbox"+a.id},null,8,H)]),e("span",null,y(a.name)+" ("+y(a.type)+")",1)]))),128))])])])])])])])])])])}}},W=w(J,[["__scopeId","data-v-5fe4afec"]]);export{W as default};
