import{ab as B,ac as ce,ad as d,P as pe,s as _e,a3 as ge,u as ve,a4 as N,o as s,c as n,a0 as fe,a as e,ap as be,T as he,p as _,U as g,t as a,W as o,F as u,g as m,i as f,m as k,ak as ye,v as xe,d as we,ae as ke,af as Ve}from"./app-setting.a15bb3e9.js";import{u as Pe}from"./products.28786ee9.js";import{u as Ee}from"./categories.d1a6ec17.js";import{u as Ie}from"./brands.3150788c.js";/* empty css                                     */import{F as h}from"./file-upload-with-preview.esm.fbf56fa2.js";import{M as j}from"./vue3-multiselect.umd.min.3c43004a.js";/* empty css                         */import{q as y}from"./vue3-quill.d3c7a2d2.js";import"./_commonjsHelpers.f037b798.js";const Ue={class:"container"},Se={class:"container"},qe={class:"row"},Ce={id:"",class:"col-lg-12 layout-spacing layout-top-spacing"},Fe={class:"statbox panel box box-shadow"},De={class:"panel-body"},Le={class:"row"},Me={class:"form-group col-md-8"},Te={class:"text-danger mt-1"},Be={class:"text-danger mt-1"},Ne={class:"form-group col-md-4"},je={class:"text-danger mt-1"},We={class:"text-danger mt-1"},Ke={class:"form-group col-md-4"},Ge={class:"text-danger mt-1"},Re={class:"text-danger mt-1"},Ae={class:"form-group col-md-4"},Xe={class:"text-danger mt-1"},Ze={class:"text-danger mt-1"},He={class:"form-group col-md-4"},Oe={class:"text-danger mt-1"},Qe={class:"text-danger mt-1"},ze={class:"form-group col-md-4"},$e={class:"text-danger mt-1"},Je={class:"text-danger mt-1"},Ye={class:"form-group col-md-4"},et={class:"text-danger mt-1"},tt={class:"text-danger mt-1"},lt={class:"form-group col-md-4"},it={class:"text-danger mt-1"},ot={class:"text-danger mt-1"},st={class:"form-group"},nt={class:"text-danger mt-1"},at={class:"text-danger mt-1"},rt={class:"form-group col-md-4"},dt={class:"text-danger mt-1"},ut={class:"text-danger mt-1"},mt={class:"form-group col-md-4"},ct={class:"text-danger mt-1"},pt={class:"text-danger mt-1"},_t={class:"form-group col-md-4"},gt={class:"text-danger mt-1"},vt={class:"text-danger mt-1"},ft={class:"form-group"},bt={class:"form-group"},ht={class:"form-group"},yt={class:"form-group"},xt={class:"custom-file-container","data-upload-id":"myFirstImage"},wt={class:"custom-file-container__custom-file",for:"main_image"},kt={class:"custom-file-container","data-upload-id":"myProductGallery"},Vt={class:"custom-file-container__custom-file",for:"product_gallery"},Pt={type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",ref:"product_gallery",multiple:"",id:"product_gallery"},Et={class:"custom-file-container__image-preview"},It=["onClick"],Ut={class:"custom-file-container","data-upload-id":"myDocument"},St={class:"custom-file-container__custom-file",for:"document"},qt={class:"form-group col-md-4"},Ct={class:"text-danger mt-1"},Ft={class:"text-danger mt-1"},Dt=["disabled"],Lt={class:""},Mt={key:0},Tt={key:1},Jt={__name:"edit",setup(Bt){B("required",ke),B("min",Ve);const W={name:"required|min:3",brand:"required",short_description:"required",description:"required|min:3",is_published:"required"},{validate:K,errors:c,resetForm:Nt}=ce({validationSchema:W}),{product:r,getProduct:G,updateProduct:V,validationErrors:p,isLoading:x,getProductList:jt,productList:Wt,deleteProductImage:R}=Pe(),{getCategoryList:A,categoryList:X}=Ee(),{getBrandList:Z,brandList:H}=Ie(),{value:O}=d("name",null,{initialValue:""}),{value:Q}=d("brand",null,{initialValue:r.value.brand_json}),{value:z}=d("model_number",null,{initialValue:""}),{value:$}=d("sku",null,{initialValue:""}),{value:J}=d("quantity",null,{initialValue:""}),{value:Y}=d("cost_price",null,{initialValue:""}),{value:ee}=d("retail_price",null,{initialValue:""}),{value:te}=d("weight",null,{initialValue:""}),{value:le}=d("length",null,{initialValue:""}),{value:ie}=d("width",null,{initialValue:""}),{value:oe}=d("height",null,{initialValue:""}),{value:se}=d("short_description",null,{initialValue:""}),{value:ne}=d("description",null,{initialValue:""}),{value:ae}=d("technical_specification",null,{initialValue:""}),{value:re}=d("terms_of_operation",null,{initialValue:""}),{value:de}=d("is_published",null,{initialValue:""}),i=pe({name:O,brand:Q,model_number:z,sku:$,quantity:J,cost_price:Y,retail_price:ee,weight:te,categories:"",length:le,width:ie,height:oe,short_description:se,description:ne,technical_specification:ae,terms_of_operation:re,is_published:de,main_image:"",product_gallery:"",document:""}),b=_e({modules:{}}),ue=ge();function me(){K().then(w=>{if(w.valid){i.brand&&i.brand.id?i.brand=i.brand.id:i.brand=null;const v=document.getElementById("product_gallery").files;v.length>0?V(i,v):V(i,[])}})}return ve(()=>{A(),Z(),G(ue.params.id),N(()=>{if(r.value&&r.value.main_image_path){const v={images:{baseImage:"/storage/"+r.value.main_image_path,backgroundImage:""}};new h("myFirstImage",v)}else new h("myFirstImage",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),new h("myDocument",{images:{baseImage:"/assets/images/file-preview-pdf.png",backgroundImage:""}}),new h("myProductGallery",{images:{baseImage:"/assets/images/file-preview.png",backgroundImage:""}})}),N(()=>{i.id=r.value.id,i.name=r.value.name,i.brand=r.value.brand_json,i.model_number=r.value.model_number,i.sku=r.value.sku,i.quantity=r.value.quantity,i.cost_price=r.value.cost_price,i.retail_price=r.value.retail_price,i.weight=r.value.weight,i.categories=r.value.categories_json,i.length=r.value.length,i.width=r.value.width,i.height=r.value.height,i.short_description=r.value.short_description,i.description=r.value.description,i.technical_specification=r.value.technical_specification,i.terms_of_operation=r.value.terms_of_operation,i.is_published=r.value.is_published,i.product_images=r.value.product_images,console.log(r.value)}),(w,t)=>{var v,P,E,I,U,S,q,C,F,D,L,M,T;return s(),n("div",Ue,[(s(),fe(be,{to:"#breadcrumb"},[t[19]||(t[19]=e("ul",{class:"navbar-nav flex-row"},[e("li",null,[e("div",{class:"page-header"},[e("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"Products")]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",null,"Edit Product")])])])])])],-1))])),e("div",Se,[e("div",qe,[e("div",Ce,[e("div",Fe,[t[53]||(t[53]=e("div",{class:"panel-heading pb-0"},[e("div",{class:"row"},[e("div",{class:"col-xl-12 col-md-12 col-sm-12 col-12"},[e("h3",null,[e("b",null,"Edit Product")])])])],-1)),e("div",De,[e("form",{onSubmit:he(me,["prevent"])},[e("div",Le,[e("div",Me,[t[20]||(t[20]=e("label",{for:"post-name"},"Product Name",-1)),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>i.name=l),id:"post-name",type:"text",class:"form-control",placeholder:"Enter Product Name ..."},null,512),[[g,i.name]]),e("div",Te,a(o(c).name),1),e("div",Be,[(s(!0),n(u,null,m((v=o(p))==null?void 0:v.name,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",Ne,[t[21]||(t[21]=e("label",{for:"post-name"},"Make",-1)),f(o(j),{modelValue:i.brand,"onUpdate:modelValue":t[1]||(t[1]=l=>i.brand=l),options:o(H),reduce:l=>l.id,searchable:!0,"preselect-first":!0,"track-by":"name",label:"name",placeholder:"Choose Brand ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",je,a(o(c).brand),1),e("div",We,[(s(!0),n(u,null,m((P=o(p))==null?void 0:P.brand,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",Ke,[t[22]||(t[22]=e("label",{for:"post-name"},"Model Number",-1)),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>i.model_number=l),id:"post-brand",type:"text",class:"form-control",placeholder:"Enter Model Number ..."},null,512),[[g,i.model_number]]),e("div",Ge,a(o(c).model_number),1),e("div",Re,[(s(!0),n(u,null,m((E=o(p))==null?void 0:E.model_number,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",Ae,[t[23]||(t[23]=e("label",{for:"post-name"},"SKU",-1)),_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>i.sku=l),id:"post-sku",type:"text",class:"form-control",placeholder:"Enter SKU ..."},null,512),[[g,i.sku]]),e("div",Xe,a(o(c).sku),1),e("div",Ze,[(s(!0),n(u,null,m((I=o(p))==null?void 0:I.sku,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",He,[t[24]||(t[24]=e("label",{for:"post-name"},"Quantity",-1)),_(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>i.quantity=l),id:"post-quantity",type:"text",class:"form-control",placeholder:"Enter Quantity ..."},null,512),[[g,i.quantity]]),e("div",Oe,a(o(c).quantity),1),e("div",Qe,[(s(!0),n(u,null,m((U=o(p))==null?void 0:U.quantity,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",ze,[t[25]||(t[25]=e("label",{for:"post-name"},"Cost Price (USD KES ?)",-1)),_(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.cost_price=l),id:"post-cost_price",type:"text",class:"form-control",placeholder:"Enter Cost Price ..."},null,512),[[g,i.cost_price]]),e("div",$e,a(o(c).cost_price),1),e("div",Je,[(s(!0),n(u,null,m((S=o(p))==null?void 0:S.cost_price,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",Ye,[t[26]||(t[26]=e("label",{for:"post-name"},"Retail Price (USD KES ?)",-1)),_(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>i.retail_price=l),id:"post-retail_price",type:"text",class:"form-control",placeholder:"Enter Retail Price ..."},null,512),[[g,i.retail_price]]),e("div",et,a(o(c).retail_price),1),e("div",tt,[(s(!0),n(u,null,m((q=o(p))==null?void 0:q.retail_price,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",lt,[t[27]||(t[27]=e("label",{for:"post-name"},"Weight (KGs)",-1)),_(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>i.weight=l),id:"post-weight",type:"text",class:"form-control",placeholder:"Enter Weight ..."},null,512),[[g,i.weight]]),e("div",it,a(o(c).weight),1),e("div",ot,[(s(!0),n(u,null,m((C=o(p))==null?void 0:C.weight,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",st,[t[28]||(t[28]=e("label",{for:"post-category",class:"form-label"},"Select Product Category",-1)),f(o(j),{modelValue:i.categories,"onUpdate:modelValue":t[8]||(t[8]=l=>i.categories=l),options:o(X),reduce:l=>l.id,multiple:!0,taggable:!0,searchable:!0,"preselect-first":!0,"track-by":"id",label:"parent_name_with_dashes",placeholder:"Choose Product Category ...","selected-label":"","select-label":"","deselect-label":""},null,8,["modelValue","options","reduce"]),e("div",nt,a(o(c).categories),1),e("div",at,[(s(!0),n(u,null,m((F=o(p))==null?void 0:F.categories,l=>(s(),n("div",{key:l},a(l),1))),128))])]),t[51]||(t[51]=e("h4",null,"Dimensions",-1)),t[52]||(t[52]=e("hr",{class:"bg-dark"},null,-1)),e("div",rt,[t[29]||(t[29]=e("label",{for:"post-name"},"Length (mm)",-1)),_(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>i.length=l),id:"post-length",type:"text",class:"form-control",placeholder:"Enter Length (mm) ..."},null,512),[[g,i.length]]),e("div",dt,a(o(c).length),1),e("div",ut,[(s(!0),n(u,null,m((D=o(p))==null?void 0:D.length,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",mt,[t[30]||(t[30]=e("label",{for:"post-name"},"Height (mm)",-1)),_(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>i.height=l),id:"post-height",type:"text",class:"form-control",placeholder:"Enter Height (mm) ..."},null,512),[[g,i.height]]),e("div",ct,a(o(c).height),1),e("div",pt,[(s(!0),n(u,null,m((L=o(p))==null?void 0:L.height,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",_t,[t[31]||(t[31]=e("label",{for:"post-name"},"Width (mm)",-1)),_(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>i.width=l),id:"post-width",type:"text",class:"form-control",placeholder:"Enter Width (mm) ..."},null,512),[[g,i.width]]),e("div",gt,a(o(c).width),1),e("div",vt,[(s(!0),n(u,null,m((M=o(p))==null?void 0:M.width,l=>(s(),n("div",{key:l},a(l),1))),128))])]),e("div",ft,[t[32]||(t[32]=e("label",{for:"short_description"},"Short Product Description",-1)),f(o(y),{value:i.short_description,"onUpdate:value":t[12]||(t[12]=l=>i.short_description=l),id:"short_description",options:b.value,placeholder:"Enter Short Description ..."},null,8,["value","options"])]),e("div",bt,[t[33]||(t[33]=e("label",{for:"post_description"},"Product Description",-1)),f(o(y),{value:i.description,"onUpdate:value":t[13]||(t[13]=l=>i.description=l),options:b.value,placeholder:"Enter Description ..."},null,8,["value","options"])]),e("div",ht,[t[34]||(t[34]=e("label",{for:"post_description"},"Technical Specification",-1)),f(o(y),{value:i.technical_specification,"onUpdate:value":t[14]||(t[14]=l=>i.technical_specification=l),options:b.value,placeholder:"Enter Technical Specification ..."},null,8,["value","options"])]),e("div",yt,[t[35]||(t[35]=e("label",{for:"post_description"},"Terms of Operation",-1)),f(o(y),{value:i.terms_of_operation,"onUpdate:value":t[15]||(t[15]=l=>i.terms_of_operation=l),options:b.value,placeholder:"Enter Terms of Operation ..."},null,8,["value","options"])]),e("div",xt,[t[38]||(t[38]=e("label",null,[k("Upload Main Product Image "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",wt,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:"image/*",onChange:t[16]||(t[16]=l=>i.main_image=l.target.files[0]),id:"main_image"},null,32),t[36]||(t[36]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[37]||(t[37]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[39]||(t[39]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",kt,[t[43]||(t[43]=e("label",null,[k("Product Gallery (multiple images allowed) "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),e("label",Vt,[e("input",Pt,null,512),t[40]||(t[40]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[41]||(t[41]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),e("div",Et,[(s(!0),n(u,null,m(i.product_images,l=>(s(),n("div",{key:l.id,class:"custom-file-container__image-multi-preview",style:we("background-image: url(/storage/"+l.name+")")},[e("span",{class:"custom-file-container__image-multi-preview__single-image-clear",onClick:Kt=>o(R)(l.id)},t[42]||(t[42]=[e("span",{class:"custom-file-container__image-multi-preview__single-image-clear__icon","data-upload-token":""},"\xD7",-1)]),8,It)],4))),128))])]),e("div",Ut,[t[46]||(t[46]=e("label",null,[k("Technical Specification Document "),e("a",{href:"javascript:void(0)",class:"custom-file-container__image-clear",title:"Clear Image"},"x")],-1)),t[47]||(t[47]=e("div",{class:"align-right"},[e("a",{href:"",class:"btn btn-info pull-right"},"View Uploaded File"),e("a",{href:"",class:"btn btn-primary pull-right"},"Delete Uploaded File")],-1)),e("label",St,[e("input",{type:"file",class:"custom-file-container__custom-file__custom-file-input",accept:".pdf,.doc,.docx",onChange:t[17]||(t[17]=l=>i.document=l.target.files[0]),id:"document"},null,32),t[44]||(t[44]=e("input",{type:"hidden",name:"MAX_FILE_SIZE",value:"10485760"},null,-1)),t[45]||(t[45]=e("span",{class:"custom-file-container__custom-file__custom-file-control"},null,-1))]),t[48]||(t[48]=e("div",{class:"custom-file-container__image-preview"},null,-1))]),e("div",qt,[t[50]||(t[50]=e("label",{for:"is_published",class:"col-form-label"},"Publishing Status",-1)),e("div",null,[_(e("select",{"onUpdate:modelValue":t[18]||(t[18]=l=>i.is_published=l),id:"is_published",class:"form-select"},t[49]||(t[49]=[e("option",{value:""}," Select Publishing Status ... ",-1),e("option",{selected:"",value:"1"}," Published ",-1),e("option",{value:"0"}," Not Published ",-1)]),512),[[ye,i.is_published]])]),e("div",Ct,a(o(c).is_published),1),e("div",Ft,[(s(!0),n(u,null,m((T=o(p))==null?void 0:T.is_published,l=>(s(),n("div",{key:l},a(l),1))),128))])])]),e("button",{disabled:o(x),class:"btn btn-primary mt-3"},[_(e("div",Lt,null,512),[[xe,o(x)]]),o(x)?(s(),n("span",Mt,"Processing...")):(s(),n("span",Tt,"Update"))],8,Dt)],32)])])])])])])}}};export{Jt as default};
