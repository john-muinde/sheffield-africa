import{bT as N,r as o,bU as V,c as f,o as I,w as D,bK as T,R as B,bB as p,bC as m,bD as s,e as d,bP as u,bI as g,Q as R,a7 as H,bL as O,ab as _}from"./index-0301681f.js";import{u as U}from"./use-meta-8445d875.js";import"./_commonjsHelpers-de833af9.js";const $={class:"main"},z={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},A={class:"container d-flex align-items-center"},E={class:"breadcrumb"},j={class:"breadcrumb-item"},F={class:"breadcrumb-item"},K={class:"breadcrumb-item active","aria-current":"page"},Q={class:"page-content"},Y={class:"container"},q={class:"row"},G={class:"col-lg-9"},J={class:"products mb-3"},W={class:"row"},X={class:"col-lg-12 col-md-12 mt-1"},Z={id:"accordion-1",class:"accordion",style:{width:"100%"}},ss={class:"card"},es={id:"heading-2",class:"card-header"},ts={class:"card-title"},as={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},os={class:"col-12 col-md-6 col-lg-6 col-xl-6 image-container"},ls={class:"card-body middle-section"},is=["innerHTML"],ns={class:"col-12 col-md-6 col-lg-4 col-xl-4 image-container laundry-image"},rs=["src"],cs={class:"col-lg-3 order-lg-first mt-2"},ds={class:"sidebar sidebar-shop sidebar-shop-solution"},us={class:"widget widget-cats widget-categories"},_s={class:"",style:{"border-bottom":"1px solid #ccc",padding:"10px"}},ps={class:"widget-body mt-5"},hs={__name:"LaundrySolution",setup(ms){const n=N();o(n);const c=o(n.params.page?parseInt(n.params.page):1),v=o(12),P=o(0),b=o([]);o(0);const h=o(n.params.id?parseInt(n.params.id):1);o([]),o([]),o([]);const i=o([]),y=o([]);V();const w=async()=>{try{const e=await axios.get("/api/get-solution-categories",{params:{solution_id:h.value}});i.value=e.data.data,y.value=e.data.data.product_categories_json,U({title:i.value.name+" | Laundry Solution"})}catch(e){console.error(e)}},L=o([]),C=async()=>{try{const e=await axios.get("/api/get-solution-category-products",{params:{solution_id:h.value,checkedCategoriesSolutions:checkedCategoriesSolutions.value}});L.value=e.data.products.data}catch(e){console.error(e)}},x=f(()=>Math.ceil(P.value/v.value)),k=o([]),M=(e,t)=>{let a=t.replace(/ /g,"-").replace(/\//g,"-");return a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),a=a.toLowerCase(),`/laundry/${e}/${a}`},S=()=>{k.value=b.value.slice(0,0+v.value)};return f(()=>{const e=[];c.value>1&&e.push("Prev");let a=Math.max(1,c.value-Math.floor(5/2)),r=Math.min(a+5-1,x.value);r-a<5-1&&(a=Math.max(1,r-5+1));for(let l=a;l<=r;l++)e.push(l);return c.value<x.value&&e.push("Next"),e}),I(()=>{w(),C()}),D(b,S),(e,t)=>{const a=T("router-link"),r=B("lazy");return p(),m("main",$,[s("nav",z,[s("div",A,[s("ol",E,[s("li",j,[d(a,{to:"/"},{default:u(()=>t[0]||(t[0]=[_(" HOME ")])),_:1})]),s("li",F,[d(a,{to:"/laundry"},{default:u(()=>t[1]||(t[1]=[_(" LAUNDRY ")])),_:1})]),s("li",K,g(i.value.name),1)])])]),s("div",Q,[s("div",Y,[s("div",q,[s("div",G,[s("div",J,[s("div",W,[s("div",X,[s("div",Z,[s("div",ss,[s("div",es,[s("h2",ts,[s("a",as,g(i.value.name)+" - SOLUTION ",1)])]),t[2]||(t[2]=s("div",{id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},null,-1))])])]),s("div",os,[s("div",ls,[s("span",{innerHTML:i.value.description},null,8,is)])]),s("div",ns,[R(s("img",{src:"/storage/"+i.value.main_image_path,alt:"Product image"},null,8,rs),[[r,"/storage/"+i.value.main_image_path,"src"]])])])])]),s("aside",cs,[s("div",ds,[s("div",us,[t[5]||(t[5]=s("h3",{class:"widget-title"}," Relevant Products ",-1)),t[6]||(t[6]=s("hr",null,null,-1)),(p(!0),m(H,null,O(y.value,l=>(p(),m("ul",{key:l.id},[s("li",_s,[d(a,{to:M(l.id,l.name,c.value-1)},{default:u(()=>[_(g(l.name),1),t[3]||(t[3]=s("span",null,">>",-1))]),_:2},1032,["to"])])]))),128)),s("div",ps,[d(a,{to:"/contact-us",class:"btn btn-secondary btn-block"},{default:u(()=>t[4]||(t[4]=[_(" Need Advise? ")])),_:1})])])])])])])])])}}};export{hs as default};
