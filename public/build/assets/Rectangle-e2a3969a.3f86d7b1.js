import{y as i,c as S}from"./tools-b40e92cf.4881bf31.js";import{d as h,l as s,w as v,q as f}from"./app-setting.c776bdbe.js";import"./_commonjsHelpers.f037b798.js";const B=h({name:"GmapsRectangle",props:{bounds:{type:Object,default:void 0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,default:void 0},visible:{type:Boolean,default:!0}},emits:{bounds_changed:t=>!0,click:t=>!0,contextmenu:t=>!0,dblclick:t=>!0,drag:t=>!0,dragend:t=>!0,dragstart:t=>!0,mounted:t=>!0,mousedown:t=>!0,mousemove:t=>!0,mouseout:t=>!0,mouseover:t=>!0,mouseup:t=>!0,rightclick:t=>!0,unmounted:t=>!0},setup(t,{emit:a}){const g=s("$getAPI"),m=s("$getMap"),b=s("$getThrottle"),p=s("$handleError"),L=l=>p(l,"Rectangle"),c=[];let o=null;const O=l=>{const d=google.maps.event,u=b();c.push(d.addListener(l,"bounds_changed",i(()=>{var n;return a("bounds_changed",((n=l.getBounds())==null?void 0:n.toJSON())||null)},u)),d.addListener(l,"drag",i(n=>{var e;return a("drag",((e=n.latLng)==null?void 0:e.toJSON())||null)},u)),d.addListener(l,"mousemove",i(n=>{var e;return a("mousemove",((e=n.latLng)==null?void 0:e.toJSON())||null)},u)),d.addListener(l,"mouseover",i(n=>{var e;return a("mouseover",((e=n.latLng)==null?void 0:e.toJSON())||null)},u)),d.addListener(l,"click",n=>{var e;return a("click",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"contextmenu",n=>{var e;return a("contextmenu",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dblclick",n=>{var e;return a("dblclick",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dragend",n=>{var e;return a("dragend",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"dragstart",n=>{var e;return a("dragstart",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mousedown",n=>{var e;return a("mousedown",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mouseout",n=>{var e;return a("mouseout",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"mouseup",n=>{var e;return a("mouseup",((e=n.latLng)==null?void 0:e.toJSON())||null)}),d.addListener(l,"rightclick",n=>{var e;return a("rightclick",((e=n.latLng)==null?void 0:e.toJSON())||null)}))},J=m(),N=g(),r={map:J,...t.options};return t.bounds&&(r.bounds=t.bounds),t.draggable&&(r.draggable=t.draggable),t.editable&&(r.editable=t.editable),t.visible&&(r.visible=t.visible),o=new N.Rectangle(r),o?(O(o),a("mounted",o)):L(new Error("There was a problem creating the shape.")),v(()=>t.bounds,l=>{var d;return l===void 0||S(l,(d=o==null?void 0:o.getBounds())==null?void 0:d.toJSON())?null:o==null?void 0:o.setBounds(l)},{deep:!0}),v(()=>t.draggable,l=>l===void 0||l==(o==null?void 0:o.getDraggable())?null:o==null?void 0:o.setDraggable(l)),v(()=>t.editable,l=>l===void 0||l==(o==null?void 0:o.getEditable())?null:o==null?void 0:o.setEditable(l)),v(()=>t.visible,l=>l===void 0||l==(o==null?void 0:o.getVisible())?null:o==null?void 0:o.setVisible(l)),f(()=>{o&&a("unmounted",o),c.forEach(l=>l.remove()),o&&o.setMap(null),o&&g().event.clearInstanceListeners(o)}),()=>{}}});export{B as default};
